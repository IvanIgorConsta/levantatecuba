import{r as n,j as e,L as m,V as u}from"./index-1606e3a6.js";const h={}.VITE_API_BASE_URL||"/api";function b(){const[t,o]=n.useState(""),[c,s]=n.useState(""),[a,r]=n.useState(!1),x=async i=>{if(i.preventDefault(),!(!t||a)){s(""),r(!0);try{const d=await fetch(`${h}/password/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),l=await d.json();if(!d.ok){s((l==null?void 0:l.error)||"Error al enviar la solicitud."),r(!1);return}u.success("Solicitud enviada correctamente."),o(""),s("Si el correo existe, recibirás instrucciones para restablecer tu contraseña.")}catch{s("No se pudo conectar con el servidor.")}finally{r(!1)}}};return e.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(m,{to:"/",className:"inline-flex items-center text-sm text-white/70 hover:text-white",children:[e.jsx("span",{className:"mr-2",children:"←"})," Volver al inicio"]})}),e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Restablecer contraseña"}),e.jsx("p",{className:"mx-auto mt-2 max-w-2xl text-sm text-white/70",children:"Ingresa tu correo y te enviaremos un enlace de recuperación."})]}),e.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg md:bg-white/10 md:backdrop-blur-md md:p-8",children:[c&&e.jsx("div",{className:"mb-4 rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-sm text-white",children:c}),e.jsxs("form",{onSubmit:x,className:"space-y-6",noValidate:!0,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:"Correo electrónico"}),e.jsx("input",{id:"email",type:"email",inputMode:"email",autoComplete:"email",placeholder:"tu@empresa.com",value:t,onChange:i=>o(i.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0})]}),e.jsxs("div",{className:"pt-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("button",{type:"submit",disabled:a||!t,className:"flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold text-white transition-all duration-200 hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",style:{WebkitAppearance:"none",backgroundColor:"#dc2626"},children:a?"Enviando…":"Enviar solicitud"}),e.jsxs("div",{className:"text-center text-sm text-white/70 sm:text-right",children:["¿Ya la recordaste?"," ",e.jsx(m,{to:"/login",className:"text-white hover:underline",children:"Inicia sesión"})]})]}),e.jsx("p",{className:"pt-4 text-center text-xs text-white/50",children:"Obligados al exilio… no hay abrazo que cierre lo que la dictadura parte."})]})]})]})})}export{b as default};

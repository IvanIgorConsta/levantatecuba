var hN=Object.defineProperty;var pN=(e,t,r)=>t in e?hN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Xr=(e,t,r)=>(pN(e,typeof t!="symbol"?t+"":t,r),r);import{j as o,m as Js,S as mN,a as mo,b as Rr,N as fl,M as gN,A as Tx,T as Jn,C as or,c as hl,X as Ut,D as vN,H as Cx,d as go,e as yN,E as Di,U as En,L as bN,f as $x,g as vo,h as no,i as Mc,k as Rd,l as Dd,F as Pi,P as Bd,n as xN,I as Wh,o as wN,p as Qn,q as jN,r as SN,s as NN,t as sn,R as Ix,u as ON,v as vr,w as Mx,x as Vh,y as ir,z as pm,B as Fd,G as jn,J as _N,K as EN,O as AN,Q as kN,V as PN,Z as mm,W as Vn,Y as $r,_ as TN,$ as CN,a0 as gm,a1 as $N,a2 as IN,a3 as MN,a4 as zN,a5 as LN,a6 as RN,a7 as vm,a8 as Qs,a9 as zx,aa as Lx,ab as ym,ac as DN,ad as BN}from"./ui-vendor-88c05a86.js";import{a as Rx,g as ze,R as G,r as P,u as Pr,L as xe,b as Dx,c as Gh,d as ar,e as Bx,f as qe,O as FN,h as Fx,N as js,B as qN}from"./react-vendor-8f999359.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qd={},bm=Rx;qd.createRoot=bm.createRoot,qd.hydrateRoot=bm.hydrateRoot;var UN=typeof Element<"u",HN=typeof Map=="function",WN=typeof Set=="function",VN=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function el(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!el(e[n],t[n]))return!1;return!0}var a;if(HN&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!el(n.value[1],t.get(n.value[0])))return!1;return!0}if(WN&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(VN&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(UN&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!el(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var GN=function(t,r){try{return el(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const KN=ze(GN);var YN=function(e,t,r,n,i,a,s,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,s,l],h=0;c=new Error(t.replace(/%s/g,function(){return u[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},XN=YN;const xm=ze(XN);var ZN=function(t,r,n,i){var a=n?n.call(i,t,r):void 0;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),u=0;u<s.length;u++){var h=s[u];if(!c(h))return!1;var d=t[h],f=r[h];if(a=n?n.call(i,d,f,h):void 0,a===!1||a===void 0&&d!==f)return!1}return!0};const JN=ze(ZN);var qx=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(qx||{}),Uu={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},wm=Object.values(qx),Kh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},QN=Object.entries(Kh).reduce((e,[t,r])=>(e[r]=t,e),{}),kr="data-rh",Ti={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ci=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},eO=e=>{let t=Ci(e,"title");const r=Ci(e,Ti.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Ci(e,Ti.DEFAULT_TITLE);return t||n||void 0},tO=e=>Ci(e,Ti.ON_CHANGE_CLIENT_STATE)||(()=>{}),Hu=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),rO=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const i=Object.keys(n);for(let a=0;a<i.length;a+=1){const l=i[a].toLowerCase();if(e.indexOf(l)!==-1&&n[l])return r.concat(n)}}return r},[]),nO=e=>console&&typeof console.warn=="function"&&console.warn(e),Pa=(e,t,r)=>{const n={};return r.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&nO(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,a)=>{const s={};a.filter(c=>{let u;const h=Object.keys(c);for(let f=0;f<h.length;f+=1){const p=h[f],g=p.toLowerCase();t.indexOf(g)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(g==="rel"&&c[g].toLowerCase()==="stylesheet")&&(u=g),t.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const d=c[u].toLowerCase();return n[u]||(n[u]={}),s[u]||(s[u]={}),n[u][d]?!1:(s[u][d]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(s);for(let c=0;c<l.length;c+=1){const u=l[c],h={...n[u],...s[u]};n[u]=h}return i},[]).reverse()},iO=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},aO=e=>({baseTag:rO(["href"],e),bodyAttributes:Hu("bodyAttributes",e),defer:Ci(e,Ti.DEFER),encode:Ci(e,Ti.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Hu("htmlAttributes",e),linkTags:Pa("link",["rel","href"],e),metaTags:Pa("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Pa("noscript",["innerHTML"],e),onChangeClientState:tO(e),scriptTags:Pa("script",["src","innerHTML"],e),styleTags:Pa("style",["cssText"],e),title:eO(e),titleAttributes:Hu("titleAttributes",e),prioritizeSeoTags:iO(e,Ti.PRIORITIZE_SEO_TAGS)}),Ux=e=>Array.isArray(e)?e.join(""):e,oO=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},Wu=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(oO(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},jm=(e,t)=>({...e,[t]:void 0}),sO=["noscript","script","style"],Ud=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Hx=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),lO=(e,t,r,n)=>{const i=Hx(r),a=Ux(t);return i?`<${e} ${kr}="true" ${i}>${Ud(a,n)}</${e}>`:`<${e} ${kr}="true">${Ud(a,n)}</${e}>`},cO=(e,t,r=!0)=>t.reduce((n,i)=>{const a=i,s=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,h)=>{const d=typeof a[h]>"u"?h:`${h}="${Ud(a[h],r)}"`;return u?`${u} ${d}`:d},""),l=a.innerHTML||a.cssText||"",c=sO.indexOf(e)===-1;return`${n}<${e} ${kr}="true" ${s}${c?"/>":`>${l}</${e}>`}`},""),Wx=(e,t={})=>Object.keys(e).reduce((r,n)=>{const i=Kh[n];return r[i||n]=e[n],r},t),uO=(e,t,r)=>{const n={key:t,[kr]:!0},i=Wx(r,n);return[G.createElement("title",i,t)]},tl=(e,t)=>t.map((r,n)=>{const i={key:n,[kr]:!0};return Object.keys(r).forEach(a=>{const l=Kh[a]||a;if(l==="innerHTML"||l==="cssText"){const c=r.innerHTML||r.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=r[a]}),G.createElement(e,i)}),hr=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>uO(e,t.title,t.titleAttributes),toString:()=>lO(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Wx(t),toString:()=>Hx(t)};default:return{toComponent:()=>tl(e,t),toString:()=>cO(e,t,r)}}},dO=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const i=Wu(e,Uu.meta),a=Wu(t,Uu.link),s=Wu(r,Uu.script);return{priorityMethods:{toComponent:()=>[...tl("meta",i.priority),...tl("link",a.priority),...tl("script",s.priority)],toString:()=>`${hr("meta",i.priority,n)} ${hr("link",a.priority,n)} ${hr("script",s.priority,n)}`},metaTags:i.default,linkTags:a.default,scriptTags:s.default}},fO=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:i,noscriptTags:a,styleTags:s,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:h,metaTags:d,scriptTags:f}=e,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:h,metaTags:d,scriptTags:f}=dO(e)),{priority:p,base:hr("base",t,n),bodyAttributes:hr("bodyAttributes",r,n),htmlAttributes:hr("htmlAttributes",i,n),link:hr("link",h,n),meta:hr("meta",d,n),noscript:hr("noscript",a,n),script:hr("script",f,n),style:hr("style",s,n),title:hr("title",{title:l,titleAttributes:c},n)}},Hd=fO,Ss=[],Vx=!!(typeof window<"u"&&window.document&&window.document.createElement),Wd=class{constructor(e,t){Xr(this,"instances",[]);Xr(this,"canUseDOM",Vx);Xr(this,"context");Xr(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Ss:this.instances,add:e=>{(this.canUseDOM?Ss:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Ss:this.instances).indexOf(e);(this.canUseDOM?Ss:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Hd({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},hO={},Gx=G.createContext(hO),Ri,Kx=(Ri=class extends P.Component{constructor(r){super(r);Xr(this,"helmetData");this.helmetData=new Wd(this.props.context||{},Ri.canUseDOM)}render(){return G.createElement(Gx.Provider,{value:this.helmetData.value},this.props.children)}},Xr(Ri,"canUseDOM",Vx),Ri),gi=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${kr}]`),i=[].slice.call(n),a=[];let s;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const h=u,d=typeof l[h]>"u"?"":l[h];c.setAttribute(u,d)}c.setAttribute(kr,"true"),i.some((u,h)=>(s=h,c.isEqualNode(u)))?i.splice(s,1):a.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),a.forEach(l=>r.appendChild(l)),{oldTags:i,newTags:a}},Vd=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(kr),i=n?n.split(","):[],a=[...i],s=Object.keys(t);for(const l of s){const c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const u=a.indexOf(l);u!==-1&&a.splice(u,1)}for(let l=a.length-1;l>=0;l-=1)r.removeAttribute(a[l]);i.length===a.length?r.removeAttribute(kr):r.getAttribute(kr)!==s.join(",")&&r.setAttribute(kr,s.join(","))},pO=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=Ux(e)),Vd("title",t)},Sm=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:i,linkTags:a,metaTags:s,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:h,title:d,titleAttributes:f}=e;Vd("body",n),Vd("html",i),pO(d,f);const p={baseTag:gi("base",r),linkTags:gi("link",a),metaTags:gi("meta",s),noscriptTags:gi("noscript",l),scriptTags:gi("script",u),styleTags:gi("style",h)},g={},m={};Object.keys(p).forEach(v=>{const{newTags:b,oldTags:y}=p[v];b.length&&(g[v]=b),y.length&&(m[v]=p[v].oldTags)}),t&&t(),c(e,g,m)},Ta=null,mO=e=>{Ta&&cancelAnimationFrame(Ta),e.defer?Ta=requestAnimationFrame(()=>{Sm(e,()=>{Ta=null})}):(Sm(e),Ta=null)},gO=mO,Nm=class extends P.Component{constructor(){super(...arguments);Xr(this,"rendered",!1)}shouldComponentUpdate(t){return!JN(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const i=aO(t.get().map(a=>{const s={...a.props};return delete s.context,s}));Kx.canUseDOM?gO(i):Hd&&(n=Hd(i)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ld,vO=(Ld=class extends P.Component{shouldComponentUpdate(e){return!KN(jm(this.props,"helmetData"),jm(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return xm(wm.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${wm.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),xm(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return G.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:i,...a}=n.props,s=Object.keys(a).reduce((c,u)=>(c[QN[u]||u]=a[u],c),{});let{type:l}=n;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(n,i),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,s,i);break;default:t=this.mapObjectTypeChildren(n,t,s,i);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof Wd)){const i=n;n=new Wd(i.context,!0),delete r.helmetData}return n?G.createElement(Nm,{...r,context:n.value}):G.createElement(Gx.Consumer,null,i=>G.createElement(Nm,{...r,context:i}))}},Xr(Ld,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ld);function yO(){const[e,t]=P.useState(null),[r,n]=P.useState(!1),i=Pr();P.useEffect(()=>{const u=()=>{const d=localStorage.getItem("token");if(!d){t(null);return}fetch("/api/auth/me",{headers:{Authorization:`Bearer ${d}`}}).then(async f=>{if(f.ok)return f.json();throw new Error(`HTTP ${f.status}`)}).then(f=>t(f)).catch(()=>t(null))};u();const h=()=>u();return window.addEventListener("storage",h),window.addEventListener("auth:changed",h),()=>{window.removeEventListener("storage",h),window.removeEventListener("auth:changed",h)}},[]);const a=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),t(null),window.dispatchEvent(new Event("auth:changed")),i("/")};let s;const l=()=>{clearTimeout(s),n(!0)},c=()=>{s=window.setTimeout(()=>n(!1),150)};return o.jsxs("header",{id:"app-header",className:"flex flex-wrap justify-between items-center px-4 md:px-6 py-3 md:py-4 bg-red-800 text-white shadow-md z-50 relative",children:[o.jsx(xe,{to:"/",className:"text-lg md:text-2xl font-extrabold tracking-tight hover:text-gray-200 transition",children:"Lev√°ntateCuba"}),o.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center relative mt-2 md:mt-0",children:e?o.jsxs("div",{className:"relative",onMouseEnter:l,onMouseLeave:c,children:[o.jsxs("button",{className:"inline-flex items-center gap-2 text-xs md:text-sm px-3 md:px-5 py-1.5 md:py-2 rounded-full bg-black/85 text-white border border-white/15 hover:border-white/30 hover:bg-black transition-colors duration-200 font-semibold shadow whitespace-nowrap focus:outline-none focus-visible:ring-2 focus-visible:ring-white/30",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(16,185,129,0.8)]"}),e.name.split(" ")[0]]}),r&&o.jsxs("div",{className:"absolute right-0 mt-2 z-50",children:[o.jsx("div",{className:"relative h-3",children:o.jsx("div",{className:"absolute right-6 top-0 h-3 w-3 rotate-45 bg-zinc-900/95 ring-1 ring-white/10"})}),o.jsxs("div",{className:`
                    relative w-48 
                    bg-zinc-900/95 text-white 
                    rounded-2xl shadow-2xl ring-1 ring-white/10 
                    backdrop-blur-md overflow-hidden
                    origin-top-right
                    transition
                    duration-150
                    ease-out
                    opacity-100 scale-100
                  `,children:[o.jsx("div",{className:"px-4 py-2 text-[11px] uppercase tracking-wider text-white/50",children:"Cuenta"}),o.jsxs("div",{className:"py-1",children:[(e.role==="admin"||e.role==="editor")&&o.jsx(xe,{to:"/admin",className:"block px-4 py-2 text-sm text-white/90 hover:bg-white/5 active:bg-white/10 transition",children:"üîß Panel Admin"}),o.jsx(xe,{to:"/perfil",className:"block px-4 py-2 text-sm text-white/90 hover:bg-white/5 active:bg-white/10 transition",children:"‚öôÔ∏è Mi perfil"})]}),o.jsx("div",{className:"border-t border-white/10"}),o.jsx("button",{onClick:a,className:"w-full text-left px-4 py-2 text-sm text-white/90 hover:bg-white/5 active:bg-white/10 transition",children:"üîì Cerrar sesi√≥n"})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(xe,{to:"/login",className:"text-xs md:text-sm px-3 md:px-5 py-1.5 md:py-2 rounded-full border border-white/40 hover:bg-white hover:text-black transition-all duration-200 font-medium whitespace-nowrap",children:"Iniciar sesi√≥n"}),o.jsx(xe,{to:"/registro",className:"text-xs md:text-sm px-3 md:px-5 py-1.5 md:py-2 rounded-full bg-white text-black hover:bg-black hover:text-white transition-all duration-200 font-semibold shadow whitespace-nowrap",children:"Crear cuenta"})]})})]})}function bO(){return o.jsx("footer",{className:"bg-red-800 text-white py-6",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("p",{className:"text-sm text-center font-medium",children:["¬© ",new Date().getFullYear()," Lev√°ntateCuba. Todos los derechos reservados."]})})})}function xO(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Om={};function Gd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&Om[t[0]]||(typeof t[0]=="string"&&(Om[t[0]]=new Date),xO(...t))}const Yx=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function _m(e,t,r){e.loadNamespaces(t,Yx(e,r))}function Em(e,t,r,n){typeof r=="string"&&(r=[r]),r.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,Yx(e,n))}function wO(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],i=t.options?t.options.fallbackLng:!1,a=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(n,e)&&(!i||s(a,e)))}function jO(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Gd("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(i,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!a(i.isLanguageChangingTo,e))return!1}}):wO(e,t,r)}const SO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,NO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"¬©","&#169;":"¬©","&reg;":"¬Æ","&#174;":"¬Æ","&hellip;":"‚Ä¶","&#8230;":"‚Ä¶","&#x2F;":"/","&#47;":"/"},OO=e=>NO[e],_O=e=>e.replace(SO,OO);let Kd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_O};function EO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kd={...Kd,...e}}function AO(){return Kd}let Xx;function kO(e){Xx=e}function PO(){return Xx}const TO={type:"3rdParty",init(e){EO(e.options.react),kO(e)}},CO=P.createContext();class $O{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const IO=(e,t)=>{const r=P.useRef();return P.useEffect(()=>{r.current=t?r.current:e},[e,t]),r.current};function is(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:i}=P.useContext(CO)||{},a=r||n||PO();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new $O),!a){Gd("You will need to pass in an i18next instance by using initReactI18next");const j=(x,S)=>typeof S=="string"?S:S&&typeof S=="object"&&typeof S.defaultValue=="string"?S.defaultValue:Array.isArray(x)?x[x.length-1]:x,w=[j,{},!1];return w.t=j,w.i18n={},w.ready=!1,w}a.options.react&&a.options.react.wait!==void 0&&Gd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...AO(),...a.options.react,...t},{useSuspense:l,keyPrefix:c}=s;let u=e||i||a.options&&a.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(u);const h=(a.isInitialized||a.initializedStoreOnce)&&u.every(j=>jO(j,a,s));function d(){return a.getFixedT(t.lng||null,s.nsMode==="fallback"?u:u[0],c)}const[f,p]=P.useState(d);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const m=IO(g),v=P.useRef(!0);P.useEffect(()=>{const{bindI18n:j,bindI18nStore:w}=s;v.current=!0,!h&&!l&&(t.lng?Em(a,t.lng,u,()=>{v.current&&p(d)}):_m(a,u,()=>{v.current&&p(d)})),h&&m&&m!==g&&v.current&&p(d);function x(){v.current&&p(d)}return j&&a&&a.on(j,x),w&&a&&a.store.on(w,x),()=>{v.current=!1,j&&a&&j.split(" ").forEach(S=>a.off(S,x)),w&&a&&w.split(" ").forEach(S=>a.store.off(S,x))}},[a,g]);const b=P.useRef(!0);P.useEffect(()=>{v.current&&!b.current&&p(d),b.current=!1},[a,c]);const y=[f,a,h];if(y.t=f,y.i18n=a,y.ready=h,h||!h&&!l)return y;throw new Promise(j=>{t.lng?Em(a,t.lng,u,()=>j()):_m(a,u,()=>j())})}function Zx(e=null){P.useEffect(()=>{const t=e||window.location.pathname;fetch("/api/metrics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"visit",country:"Desconocido",page:t})})},[e])}var Jx={exports:{}},MO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zO=MO,LO=zO;function Qx(){}function e1(){}e1.resetWarningCache=Qx;var RO=function(){function e(n,i,a,s,l,c){if(c!==LO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:e1,resetWarningCache:Qx};return r.PropTypes=r,r};Jx.exports=RO();var DO=Jx.exports;const Ce=ze(DO),BO="/img/puente-libre-hero-desktop.jpg",FO="/img/puente-libre-hero-mobile.jpg";function qO(){const e=P.useRef(null),[t,r]=P.useState(0),[n,i]=P.useState(!1);P.useEffect(()=>{var u;const l=window.matchMedia("(prefers-reduced-motion: reduce)"),c=()=>i(l.matches);return c(),(u=l.addEventListener)==null||u.call(l,"change",c),()=>{var h;return(h=l.removeEventListener)==null?void 0:h.call(l,"change",c)}},[]),P.useEffect(()=>{if(n)return;let l=0;const c=e.current;if(!c)return;const u=()=>{const d=c.getBoundingClientRect(),f=window.innerHeight||1,p=1-Math.min(Math.max((d.top+d.height*.4)/(f+d.height*.4),0),1);r(p)},h=()=>{cancelAnimationFrame(l),l=requestAnimationFrame(u)};return u(),window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h,{passive:!0}),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",h),window.removeEventListener("resize",h)}},[n]);const a=n?1:1+.08*t,s=n?0:-8*t;return o.jsxs("section",{ref:e,className:"w-full flex flex-col items-center text-center mt-0 pt-0 mb-8 md:mb-10","aria-label":"Secci√≥n Puente Libre",children:[o.jsx(Js.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,ease:"easeOut"},className:"relative w-full max-w-4xl rounded-2xl border border-zinc-800/40 bg-zinc-900/40 p-0 shadow-xl backdrop-blur-md overflow-hidden",children:o.jsxs("div",{className:"relative min-h-[420px] md:min-h-[500px]",children:[o.jsxs("picture",{className:"absolute inset-0 block",style:{transform:`translateY(${s}px) scale(${a})`,transformOrigin:"center center",willChange:n?"auto":"transform",transition:n?"none":"transform 180ms ease-out"},children:[o.jsx("source",{media:"(max-width: 767px)",srcSet:FO}),o.jsx("img",{src:BO,alt:"Puente digital de datos conectando personas y ayuda",className:"h-full w-full object-cover select-none pointer-events-none",loading:"eager",fetchPriority:"high"})]}),o.jsx("div",{className:"absolute inset-0 bg-black/55 md:bg-black/45"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center h-full gap-6 px-6 py-8 md:px-10",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white tracking-tight drop-shadow-2xl",children:"Puente Libre"}),o.jsxs("p",{className:"text-gray-300 text-base md:text-lg mt-4 max-w-2xl leading-relaxed",children:["Pr√≥ximamente: una gu√≠a pr√°ctica para que los cubanos dentro de la isla aprendan a usar"," ",o.jsx("span",{className:"font-semibold text-white",children:"criptomonedas"}),", acceder a productos y enviar ayuda desde cualquier parte del mundo."]}),o.jsx("div",{className:"mt-6",children:o.jsx(xe,{to:"/puente-libre",className:"inline-flex items-center rounded-full px-5 py-2 text-sm font-medium bg-red-600 hover:bg-red-500 text-white shadow-md hover:shadow-red-500/25 transition-all",children:"C√≥mo funciona ‚Üí"})}),o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1.5 text-xs text-white/80 ring-1 ring-white/10 mt-6","aria-label":"Estado del m√≥dulo",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"En desarrollo activo"]})]})]})}),o.jsx("div",{className:"w-full max-w-5xl mt-6 md:mt-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"group relative rounded-xl border border-zinc-800 bg-zinc-900/60 p-5 backdrop-blur-md",children:[o.jsx(mN,{className:"mb-2 h-5 w-5 text-red-400"}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Aprende sin riesgo"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Gu√≠as claras para usar criptomonedas de forma segura."})]}),o.jsxs("div",{className:"group relative rounded-xl border border-zinc-800 bg-zinc-900/60 p-5 backdrop-blur-md",children:[o.jsx(mo,{className:"mb-2 h-5 w-5 text-red-400"}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Env√≠a ayuda segura"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Pasos simples para transferir valor a la isla."})]}),o.jsxs("div",{className:"group relative rounded-xl border border-zinc-800 bg-zinc-900/60 p-5 backdrop-blur-md",children:[o.jsx(Rr,{className:"mb-2 h-5 w-5 text-red-400"}),o.jsx("h3",{className:"text-white font-medium mb-1",children:"Acceso a productos"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Compra desde fuera, recibe dentro de Cuba."})]})]})})]})}var t1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Am=G.createContext&&G.createContext(t1),UO=["attr","size","title"];function HO(e,t){if(e==null)return{};var r=WO(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WO(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function km(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?km(Object(r),!0).forEach(function(n){VO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):km(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VO(e,t,r){return t=GO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GO(e){var t=KO(e,"string");return typeof t=="symbol"?t:t+""}function KO(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r1(e){return e&&e.map((t,r)=>G.createElement(t.tag,ml({key:r},t.attr),r1(t.child)))}function ut(e){return t=>G.createElement(YO,pl({attr:ml({},e.attr)},t),r1(e.child))}function YO(e){var t=r=>{var{attr:n,size:i,title:a}=e,s=HO(e,UO),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),G.createElement("svg",pl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:ml(ml({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),e.children)};return Am!==void 0?G.createElement(Am.Consumer,null,r=>t(r)):t(t1)}function as(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function Yh(e){return ut({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(e)}function zc(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Lc(e){return ut({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function XO(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function ZO(e){return ut({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function JO(e){return ut({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function QO(e){return ut({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function e_(e){return ut({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(e)}function t_(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function r_(e){return ut({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(e)}function n_(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function i_(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(e)}function a_(e){return ut({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function o_(e){return ut({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function s_(e){return ut({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Pm(e){return ut({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function l_(e){return ut({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 341.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 368.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm224 32c1.9 0 3.7-.5 5.6-.6 8.3-21.7 20.5-42.1 36.3-59.2 7.4-8 17.9-12.6 28.9-12.6 6.9 0 13.7 1.8 19.6 5.3l7.9 4.6c.8-.5 1.6-.9 2.4-1.4 7-14.6 11.2-30.8 11.2-48 0-61.9-50.1-112-112-112S208 82.1 208 144c0 61.9 50.1 112 112 112zm105.2 194.5c-2.3-1.2-4.6-2.6-6.8-3.9-8.2 4.8-15.3 9.8-27.5 9.8-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-10.7-34.5 24.9-49.7 25.8-50.3-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-3.8-2.2-7-5-9.8-8.1-3.3.2-6.5.6-9.8.6-24.6 0-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h255.4c-3.7-6-6.2-12.8-6.2-20.3v-9.2zM173.1 274.6C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function c_(){return o.jsxs("section",{className:"relative w-full flex flex-col items-center justify-center min-h-[60vh] bg-black text-center overflow-hidden","aria-label":"Secci√≥n principal Lev√°ntateCuba",children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-[36rem] h-[36rem] rounded-full bg-red-600/10 blur-3xl"})}),o.jsx("img",{src:"/img/levantatecubaLogo.png",alt:"Logo Lev√°ntateCuba",className:"relative w-40 md:w-56 mb-6 drop-shadow-[0_0_25px_rgba(255,0,0,0.5)]",loading:"eager",decoding:"async"}),o.jsx("h1",{className:"relative text-white font-extrabold tracking-tight text-5xl md:text-6xl",children:"Lev√°ntateCuba"}),o.jsx("p",{className:"relative mt-2 text-white/70 text-lg md:text-xl",children:"Voces libres. Verdad sin censura."}),o.jsx("div",{className:"relative mt-6",children:o.jsx(xe,{to:"/romper",className:"inline-flex items-center justify-center rounded-full bg-red-600 px-6 py-3 text-base font-semibold text-white transition-colors hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500/60","aria-label":"Conoce c√≥mo ayudamos",children:"Conoce c√≥mo ayudamos"})}),o.jsx("a",{href:"https://www.facebook.com/profile.php?id=61580079061652",target:"_blank",rel:"noopener noreferrer","aria-label":"Visitar p√°gina de Facebook",title:"Facebook",className:"group absolute bottom-4 right-4 sm:bottom-6 sm:right-6 z-20 inline-flex items-center justify-center w-10 h-10 sm:w-11 sm:h-11 rounded-full bg-white/5 backdrop-blur border border-white/10 text-white/80 hover:text-white hover:bg-white/10 hover:border-white/20 ring-0 hover:ring-2 hover:ring-white/20 transition-all duration-300",children:o.jsx(as,{size:20,className:"opacity-90 group-hover:opacity-100 transition-opacity","aria-hidden":"true"})})]})}function Ns({className:e="py-6",thick:t=!1}){return o.jsx("div",{"aria-hidden":"true",className:`w-full ${e}`,children:o.jsx("hr",{className:`mx-auto max-w-6xl border-0 ${t?"h-[2px]":"h-px"} bg-zinc-700/80`})})}const n1=new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2});function u_(e=""){const t=String(e||"").replace(/\s+/g," ").toUpperCase(),r=(t.match(/VENTA\s*([0-9.,]+)/i)||[])[1],n=(t.match(/COMPRA\s*([0-9.,]+)/i)||[])[1],i=(t.match(/VENTA[\s0-9.,]*CUP\s*([+\-]?[0-9.,]+)/i)||[])[1],a=(t.match(/COMPRA[\s0-9.,]*CUP\s*([+\-]?[0-9.,]+)/i)||[])[1];return!r&&!n?{venta:(t.match(/([0-9]+[.,]?[0-9]*)/)||[])[1]||null,ventaVar:null,compra:null,compraVar:null}:{venta:r,ventaVar:i,compra:n,compraVar:a}}function Tm({val:e}){const t="inline-block shrink-0 w-10 md:w-14 text-right tabular-nums text-[10px] md:text-[11px]";if(!e)return o.jsx("span",{className:t,children:" "});const r=parseFloat(String(e).replace(",",".")),n=Number.isFinite(r)&&r>0?"+":"",i=Number.isFinite(r)?r>0?"text-green-400":r<0?"text-red-400":"text-white/60":"text-white/60";return o.jsxs("span",{className:`${t} ${i}`,children:[n,Number.isFinite(r)?n1.format(Math.abs(r)):e]})}function Cm({value:e}){const t="inline-block w-20 md:w-24 text-right tabular-nums text-[12px] md:text-sm";if(!e)return o.jsx("span",{className:t,children:"‚Äî"});const r=parseFloat(String(e).replace(",","."));return o.jsx("span",{className:t,children:Number.isFinite(r)?n1.format(r):e})}function d_({sharePath:e="/tasas"}){const[t,r]=P.useState(null),[n,i]=P.useState(!0),[a,s]=P.useState("");P.useEffect(()=>{let f=!0;return i(!0),s(""),fetch("/api/tasas?maxAge=60").then(p=>{if(!p.ok)throw new Error("HTTP");return p.json()}).then(p=>f&&r(p)).catch(()=>f&&s("No se pudieron cargar las tasas.")).finally(()=>f&&i(!1)),()=>f=!1},[]);const l=P.useMemo(()=>{const f=Array.isArray(t==null?void 0:t.tasas)?[...t.tasas]:[];if(!f.some(m=>(m.moneda||"").toLowerCase().includes("zelle"))){const m=f.find(v=>/\bUSD\b/i.test(v.moneda||""));f.unshift({moneda:"Zelle (USD)",cup:(m==null?void 0:m.cup)??"‚Äî",mlc:(m==null?void 0:m.mlc)??"‚Äî",usd:(m==null?void 0:m.usd)??"‚Äî",_z:!0})}const g=m=>{const v=(m||"").toUpperCase();return v.includes("ZELLE")?0:/\bUSD\b/.test(v)?1:/\bEUR\b/.test(v)?2:9};return f.sort((m,v)=>g(m.moneda)-g(v.moneda))},[t]),c=P.useMemo(()=>l.some(f=>/\d/.test(f.mlc||"")),[l]),u=P.useMemo(()=>l.some(f=>/\d/.test(f.usd||"")),[l]),h=P.useMemo(()=>{const f=(t==null?void 0:t.fetchedAt)||(t==null?void 0:t.createdAt);return f?new Date(f).toLocaleString("es-ES"):""},[t]),d=P.useMemo(()=>{const f=typeof window<"u"?window.location.origin:"";return encodeURIComponent(`${f}${e}`)},[e]);return n?o.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 md:p-5 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"h-6 w-56 bg-white/10 rounded animate-pulse"}),o.jsx("div",{className:"h-4 w-40 bg-white/10 rounded animate-pulse"})]}),o.jsx("div",{className:"h-10 w-full bg-white/10 rounded animate-pulse"})]}):a?o.jsx("div",{className:"bg-white/5 border border-red-500/30 rounded-2xl p-4 md:p-5 text-white",children:o.jsx("div",{className:"text-red-400 text-sm",children:a})}):o.jsxs("div",{className:"bg-zinc-900/70 rounded-2xl shadow-lg border border-zinc-800/40 backdrop-blur-md p-4 sm:p-6 md:p-8 text-white",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[o.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold tracking-tight",children:"Tasa del mercado informal en Cuba"}),o.jsxs("div",{className:"text-[11px] sm:text-xs text-white/60",children:["Fuente:"," ",o.jsx("a",{href:(t==null?void 0:t.url)||"https://eltoque.com/tasas-de-cambio-de-moneda-en-cuba-hoy",target:"_blank",rel:"noopener nofollow",className:"underline decoration-white/30 hover:decoration-white",children:"elTOQUE"})," ","‚Ä¢ ",h||"Actualizando‚Ä¶"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-[13px] sm:text-sm [font-variant-numeric:tabular-nums]",children:[o.jsx("thead",{className:"sticky top-0 z-10 bg-black/50 backdrop-blur border-b border-white/10",children:o.jsxs("tr",{className:"text-white/70",children:[o.jsx("th",{className:"text-left font-semibold py-2 px-2 md:px-3",children:"Moneda"}),o.jsx("th",{className:"text-right font-semibold py-2 px-2 md:px-3",children:"Venta (CUP)"}),o.jsx("th",{className:"text-right font-semibold py-2 px-2 md:px-3",children:"Compra (CUP)"}),c&&o.jsx("th",{className:"text-right font-semibold py-2 px-2 md:px-3",children:"MLC"}),u&&o.jsx("th",{className:"text-right font-semibold py-2 px-2 md:px-3",children:"USD"})]})}),o.jsx("tbody",{className:"divide-y divide-white/5",children:l.map((f,p)=>{const g=(f.moneda||"").toLowerCase().includes("zelle"),{venta:m,ventaVar:v,compra:b,compraVar:y}=u_(f.cup);return o.jsxs("tr",{className:`hover:bg-white/[0.06] transition ${g?"bg-yellow-400/5":""}`,children:[o.jsx("td",{className:"py-2 px-2 md:px-3 text-xs sm:text-sm",children:o.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-2 py-0.5 text-[11px] sm:text-xs font-medium
                        ${g?"bg-yellow-400 text-black":"bg-white/10 text-white"}`,children:f.moneda})}),o.jsx("td",{className:"py-2 px-2 md:px-3",children:o.jsxs("div",{className:"flex justify-end items-baseline gap-2",children:[o.jsx(Cm,{value:m}),o.jsx(Tm,{val:v})]})}),o.jsx("td",{className:"py-2 px-2 md:px-3",children:o.jsxs("div",{className:"flex justify-end items-baseline gap-2",children:[o.jsx(Cm,{value:b}),o.jsx(Tm,{val:y})]})}),c&&o.jsx("td",{className:"py-2 px-2 md:px-3 text-right tabular-nums",children:f.mlc&&/\d/.test(f.mlc)?f.mlc:"‚Äî"}),u&&o.jsx("td",{className:"py-2 px-2 md:px-3 text-right tabular-nums",children:f.usd&&/\d/.test(f.usd)?f.usd:"‚Äî"})]},p)})})]})}),o.jsx("div",{className:"mt-3 pt-3 border-t border-white/10",children:o.jsxs("div",{className:"flex gap-4 text-white text-lg sm:text-xl justify-center md:justify-start",children:[o.jsx("a",{href:`https://wa.me/?text=${d}`,target:"_blank",rel:"noreferrer",className:"hover:text-green-400","aria-label":"WhatsApp",children:o.jsx(Lc,{})}),o.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${d}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-500","aria-label":"Facebook",children:o.jsx(as,{})}),o.jsx("a",{href:`https://twitter.com/intent/tweet?url=${d}`,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400","aria-label":"X/Twitter",children:o.jsx(zc,{})}),o.jsx("a",{href:`https://t.me/share/url?url=${d}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-300","aria-label":"Telegram",children:o.jsx(Yh,{})})]})})]})}function f_(){const[e,t]=P.useState(!1),[r,n]=P.useState(""),i=async()=>{t(!0),n("");try{const a=await fetch("/api/donate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:10})}),s=await a.json();if(!a.ok)throw new Error((s==null?void 0:s.error)||"Error procesando la donaci√≥n");if(!(s!=null&&s.url))throw new Error("No se pudo crear la sesi√≥n de pago");window.location.href=s.url}catch(a){console.error("[DonateButton] Error:",a),n("No se pudo procesar la donaci√≥n. Intenta nuevamente."),setTimeout(()=>n(""),5e3)}finally{t(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("button",{onClick:i,disabled:e,"aria-label":"Apoyar este proyecto con una donaci√≥n","aria-busy":e,className:`
            relative inline-flex items-center justify-center
            px-8 py-3 rounded-full
            font-semibold tracking-wide text-white
            bg-gradient-to-r from-red-600 to-red-500
            shadow-[0_0_20px_rgba(239,68,68,0.35)]
            transition-all duration-300
            hover:shadow-[0_0_32px_rgba(239,68,68,0.55)]
            hover:scale-[1.03] active:scale-[0.98]
            disabled:opacity-60 disabled:cursor-not-allowed
            outline-none focus-visible:ring-4 focus-visible:ring-red-500/30
            before:absolute before:inset-0 before:rounded-full
            before:bg-white/0 hover:before:bg-white/5 before:transition-colors
            animate-[subtlePulse_2.8s_ease-in-out_infinite]
          `,children:e?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0c-5.523 0-10 4.477-10 10h2z"})]}),"Procesando‚Ä¶"]}):o.jsx("span",{className:"leading-none",children:"Apoyar"})})}),o.jsx("div",{"aria-live":"polite","aria-atomic":"true",children:r&&o.jsxs("div",{className:`
              fixed bottom-4 right-4 left-4 sm:left-auto
              max-w-sm mx-auto sm:mx-0 z-50
              bg-red-900/90 text-white backdrop-blur
              px-4 py-3 rounded-lg shadow-lg
            `,role:"alert",children:[o.jsx("p",{className:"font-medium",children:"Error de donaci√≥n"}),o.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:r})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes subtlePulse {
          0%,
          100% {
            transform: translateZ(0) scale(1);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.35);
          }
          50% {
            transform: translateZ(0) scale(1.01);
            box-shadow: 0 0 28px rgba(239, 68, 68, 0.5);
          }
        }
      `})]})}const Yd=({to:e,icon:t,title:r,text:n,onClick:i,className:a=""})=>o.jsxs(xe,{to:e,onClick:i,className:`group relative block rounded-2xl border border-zinc-800 bg-zinc-900/60 hover:border-red-500/40 transition p-6 text-center ${a}`,children:[o.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-2xl bg-red-500/15 blur-xl opacity-0 transition group-hover:opacity-100","aria-hidden":"true"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"mb-4 flex justify-center",children:t}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r}),o.jsx("p",{className:"text-sm text-gray-400",children:n})]})]});Yd.propTypes={to:Ce.string.isRequired,icon:Ce.node.isRequired,title:Ce.string.isRequired,text:Ce.string.isRequired,onClick:Ce.func,className:Ce.string};function h_(){const{t:e}=is();return Zx(),o.jsxs("main",{className:"flex flex-col items-center w-full bg-zinc-950 text-white overflow-x-hidden",children:[o.jsx(c_,{}),o.jsx(Ns,{className:"py-6",variant:"strong"}),o.jsx(Js.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},viewport:{once:!0},className:"px-4 sm:px-6 md:px-20 py-12 md:py-16",children:o.jsx("div",{className:"max-w-5xl mx-auto",children:o.jsx("div",{className:"my-8",children:o.jsx(d_,{sharePath:"/tasas"})})})}),o.jsx(Ns,{className:"py-6",variant:"strong"}),o.jsxs(Js.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},viewport:{once:!0},className:"px-4 sm:px-6 md:px-20 py-20 md:py-24",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-white tracking-tight text-center mb-10",children:"Explora la plataforma"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 gap-y-10 max-w-3xl mx-auto",children:[o.jsx(Yd,{to:"/noticias",icon:o.jsx(fl,{size:40,className:"text-red-500"}),title:e("sections.news.title"),text:e("sections.news.text")}),o.jsx(Yd,{to:"/denuncias",icon:o.jsx(gN,{size:40,className:"text-red-500"}),title:e("sections.reports.title"),text:e("sections.reports.text")})]}),o.jsx(Js.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},viewport:{once:!0},className:"mt-16 max-w-2xl mx-auto",children:o.jsx(xe,{to:"/tienda",className:"group relative block bg-zinc-900/70 rounded-2xl border border-zinc-800/40 p-8 shadow-xl backdrop-blur-md hover:scale-[1.02] transition-all duration-300","aria-label":"Ir a la tienda de productos exclusivos",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2 bg-gradient-to-r from-red-600 to-orange-500 rounded-full mb-4",children:[o.jsx(Rr,{size:24,className:"text-white","aria-hidden":"true"}),o.jsx("h3",{className:"text-xl font-bold text-white",children:"Tienda"})]}),o.jsxs("p",{className:"text-gray-400 text-base mb-6 max-w-md mx-auto",children:["Apoya la plataforma con camisetas,",o.jsx("br",{}),"tazas y otros art√≠culos exclusivos."]}),o.jsx("div",{className:"inline-block",children:o.jsxs("span",{className:"inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold px-5 py-2 rounded-full shadow-md transition-all duration-200",children:["Ver productos",o.jsx(Tx,{size:20,className:"transition-transform group-hover:translate-x-1","aria-hidden":"true"})]})})]})})})]}),o.jsx(Ns,{className:"py-6",variant:"strong"}),o.jsx(qO,{}),o.jsx(Ns,{className:"py-6",variant:"strong"}),o.jsx("section",{className:"text-center py-8",children:o.jsxs("div",{className:"mx-auto max-w-2xl px-6",children:[o.jsxs("p",{className:"text-lg md:text-xl text-white/90 font-medium leading-relaxed mb-6",children:["Cada aporte cuenta. Tu apoyo impulsa a"," ",o.jsx("span",{className:"text-red-500 font-semibold",children:"Lev√°ntateCuba"})," ","para seguir informando, inspirando y defendiendo la verdad desde el exilio."]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(f_,{})})]})})]})}function p_(){return o.jsx("main",{className:"p-6 md:p-12 min-h-screen bg-transparent text-gray-800",children:o.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-md rounded-xl p-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-red-700 mb-6",children:"Sobre el creador"}),o.jsxs("p",{className:"mb-4 text-lg",children:["Este sitio web, ",o.jsx("strong",{children:"levantatecuba.com"}),", ha sido creado y desarrollado por m√≠,",o.jsx("strong",{children:" Ivan Igor Constantin"}),", como una plataforma de activismo y denuncia contra la dictadura cubana."]}),o.jsx("p",{className:"mb-4 text-lg",children:"Mi intenci√≥n es visibilizar las injusticias, amplificar las voces del pueblo oprimido y documentar los abusos del r√©gimen en tiempo real. Esta p√°gina forma parte de mi esfuerzo por defender la libertad de expresi√≥n y los derechos humanos."}),o.jsx("p",{className:"mb-4 text-lg",children:"Soy el autor leg√≠timo del c√≥digo fuente, dise√±o, contenido visual y estrategia de comunicaci√≥n de este sitio web. Puedo demostrar su autor√≠a t√©cnica y conceptual ante cualquier instancia legal."}),o.jsx("p",{className:"mb-4 text-lg italic text-gray-600",children:"‚ÄúMientras exista opresi√≥n, existir√°n voces que se levanten.‚Äù"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["√öltima actualizaci√≥n: ",new Date().toLocaleDateString()]})]})})}function m_(){const[e,t]=P.useState(""),[r,n]=P.useState(!1),[i,a]=P.useState(""),s=async l=>{if(l.preventDefault(),a(""),!e.includes("@")){a("Correo no v√°lido");return}try{n(!0)}catch(c){console.error(c),a("No se pudo enviar tu suscripci√≥n.")}};return r?o.jsx("main",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 text-white p-8 rounded-2xl shadow-md max-w-md text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:"¬°Gracias por suscribirte!"}),o.jsx("p",{children:"Recibir√°s actualizaciones directamente en tu correo electr√≥nico."})]})}):o.jsx("main",{className:"min-h-screen p-6 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 text-white p-8 rounded-2xl shadow-md max-w-md w-full animate-fade-in",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-400 mb-4",children:"Suscr√≠bete"}),o.jsx("p",{className:"mb-6 text-lg",children:"Reg√≠strate para recibir noticias, denuncias y actualizaciones sin censura directamente en tu correo electr√≥nico."}),i&&o.jsx("p",{className:"text-red-300 text-sm mb-4",children:i}),o.jsxs("form",{onSubmit:s,children:[o.jsx("input",{type:"email",placeholder:"Tu correo electr√≥nico",className:"w-full px-4 py-3 border border-white/20 rounded-md bg-white/10 text-white placeholder-gray-300 mb-4",value:e,onChange:l=>t(l.target.value),required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-black py-3 rounded-md font-semibold transition",children:"Suscribirme"})]}),o.jsx("p",{className:"mt-6 text-sm text-gray-300",children:"*Tu correo est√° protegido. No compartimos tu informaci√≥n con terceros."})]})})}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:i1,setPrototypeOf:$m,isFrozen:g_,getPrototypeOf:v_,getOwnPropertyDescriptor:y_}=Object;let{freeze:Ht,seal:yr,create:a1}=Object,{apply:Xd,construct:Zd}=typeof Reflect<"u"&&Reflect;Ht||(Ht=function(t){return t});yr||(yr=function(t){return t});Xd||(Xd=function(t,r,n){return t.apply(r,n)});Zd||(Zd=function(t,r){return new t(...r)});const Os=Wt(Array.prototype.forEach),b_=Wt(Array.prototype.lastIndexOf),Im=Wt(Array.prototype.pop),Ca=Wt(Array.prototype.push),x_=Wt(Array.prototype.splice),rl=Wt(String.prototype.toLowerCase),Vu=Wt(String.prototype.toString),Mm=Wt(String.prototype.match),$a=Wt(String.prototype.replace),w_=Wt(String.prototype.indexOf),j_=Wt(String.prototype.trim),Or=Wt(Object.prototype.hasOwnProperty),Lt=Wt(RegExp.prototype.test),Ia=S_(TypeError);function Wt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Xd(e,t,n)}}function S_(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Zd(e,r)}}function Me(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rl;$m&&$m(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const a=r(i);a!==i&&(g_(t)||(t[n]=a),i=a)}e[i]=!0}return e}function N_(e){for(let t=0;t<e.length;t++)Or(e,t)||(e[t]=null);return e}function tn(e){const t=a1(null);for(const[r,n]of i1(e))Or(e,r)&&(Array.isArray(n)?t[r]=N_(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=tn(n):t[r]=n);return t}function Ma(e,t){for(;e!==null;){const n=y_(e,t);if(n){if(n.get)return Wt(n.get);if(typeof n.value=="function")return Wt(n.value)}e=v_(e)}function r(){return null}return r}const zm=Ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gu=Ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ku=Ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O_=Ht(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yu=Ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),__=Ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Lm=Ht(["#text"]),Rm=Ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xu=Ht(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Dm=Ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_s=Ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),E_=yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),A_=yr(/<%[\w\W]*|[\w\W]*%>/gm),k_=yr(/\$\{[\w\W]*/gm),P_=yr(/^data-[\-\w.\u00B7-\uFFFF]+$/),T_=yr(/^aria-[\-\w]+$/),o1=yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),C_=yr(/^(?:\w+script|data):/i),$_=yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),s1=yr(/^html$/i),I_=yr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Bm=Object.freeze({__proto__:null,ARIA_ATTR:T_,ATTR_WHITESPACE:$_,CUSTOM_ELEMENT:I_,DATA_ATTR:P_,DOCTYPE_NAME:s1,ERB_EXPR:A_,IS_ALLOWED_URI:o1,IS_SCRIPT_OR_DATA:C_,MUSTACHE_EXPR:E_,TMPLIT_EXPR:k_});const za={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},M_=function(){return typeof window>"u"?null:window},z_=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Fm=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function l1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M_();const t=be=>l1(be);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==za.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,g=c.prototype,m=Ma(g,"cloneNode"),v=Ma(g,"remove"),b=Ma(g,"nextSibling"),y=Ma(g,"childNodes"),j=Ma(g,"parentNode");if(typeof s=="function"){const be=r.createElement("template");be.content&&be.content.ownerDocument&&(r=be.content.ownerDocument)}let w,x="";const{implementation:S,createNodeIterator:N,createDocumentFragment:_,getElementsByTagName:C}=r,{importNode:E}=n;let O=Fm();t.isSupported=typeof i1=="function"&&typeof j=="function"&&S&&S.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:k,TMPLIT_EXPR:$,DATA_ATTR:I,ARIA_ATTR:T,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:D}=Bm;let{IS_ALLOWED_URI:F}=Bm,M=null;const L=Me({},[...zm,...Gu,...Ku,...Yu,...Lm]);let z=null;const K=Me({},[...Rm,...Xu,...Dm,..._s]);let W=Object.seal(a1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,H=null,q=!0,V=!0,Y=!1,J=!0,X=!1,ne=!0,ie=!1,ae=!1,ge=!1,he=!1,Q=!1,ee=!1,se=!0,ce=!1;const te="user-content-";let ve=!0,je=!1,we={},rt=null;const Ot=Me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Be=null;const Wr=Me({},["audio","video","img","source","image","track"]);let He=null;const _t=Me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Vr="http://www.w3.org/1998/Math/MathML",Gr="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml";let Ee=pe,at=!1,oe=null;const fe=Me({},[Vr,Gr,pe],Vu);let Te=Me({},["mi","mo","mn","ms","mtext"]),_e=Me({},["annotation-xml"]);const Oe=Me({},["title","style","font","a","script"]);let Le=null;const Je=["application/xhtml+xml","text/html"],Jt="text/html";let Ie=null,pt=null;const Ve=r.createElement("form"),Et=function(Z){return Z instanceof RegExp||Z instanceof Function},jr=function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(pt&&pt===Z)){if((!Z||typeof Z!="object")&&(Z={}),Z=tn(Z),Le=Je.indexOf(Z.PARSER_MEDIA_TYPE)===-1?Jt:Z.PARSER_MEDIA_TYPE,Ie=Le==="application/xhtml+xml"?Vu:rl,M=Or(Z,"ALLOWED_TAGS")?Me({},Z.ALLOWED_TAGS,Ie):L,z=Or(Z,"ALLOWED_ATTR")?Me({},Z.ALLOWED_ATTR,Ie):K,oe=Or(Z,"ALLOWED_NAMESPACES")?Me({},Z.ALLOWED_NAMESPACES,Vu):fe,He=Or(Z,"ADD_URI_SAFE_ATTR")?Me(tn(_t),Z.ADD_URI_SAFE_ATTR,Ie):_t,Be=Or(Z,"ADD_DATA_URI_TAGS")?Me(tn(Wr),Z.ADD_DATA_URI_TAGS,Ie):Wr,rt=Or(Z,"FORBID_CONTENTS")?Me({},Z.FORBID_CONTENTS,Ie):Ot,B=Or(Z,"FORBID_TAGS")?Me({},Z.FORBID_TAGS,Ie):tn({}),H=Or(Z,"FORBID_ATTR")?Me({},Z.FORBID_ATTR,Ie):tn({}),we=Or(Z,"USE_PROFILES")?Z.USE_PROFILES:!1,q=Z.ALLOW_ARIA_ATTR!==!1,V=Z.ALLOW_DATA_ATTR!==!1,Y=Z.ALLOW_UNKNOWN_PROTOCOLS||!1,J=Z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,X=Z.SAFE_FOR_TEMPLATES||!1,ne=Z.SAFE_FOR_XML!==!1,ie=Z.WHOLE_DOCUMENT||!1,he=Z.RETURN_DOM||!1,Q=Z.RETURN_DOM_FRAGMENT||!1,ee=Z.RETURN_TRUSTED_TYPE||!1,ge=Z.FORCE_BODY||!1,se=Z.SANITIZE_DOM!==!1,ce=Z.SANITIZE_NAMED_PROPS||!1,ve=Z.KEEP_CONTENT!==!1,je=Z.IN_PLACE||!1,F=Z.ALLOWED_URI_REGEXP||o1,Ee=Z.NAMESPACE||pe,Te=Z.MATHML_TEXT_INTEGRATION_POINTS||Te,_e=Z.HTML_INTEGRATION_POINTS||_e,W=Z.CUSTOM_ELEMENT_HANDLING||{},Z.CUSTOM_ELEMENT_HANDLING&&Et(Z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=Z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Z.CUSTOM_ELEMENT_HANDLING&&Et(Z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=Z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Z.CUSTOM_ELEMENT_HANDLING&&typeof Z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=Z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(V=!1),Q&&(he=!0),we&&(M=Me({},Lm),z=[],we.html===!0&&(Me(M,zm),Me(z,Rm)),we.svg===!0&&(Me(M,Gu),Me(z,Xu),Me(z,_s)),we.svgFilters===!0&&(Me(M,Ku),Me(z,Xu),Me(z,_s)),we.mathMl===!0&&(Me(M,Yu),Me(z,Dm),Me(z,_s))),Z.ADD_TAGS&&(M===L&&(M=tn(M)),Me(M,Z.ADD_TAGS,Ie)),Z.ADD_ATTR&&(z===K&&(z=tn(z)),Me(z,Z.ADD_ATTR,Ie)),Z.ADD_URI_SAFE_ATTR&&Me(He,Z.ADD_URI_SAFE_ATTR,Ie),Z.FORBID_CONTENTS&&(rt===Ot&&(rt=tn(rt)),Me(rt,Z.FORBID_CONTENTS,Ie)),ve&&(M["#text"]=!0),ie&&Me(M,["html","head","body"]),M.table&&(Me(M,["tbody"]),delete B.tbody),Z.TRUSTED_TYPES_POLICY){if(typeof Z.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ia('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ia('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=Z.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else w===void 0&&(w=z_(p,i)),w!==null&&typeof x=="string"&&(x=w.createHTML(""));Ht&&Ht(Z),pt=Z}},zn=Me({},[...Gu,...Ku,...O_]),Aa=Me({},[...Yu,...__]),xn=function(Z){let le=j(Z);(!le||!le.tagName)&&(le={namespaceURI:Ee,tagName:"template"});const ye=rl(Z.tagName),nt=rl(le.tagName);return oe[Z.namespaceURI]?Z.namespaceURI===Gr?le.namespaceURI===pe?ye==="svg":le.namespaceURI===Vr?ye==="svg"&&(nt==="annotation-xml"||Te[nt]):!!zn[ye]:Z.namespaceURI===Vr?le.namespaceURI===pe?ye==="math":le.namespaceURI===Gr?ye==="math"&&_e[nt]:!!Aa[ye]:Z.namespaceURI===pe?le.namespaceURI===Gr&&!_e[nt]||le.namespaceURI===Vr&&!Te[nt]?!1:!Aa[ye]&&(Oe[ye]||!zn[ye]):!!(Le==="application/xhtml+xml"&&oe[Z.namespaceURI]):!1},Tt=function(Z){Ca(t.removed,{element:Z});try{j(Z).removeChild(Z)}catch{v(Z)}},wn=function(Z,le){try{Ca(t.removed,{attribute:le.getAttributeNode(Z),from:le})}catch{Ca(t.removed,{attribute:null,from:le})}if(le.removeAttribute(Z),Z==="is")if(he||Q)try{Tt(le)}catch{}else try{le.setAttribute(Z,"")}catch{}},Ln=function(Z){let le=null,ye=null;if(ge)Z="<remove></remove>"+Z;else{const mt=Mm(Z,/^[\r\n\t ]+/);ye=mt&&mt[0]}Le==="application/xhtml+xml"&&Ee===pe&&(Z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Z+"</body></html>");const nt=w?w.createHTML(Z):Z;if(Ee===pe)try{le=new f().parseFromString(nt,Le)}catch{}if(!le||!le.documentElement){le=S.createDocument(Ee,"template",null);try{le.documentElement.innerHTML=at?x:nt}catch{}}const Ct=le.body||le.documentElement;return Z&&ye&&Ct.insertBefore(r.createTextNode(ye),Ct.childNodes[0]||null),Ee===pe?C.call(le,ie?"html":"body")[0]:ie?le.documentElement:Ct},ot=function(Z){return N.call(Z.ownerDocument||Z,Z,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Kr=function(Z){return Z instanceof d&&(typeof Z.nodeName!="string"||typeof Z.textContent!="string"||typeof Z.removeChild!="function"||!(Z.attributes instanceof h)||typeof Z.removeAttribute!="function"||typeof Z.setAttribute!="function"||typeof Z.namespaceURI!="string"||typeof Z.insertBefore!="function"||typeof Z.hasChildNodes!="function")},ws=function(Z){return typeof l=="function"&&Z instanceof l};function Sr(be,Z,le){Os(be,ye=>{ye.call(t,Z,le,pt)})}const lm=function(Z){let le=null;if(Sr(O.beforeSanitizeElements,Z,null),Kr(Z))return Tt(Z),!0;const ye=Ie(Z.nodeName);if(Sr(O.uponSanitizeElement,Z,{tagName:ye,allowedTags:M}),ne&&Z.hasChildNodes()&&!ws(Z.firstElementChild)&&Lt(/<[/\w!]/g,Z.innerHTML)&&Lt(/<[/\w!]/g,Z.textContent)||Z.nodeType===za.progressingInstruction||ne&&Z.nodeType===za.comment&&Lt(/<[/\w]/g,Z.data))return Tt(Z),!0;if(!M[ye]||B[ye]){if(!B[ye]&&um(ye)&&(W.tagNameCheck instanceof RegExp&&Lt(W.tagNameCheck,ye)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ye)))return!1;if(ve&&!rt[ye]){const nt=j(Z)||Z.parentNode,Ct=y(Z)||Z.childNodes;if(Ct&&nt){const mt=Ct.length;for(let Vt=mt-1;Vt>=0;--Vt){const Yr=m(Ct[Vt],!0);Yr.__removalCount=(Z.__removalCount||0)+1,nt.insertBefore(Yr,b(Z))}}}return Tt(Z),!0}return Z instanceof c&&!xn(Z)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&Lt(/<\/no(script|embed|frames)/i,Z.innerHTML)?(Tt(Z),!0):(X&&Z.nodeType===za.text&&(le=Z.textContent,Os([A,k,$],nt=>{le=$a(le,nt," ")}),Z.textContent!==le&&(Ca(t.removed,{element:Z.cloneNode()}),Z.textContent=le)),Sr(O.afterSanitizeElements,Z,null),!1)},cm=function(Z,le,ye){if(se&&(le==="id"||le==="name")&&(ye in r||ye in Ve))return!1;if(!(V&&!H[le]&&Lt(I,le))){if(!(q&&Lt(T,le))){if(!z[le]||H[le]){if(!(um(Z)&&(W.tagNameCheck instanceof RegExp&&Lt(W.tagNameCheck,Z)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Z))&&(W.attributeNameCheck instanceof RegExp&&Lt(W.attributeNameCheck,le)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(le))||le==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Lt(W.tagNameCheck,ye)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ye))))return!1}else if(!He[le]){if(!Lt(F,$a(ye,U,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&Z!=="script"&&w_(ye,"data:")===0&&Be[Z])){if(!(Y&&!Lt(R,$a(ye,U,"")))){if(ye)return!1}}}}}}return!0},um=function(Z){return Z!=="annotation-xml"&&Mm(Z,D)},dm=function(Z){Sr(O.beforeSanitizeAttributes,Z,null);const{attributes:le}=Z;if(!le||Kr(Z))return;const ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let nt=le.length;for(;nt--;){const Ct=le[nt],{name:mt,namespaceURI:Vt,value:Yr}=Ct,ka=Ie(mt),qu=Yr;let $t=mt==="value"?qu:j_(qu);if(ye.attrName=ka,ye.attrValue=$t,ye.keepAttr=!0,ye.forceKeepAttr=void 0,Sr(O.uponSanitizeAttribute,Z,ye),$t=ye.attrValue,ce&&(ka==="id"||ka==="name")&&(wn(mt,Z),$t=te+$t),ne&&Lt(/((--!?|])>)|<\/(style|title)/i,$t)){wn(mt,Z);continue}if(ye.forceKeepAttr)continue;if(!ye.keepAttr){wn(mt,Z);continue}if(!J&&Lt(/\/>/i,$t)){wn(mt,Z);continue}X&&Os([A,k,$],hm=>{$t=$a($t,hm," ")});const fm=Ie(Z.nodeName);if(!cm(fm,ka,$t)){wn(mt,Z);continue}if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Vt)switch(p.getAttributeType(fm,ka)){case"TrustedHTML":{$t=w.createHTML($t);break}case"TrustedScriptURL":{$t=w.createScriptURL($t);break}}if($t!==qu)try{Vt?Z.setAttributeNS(Vt,mt,$t):Z.setAttribute(mt,$t),Kr(Z)?Tt(Z):Im(t.removed)}catch{wn(mt,Z)}}Sr(O.afterSanitizeAttributes,Z,null)},fN=function be(Z){let le=null;const ye=ot(Z);for(Sr(O.beforeSanitizeShadowDOM,Z,null);le=ye.nextNode();)Sr(O.uponSanitizeShadowNode,le,null),lm(le),dm(le),le.content instanceof a&&be(le.content);Sr(O.afterSanitizeShadowDOM,Z,null)};return t.sanitize=function(be){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,ye=null,nt=null,Ct=null;if(at=!be,at&&(be="<!-->"),typeof be!="string"&&!ws(be))if(typeof be.toString=="function"){if(be=be.toString(),typeof be!="string")throw Ia("dirty is not a string, aborting")}else throw Ia("toString is not a function");if(!t.isSupported)return be;if(ae||jr(Z),t.removed=[],typeof be=="string"&&(je=!1),je){if(be.nodeName){const Yr=Ie(be.nodeName);if(!M[Yr]||B[Yr])throw Ia("root node is forbidden and cannot be sanitized in-place")}}else if(be instanceof l)le=Ln("<!---->"),ye=le.ownerDocument.importNode(be,!0),ye.nodeType===za.element&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?le=ye:le.appendChild(ye);else{if(!he&&!X&&!ie&&be.indexOf("<")===-1)return w&&ee?w.createHTML(be):be;if(le=Ln(be),!le)return he?null:ee?x:""}le&&ge&&Tt(le.firstChild);const mt=ot(je?be:le);for(;nt=mt.nextNode();)lm(nt),dm(nt),nt.content instanceof a&&fN(nt.content);if(je)return be;if(he){if(Q)for(Ct=_.call(le.ownerDocument);le.firstChild;)Ct.appendChild(le.firstChild);else Ct=le;return(z.shadowroot||z.shadowrootmode)&&(Ct=E.call(n,Ct,!0)),Ct}let Vt=ie?le.outerHTML:le.innerHTML;return ie&&M["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&Lt(s1,le.ownerDocument.doctype.name)&&(Vt="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+Vt),X&&Os([A,k,$],Yr=>{Vt=$a(Vt,Yr," ")}),w&&ee?w.createHTML(Vt):Vt},t.setConfig=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jr(be),ae=!0},t.clearConfig=function(){pt=null,ae=!1},t.isValidAttribute=function(be,Z,le){pt||jr({});const ye=Ie(be),nt=Ie(Z);return cm(ye,nt,le)},t.addHook=function(be,Z){typeof Z=="function"&&Ca(O[be],Z)},t.removeHook=function(be,Z){if(Z!==void 0){const le=b_(O[be],Z);return le===-1?void 0:x_(O[be],le,1)[0]}return Im(O[be])},t.removeHooks=function(be){O[be]=[]},t.removeAllHooks=function(){O=Fm()},t}var Kt=l1();class eo extends Error{}eo.prototype.name="InvalidTokenError";function L_(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function R_(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return L_(t)}catch{return atob(t)}}function Xh(e,t){if(typeof e!="string")throw new eo("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new eo(`Invalid token specified: missing part #${r+1}`);let i;try{i=R_(n)}catch(a){throw new eo(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new eo(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}function yo({to:e="/",label:t="Volver",className:r=""}){return o.jsxs(xe,{to:e,className:`inline-flex items-center gap-2 text-white/80 hover:text-white transition-all duration-200 mb-6 font-semibold bg-white/10 border border-white/10 px-4 py-2 rounded-lg hover:bg-white/20 ${r}`,children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),t]})}function D_(){const{t:e}=is(),[t,r]=P.useState([]),[n,i]=P.useState(!0),[a,s]=P.useState({}),[l,c]=P.useState({}),[u,h]=P.useState(null),[d,f]=P.useState({}),[p,g]=P.useState({}),[m,v]=P.useState(null),[b,y]=P.useState(null),[j,w]=P.useState({}),[x,S]=P.useState({}),[N,_]=P.useState({}),C=P.useRef(),E=localStorage.getItem("token"),O=!!E;let A="";try{if(E){const q=Xh(E);A=(q==null?void 0:q.name)||""}}catch{}P.useEffect(()=>{k()},[]);const k=async()=>{i(!0);try{const V=await(await fetch("/api/reports")).json(),Y=V.denuncias||V;r(Array.isArray(Y)?Y:[]);const J={};Y.forEach(X=>J[X._id]=X.likes||0),s(J)}catch(q){console.error("Error al cargar denuncias:",q),r([])}finally{i(!1)}};P.useEffect(()=>{const q=V=>{C.current&&!C.current.contains(V.target)&&v(null)};return document.addEventListener("click",q),()=>document.removeEventListener("click",q)},[]);const $=q=>{const V=Math.floor((new Date-new Date(q))/1e3),Y={a√±o:31536e3,mes:2592e3,d√≠a:86400,hora:3600,minuto:60};for(const[J,X]of Object.entries(Y)){const ne=Math.floor(V/X);if(ne>=1)return`${ne} ${J}${ne>1?J==="mes"?"es":"s":""}`}return"ahora"},I=q=>{const Y=(q||"").match(/https?:\/\/[^\s<>"']+/i);return Y?Y[0]:null},T=(q,V)=>{const Y=`${q.slice(0,100)}... ${V}`.trim();return/Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent)?{wa:`whatsapp://send?text=${encodeURIComponent(Y)}`,tw:`twitter://post?message=${encodeURIComponent(Y)}`,fb:`fb://facewebmodal/f?href=${encodeURIComponent(V)}`}:{wa:`https://wa.me/?text=${encodeURIComponent(Y)}`,tw:`https://twitter.com/intent/tweet?text=${encodeURIComponent(q.slice(0,100))}&url=${encodeURIComponent(V)}`,fb:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(V)}`}},R=async q=>{try{const Y=await(await fetch(`/api/reports/${q}/comentarios`)).json();r(J=>J.map(X=>X._id===q?{...X,comentarios:Y}:X))}catch(V){console.error("Error al actualizar comentarios:",V)}},U=async q=>{try{const V=await fetch(`/api/reports/${q}/like`,{method:"POST",headers:{"Content-Type":"application/json",...E&&{Authorization:`Bearer ${E}`}}});if(!V.ok)throw new Error("Error al dar like");const{likes:Y}=await V.json();s(J=>({...J,[q]:Y})),S(J=>({...J,[q]:!0})),setTimeout(()=>S(J=>({...J,[q]:!1})),250)}catch(V){console.error("‚ùå Error al actualizar like:",V)}},D=async(q,V=null)=>{var X;if(!E){alert("‚ö† Debes iniciar sesi√≥n para comentar.");return}const Y=(u==null?void 0:u.id)||q;if(!((X=d[Y])!=null&&X.trim()))return;let J=`/api/reports/${q}/comentarios`;V&&(J=`/api/reports/${q}/comentarios/${V}/responder`);try{(await fetch(J,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({mensaje:d[Y]})})).ok&&(await R(q),f(ie=>({...ie,[Y]:""})),h(null),_(ie=>({...ie,[q]:!0})),setTimeout(()=>_(ie=>({...ie,[q]:!1})),250))}catch(ne){console.error("Error al enviar comentario:",ne)}},F=()=>h(null),M=async q=>{try{if(!navigator.clipboard){alert("‚ö† Tu navegador no permite copiar autom√°ticamente.");return}await navigator.clipboard.writeText(`${q.slice(0,100)}...
${window.location.href}`),alert("‚úÖ Enlace copiado al portapapeles")}catch(V){console.error("Error al copiar enlace:",V),alert("‚ö† No se pudo copiar el enlace.")}},L=q=>{w(V=>({...V,[q]:!V[q]}))},z=({url:q})=>{if(!q)return null;try{const V=new URL(q),Y=V.hostname.replace(/^www\./,""),J=`https://www.google.com/s2/favicons?domain=${V.hostname}&sz=64`;return o.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"mt-3 block rounded-lg border border-zinc-800 bg-zinc-900/50 p-3 hover:bg-zinc-900 transition",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:J,alt:"",className:"w-5 h-5 rounded"}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"text-sm font-medium text-zinc-100 truncate flex items-center gap-2",children:[o.jsx(bN,{className:"w-4 h-4 opacity-70"}),Y]}),o.jsx("div",{className:"text-xs text-zinc-500 truncate",children:q})]})]})})}catch{return null}},K=({comentario:q,denunciaId:V,nivel:Y=0})=>{var X,ne;const J=(u==null?void 0:u.id)===q._id;return o.jsx("div",{className:`${Y>0?"ml-12 mt-2":"mt-3"}`,children:o.jsx("div",{className:`group ${Y===0?"border-l-2 border-zinc-800 pl-4":""}`,children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${Y===0?"bg-zinc-800":"bg-zinc-900"}`,children:o.jsx(En,{className:"w-4 h-4 text-zinc-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-white text-sm",children:q.usuario||"An√≥nimo"}),o.jsxs("span",{className:"text-xs text-zinc-500",children:["¬∑ ",$(q.fecha)]})]}),o.jsx("p",{className:"text-sm text-zinc-300 break-words",dangerouslySetInnerHTML:{__html:Kt.sanitize(q.mensaje)}}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[O&&o.jsx("button",{onClick:()=>h({id:q._id,denunciaId:V}),className:"text-xs text-zinc-500 hover:text-blue-400 transition",children:"Responder"}),((X=q.respuestas)==null?void 0:X.length)>0&&o.jsx("button",{onClick:()=>g(ie=>({...ie,[q._id]:!ie[q._id]})),className:"text-xs text-zinc-500 hover:text-white transition flex items-center gap-1",children:p[q._id]?o.jsxs(o.Fragment,{children:[o.jsx($x,{className:"w-3 h-3"}),"Ocultar"]}):o.jsxs(o.Fragment,{children:[o.jsx(vo,{className:"w-3 h-3"}),q.respuestas.length," respuesta",q.respuestas.length>1?"s":""]})})]}),J&&o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx("input",{type:"text",placeholder:`Responder a ${q.usuario||"An√≥nimo"}...`,value:d[q._id]||"",onChange:ie=>f(ae=>({...ae,[q._id]:ie.target.value})),className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none",autoFocus:!0}),o.jsx("button",{onClick:()=>D(V,q._id),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition",children:o.jsx(mo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:F,className:"p-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),p[q._id]&&((ne=q.respuestas)==null?void 0:ne.map(ie=>o.jsx(K,{comentario:ie,denunciaId:V,nivel:Y+1},ie._id)))]})]})})})},W=(q,V=!1)=>{var ge,he,Q,ee,se,ce;const Y=typeof window<"u"?window.location.href:"",J=T(q.contenido,Y),X=I(q.contenido),ne=j[q._id],ie=280,ae=(q.contenido||"").length>ie;return o.jsx("article",{className:`border rounded-xl transition-all hover:border-zinc-700 ${V?"border-purple-500/30 bg-purple-500/5":"border-zinc-800 bg-black"}`,children:o.jsx("div",{className:"px-4 pt-4 pb-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg flex-shrink-0 ${V?"bg-purple-500 text-black":"bg-red-500 text-white"}`,children:((ge=q.nombre)==null?void 0:ge.charAt(0).toUpperCase())||"A"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-white",children:q.nombre||"An√≥nimo"}),V&&o.jsx(hl,{className:"w-4 h-4 text-purple-400 fill-purple-400"}),o.jsx(vN,{className:"w-3 h-3 text-zinc-500"}),o.jsx("span",{className:"text-sm text-zinc-500",children:$(q.createdAt)})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx("p",{className:"text-[15px] leading-relaxed text-white whitespace-pre-wrap break-words",dangerouslySetInnerHTML:{__html:Kt.sanitize(ne||!ae?q.contenido:`${q.contenido.slice(0,ie)}...`)}}),ae&&o.jsx("button",{onClick:()=>L(q._id),className:"mt-1 text-sm text-blue-400 hover:text-blue-300 transition",children:ne?"Ver menos":"Ver m√°s"})]}),X&&o.jsx(z,{url:X}),q.media&&o.jsx("div",{className:"mt-3 rounded-xl overflow-hidden border border-zinc-800",children:/\.(mp4|mov|webm)$/i.test(q.media)?o.jsx("video",{src:q.media,controls:!0,className:"w-full max-h-96"}):o.jsx("img",{src:q.media,alt:"Evidencia",className:"w-full max-h-96 object-cover cursor-pointer hover:opacity-90 transition",onClick:()=>y(q.media)})}),o.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-zinc-800 pt-3",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsxs("button",{onClick:()=>U(q._id),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition hover:bg-zinc-900 ${x[q._id]?"scale-110":"scale-100"}`,children:[o.jsx(Cx,{className:"w-5 h-5 text-zinc-500 hover:text-red-500 transition"}),o.jsx("span",{className:"text-sm text-zinc-400",children:a[q._id]||0})]}),o.jsxs("button",{onClick:()=>{c(te=>({...te,[q._id]:!te[q._id]})),_(te=>({...te,[q._id]:!0})),setTimeout(()=>_(te=>({...te,[q._id]:!1})),250)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition hover:bg-zinc-900 ${N[q._id]?"scale-105":"scale-100"}`,children:[o.jsx(go,{className:"w-5 h-5 text-zinc-500 hover:text-blue-500 transition"}),o.jsx("span",{className:"text-sm text-zinc-400",children:((he=q.comentarios)==null?void 0:he.length)||0})]}),o.jsx("button",{onClick:te=>{te.stopPropagation(),v(ve=>ve===q._id?null:q._id)},className:"flex items-center gap-2 px-3 py-2 rounded-lg transition hover:bg-zinc-900",children:o.jsx(yN,{className:"w-5 h-5 text-zinc-500 hover:text-green-500 transition"})})]}),((Q=q.comentarios)==null?void 0:Q.length)>0&&o.jsxs("span",{className:"text-xs text-zinc-500",children:[o.jsx(Di,{className:"w-4 h-4 inline mr-1"}),q.likes+(((ee=q.comentarios)==null?void 0:ee.length)||0)*2," interacciones"]})]}),m===q._id&&o.jsxs("div",{ref:C,className:"mt-2 p-3 bg-zinc-900 border border-zinc-800 rounded-lg flex items-center gap-3",onClick:te=>te.stopPropagation(),children:[o.jsx("a",{href:J.wa,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-green-600/20 hover:bg-green-600/30 rounded-lg transition",children:o.jsx(Lc,{className:"w-5 h-5 text-green-400"})}),o.jsx("a",{href:J.tw,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-600/20 hover:bg-blue-600/30 rounded-lg transition",children:o.jsx(zc,{className:"w-5 h-5 text-blue-400"})}),o.jsx("a",{href:J.fb,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-700/20 hover:bg-blue-700/30 rounded-lg transition",children:o.jsx(as,{className:"w-5 h-5 text-blue-500"})}),o.jsx("button",{onClick:()=>M(q.contenido),className:"p-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition",children:o.jsx(t_,{className:"w-5 h-5 text-zinc-400"})})]}),l[q._id]&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-800",children:[O&&o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:o.jsx(En,{className:"w-4 h-4 text-zinc-400"})}),o.jsx("input",{type:"text",placeholder:"Escribe un comentario...",value:d[q._id]||"",onChange:te=>f(ve=>({...ve,[q._id]:te.target.value})),onKeyPress:te=>{var ve;te.key==="Enter"&&((ve=d[q._id])!=null&&ve.trim())&&D(q._id)},className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none"}),o.jsx("button",{onClick:()=>D(q._id),disabled:!((se=d[q._id])!=null&&se.trim()),className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white rounded-lg transition",children:o.jsx(mo,{className:"w-4 h-4"})})]}),((ce=q.comentarios)==null?void 0:ce.length)>0?o.jsx("div",{className:"space-y-3",children:q.comentarios.map(te=>o.jsx(K,{comentario:te,denunciaId:q._id},te._id))}):o.jsx("p",{className:"text-center text-sm text-zinc-500 py-4",children:O?"S√© el primero en comentar":"Inicia sesi√≥n para comentar"})]})]})]})})},q._id)},B=t.filter(q=>q.destacada),H=t.filter(q=>!q.destacada);return n?o.jsx("main",{className:"min-h-screen bg-transparent py-8 px-4",children:o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})})})}):o.jsxs("main",{className:"min-h-screen bg-transparent py-8 px-4",children:[o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx(yo,{to:"/",label:"Volver al inicio"}),o.jsxs("div",{className:"flex items-center justify-between mb-6 mt-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Denuncias Ciudadanas"}),o.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Voces que exigen justicia y cambio"})]}),o.jsxs("a",{href:O?"/romper":"/login?redirect=/romper",className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition",children:[o.jsx(Jn,{className:"w-4 h-4"}),"Hacer denuncia"]})]}),t.length>0&&o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Total denuncias"})]}),o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:B.length}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Destacadas"})]}),o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3 text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:t.reduce((q,V)=>{var Y;return q+(((Y=V.comentarios)==null?void 0:Y.length)||0)},0)}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Comentarios"})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-zinc-900/50 border border-zinc-800 rounded-xl",children:[o.jsx(or,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-400 text-lg font-medium",children:e("general.no_data","A√∫n no hay denuncias aprobadas")}),o.jsx("p",{className:"text-sm text-zinc-500 mt-2 mb-6",children:"S√© el primero en alzar tu voz contra la injusticia"}),o.jsxs("a",{href:O?"/romper":"/login?redirect=/romper",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition",children:[o.jsx(Jn,{className:"w-4 h-4"}),"Hacer la primera denuncia"]})]}):o.jsxs("div",{className:"space-y-4",children:[B.length>0&&o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(hl,{className:"w-5 h-5 text-purple-400 fill-purple-400"}),o.jsx("h2",{className:"text-lg font-semibold text-white",children:"Denuncias Destacadas"})]}),o.jsx("div",{className:"space-y-3",children:B.map(q=>W(q,!0))})]}),H.length>0&&o.jsxs("section",{children:[B.length>0&&o.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"M√°s denuncias"}),o.jsx("div",{className:"space-y-3",children:H.map(q=>W(q,!1))})]}),o.jsxs("div",{className:"mt-8 text-center py-8 bg-zinc-900/50 border border-zinc-800 rounded-xl",children:[o.jsx("p",{className:"text-zinc-400 mb-4",children:"¬øTienes algo que reportar? Tu aporte ayuda a visibilizar problemas reales."}),o.jsxs("a",{href:O?"/romper":"/login?redirect=/romper",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition",children:[o.jsx(Jn,{className:"w-4 h-4"}),"Hacer denuncia"]})]})]})]}),b&&o.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:[o.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-red-400 transition",onClick:()=>y(null),children:o.jsx(Ut,{className:"w-6 h-6"})}),o.jsx("img",{src:b,alt:"Vista ampliada",className:"max-w-full max-h-full object-contain",onClick:q=>q.stopPropagation()})]})]})}function nn(e,t=""){return e?e.includes("?")?e:t?`${e}?v=${t}`:e:null}function Jd(e){var t;return e&&{...e,_cover:e.cover||e.coverUrl||e.imagen||((t=e.imagenes)==null?void 0:t[0])||null,_coverHash:e.coverHash||e.hash||"",_coverKind:e.coverKind||e.imageKind||e.kind||null}}function B_(e){return Array.isArray(e)?e.map(Jd):[]}function F_(e){return ut({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"},child:[]}]})(e)}function q_(e){return ut({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(e)}function qm(e){return ut({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}const U_=({items:e,renderItem:t,label:r,gap:n=24})=>{const i=P.useRef(null),a=P.useRef({x:0,y:0}),[s,l]=P.useState(!1),[c,u]=P.useState(!1),h=e.length>=3,d=()=>{if(!i.current||!h)return;const{scrollLeft:p,scrollWidth:g,clientWidth:m}=i.current;l(p>2),u(p<g-m-2)};P.useEffect(()=>{const p=i.current;if(!p||!h)return;const g=b=>{Math.abs(b.deltaX)>Math.abs(b.deltaY)},m=b=>{a.current={x:b.touches[0].clientX,y:b.touches[0].clientY}},v=b=>{const y=Math.abs(b.touches[0].clientX-a.current.x),j=Math.abs(b.touches[0].clientY-a.current.y);y>j&&b.stopPropagation()};return p.addEventListener("wheel",g,{passive:!0}),p.addEventListener("touchstart",m,{passive:!0}),p.addEventListener("touchmove",v,{passive:!0}),()=>{p.removeEventListener("wheel",g),p.removeEventListener("touchstart",m),p.removeEventListener("touchmove",v)}},[h]),P.useEffect(()=>{if(!h)return;d();const p=()=>d();return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[h,e.length]);const f=p=>{if(!i.current)return;const g=i.current,m=g.scrollLeft,v=g.clientWidth,b=g.scrollWidth,y=Math.round(m/v);let w=(p==="next"?y+1:y-1)*v;w=Math.max(0,Math.min(w,b-v)),g.scrollTo({left:w,behavior:"smooth"})};return h?o.jsxs("div",{className:"hidden sm:block relative overflow-visible",children:[s&&o.jsx("button",{onClick:()=>f("prev"),"aria-label":"Anterior",role:"button",tabIndex:0,className:"custom-arrow left-arrow",children:o.jsx(ZO,{size:20})}),o.jsx("div",{ref:i,onScroll:d,role:"region","aria-label":r,className:"overflow-x-auto overflow-y-visible pl-6 pr-0 py-4 md:py-6 scroll-smooth [scrollbar-gutter:stable] hide-scrollbar relative",style:{touchAction:"pan-y",overscrollBehavior:"auto",scrollSnapType:"x mandatory",scrollPaddingLeft:"24px",scrollPaddingRight:"0px",WebkitMaskImage:"linear-gradient(to right, transparent 0, black 8px, black 100%)",askImage:"linear-gradient(to right, transparent 0, black 8px, black 100%)"},children:o.jsx("div",{className:"flex gap-6 py-1",children:e.map(p=>o.jsx("div",{className:"flex-shrink-0 w-full sm:w-[calc((100%_-_24px)_/_2)] lg:w-[calc((100%_-_48px)_/_3)]",style:{scrollSnapAlign:"start",scrollSnapStop:"always"},children:t(p)},p._id||p.id))})}),c&&o.jsx("button",{onClick:()=>f("next"),"aria-label":"Siguiente",role:"button",tabIndex:0,className:"custom-arrow right-arrow",children:o.jsx(JO,{size:20})})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(p=>o.jsx("div",{children:t(p)},p._id||p.id))})};function H_(){const[e,t]=P.useState([]),[r,n]=P.useState("Todas"),[i,a]=P.useState(""),[s,l]=P.useState(9),[c,u]=P.useState(!0),h=P.useRef(null);P.useLayoutEffect(()=>{window.scrollTo(0,0),setTimeout(()=>window.scrollTo(0,0),0)},[]);const d=x=>x?(Date.now()-new Date(x))/(1e3*60*60)<=24:!1;P.useEffect(()=>{(async()=>{try{const S=await fetch("/api/news?limit=1000");if(!S.ok)throw new Error("Error al obtener noticias");const N=await S.json(),C=B_(N.noticias||[]).filter(E=>E._id&&E.titulo&&E.contenido).map(E=>{const O=Kt.sanitize(E.titulo),A=Kt.sanitize(E.contenido,{ALLOWED_TAGS:["b","i","em","strong","p","h1","h2","h3","ul","ol","li","a","blockquote","br"],ALLOWED_ATTR:["href","target","rel"]}),k=A.replace(/<style[^>]*>[\s\S]*?<\/style>/gi," ").replace(/<script[^>]*>[\s\S]*?<\/script>/gi," ").replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),$=k.length>280?k.slice(0,277)+"‚Ä¶":k;return{...E,titulo:O,contenido:A,extractoPlano:$,imagen:Kt.sanitize(E.imagen||""),autor:Kt.sanitize(E.autor||"Autor verificado"),categoria:Kt.sanitize(E.categoria||"General"),destacada:E.destacada===!0||E.destacada==="true",fecha:new Date(E.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),createdAt:E.createdAt}});t(C)}catch(S){console.error("Error:",S)}finally{u(!1)}})()},[]);const f=["Todas","General","Pol√≠tica","Econom√≠a","Internacional","Socio pol√≠tico","Tecnolog√≠a"],p=e.filter(x=>{var A;const S=((A=x.categoria)==null?void 0:A.toLowerCase())||"",N=r.toLowerCase(),_=x.titulo.toLowerCase(),C=x.contenido.toLowerCase(),E=r==="Todas"||S===N,O=_.includes(i.toLowerCase())||C.includes(i.toLowerCase());return E&&O}),g=p.sort((x,S)=>{const N=(S.destacada===!0)-(x.destacada===!0);return N!==0?N:new Date(S.createdAt)-new Date(x.createdAt)}),v=(x=>{const S=new Date,N={Hoy:[],"Esta semana":[],"Este mes":[],Anteriores:[]};return x.forEach(_=>{const C=new Date(_.createdAt),E=(S-C)/(1e3*60*60),O=(S-C)/(1e3*60*60*24);E<=24?N.Hoy.push(_):O<=7?N["Esta semana"].push(_):O<=30?N["Este mes"].push(_):N.Anteriores.push(_)}),N})(g),b=x=>o.jsx("div",{className:"news-card w-full max-w-full bg-zinc-800/80 hover:bg-zinc-700/80 rounded-2xl border border-zinc-700/50 shadow-lg shadow-black/40 hover:shadow-black/60 hover:-translate-y-1 hover:scale-[1.04] hover:z-10 transition-all duration-200 touch-action-manipulation will-change-transform origin-center relative z-0",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(xe,{to:`/noticias/${x._id}`,draggable:!1,className:"flex flex-col flex-none",children:[o.jsx("div",{className:"news-card__media relative overflow-hidden aspect-video bg-zinc-900 rounded-t-2xl",children:x._cover?x._cover.match(/\.(avif|webp|jpg|jpeg|png)$/i)?o.jsx("img",{src:nn(x._cover,x._coverHash),alt:x.titulo,draggable:!1,className:"block w-full aspect-[16/9] object-cover sm:aspect-auto sm:h-full",loading:"lazy",decoding:"async"}):o.jsxs("picture",{children:[o.jsx("source",{type:"image/avif",srcSet:nn(x._cover+".avif",x._coverHash)}),o.jsx("source",{type:"image/webp",srcSet:nn(x._cover+".webp",x._coverHash)}),o.jsx("img",{src:nn(x._cover+".jpg",x._coverHash),alt:x.titulo,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})]}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-zinc-800 to-zinc-700 flex items-center justify-center text-zinc-400 text-xs",children:"Sin imagen"})},x._coverHash||x._id),o.jsxs("div",{className:"news-card__body p-4 md:p-5 relative flex flex-col",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 min-h-[22px] md:min-h-[24px] mb-1",children:[x.categoria&&o.jsx("span",{className:`text-white text-[10px] sm:text-xs md:text-xs px-2 py-1 rounded font-medium shadow-sm ${x.categoria==="Socio pol√≠tico"?"bg-red-600":x.categoria==="Tecnolog√≠a"?"bg-cyan-500":"bg-red-600"}`,children:x.categoria}),x.destacada&&o.jsx("span",{className:"bg-yellow-400 text-black text-[10px] sm:text-xs md:text-xs px-2 py-1 rounded font-bold shadow-sm",children:"üåü Destacada"}),d(x.createdAt)&&o.jsx("span",{className:"bg-blue-600 text-white text-[10px] sm:text-xs md:text-xs px-2 py-1 rounded font-bold shadow-sm",children:"New"})]}),o.jsx("h2",{className:"text-lg md:text-xl font-bold line-clamp-2 mt-0.5 mb-1 leading-snug text-white transition-colors duration-200",children:x.titulo}),o.jsx("p",{className:"excerpt text-sm sm:text-base md:text-base text-zinc-300 leading-snug break-words",children:x.extractoPlano})]})]}),o.jsx("div",{className:"news-card__footer px-4 md:px-5 pb-4 md:pb-5 flex-shrink-0 md:border-t md:border-zinc-700/30",children:o.jsxs("div",{className:"pt-1 sm:pt-1 flex flex-col gap-1 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"block md:hidden text-[11px] text-zinc-400",children:o.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[o.jsx("span",{className:"whitespace-nowrap",children:x.fecha.split(" a las ")[0]}),x.fecha.includes(" a las ")&&o.jsxs("span",{className:"whitespace-nowrap",children:["‚Ä¢ ",x.fecha.split(" a las ")[1]]})]})}),o.jsx("div",{className:"hidden md:block text-xs text-zinc-400",children:x.fecha})]}),j(x._id,x.titulo)]})})]})}),y=x=>{switch(x){case"Hoy":return o.jsx(qm,{className:"text-white/70",size:"1.5rem"});case"Esta semana":return o.jsx(q_,{className:"text-white/70",size:"1.5rem"});case"Este mes":return o.jsx(qm,{className:"text-white/70",size:"1.5rem"});case"Anteriores":return o.jsx(F_,{className:"text-white/70",size:"1.5rem"});default:return null}},j=(x,S)=>{const N=encodeURIComponent(`${window.location.origin}/noticias/${x}`),_=encodeURIComponent(S);return o.jsxs("div",{className:"flex gap-4 text-white text-xl",children:[o.jsx("a",{href:`https://wa.me/?text=${N}`,target:"_blank",rel:"noreferrer",className:"hover:text-green-400",children:o.jsx(Lc,{})}),o.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${N}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-500",children:o.jsx(as,{})}),o.jsx("a",{href:`https://twitter.com/intent/tweet?url=${N}&text=${_}`,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400",children:o.jsx(zc,{})}),o.jsx("a",{href:`https://t.me/share/url?url=${N}&text=${_}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-300",children:o.jsx(Yh,{})})]})},w=()=>o.jsxs("div",{className:"animate-pulse bg-zinc-800/80 rounded-2xl border border-zinc-700/50 shadow-lg shadow-black/40 w-full p-4 flex flex-col justify-between",style:{height:"var(--card-h)"},children:[o.jsx("div",{className:"bg-zinc-700/60 h-[45%] rounded-t-2xl mb-3"}),o.jsx("div",{className:"bg-zinc-700/60 h-4 rounded w-3/4 mb-2"}),o.jsx("div",{className:"bg-zinc-700/60 h-3 rounded w-2/3"})]});return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
/* ===== Altura fija + proporci√≥n de imagen (desktop m√°s compacto) ===== */
:root { --card-h: 520px; --img-ratio: 0.45; }                  /* m√≥vil / base */
@media (min-width: 1024px)  { :root { --card-h: 560px; --img-ratio: 0.42; } } /* ‚Üë antes 0.40 */
@media (min-width: 1280px)  { :root { --card-h: 580px; --img-ratio: 0.40; } } /* ‚Üë antes 0.36 */
@media (min-width: 1536px)  { :root { --card-h: 600px; --img-ratio: 0.38; } } /* ‚Üë antes 0.34 */

  /* Flechas del carrusel nativo - fuera del viewport, √°rea t√°ctil segura */
  .custom-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(6px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 9999px;
    min-width: 40px;
    min-height: 40px;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    z-index: 20;
    cursor: pointer;
    pointer-events: auto;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }
  .custom-arrow:hover { 
    color: #ff4444; 
    background: rgba(0, 0, 0, 0.85);
    border-color: rgba(255, 68, 68, 0.4);
    transform: translateY(-50%) scale(1.08);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  }
  .custom-arrow:focus-visible {
    outline: 2px solid #ff4444;
    outline-offset: 3px;
  }
  .left-arrow { left: -8px; }
  .right-arrow { right: -8px; }

  /* Desktop ‚â•1024px: offsets ¬±16px (flechas compactas) */
  @media (min-width: 1024px) {
    .left-arrow { left: -16px; }
    .right-arrow { right: -16px; }
  }

  /* Ocultar scrollbar en scroller m√≥vil */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  /* Evitar arrastre/selecci√≥n en carrusel m√≥vil (iOS Safari fix) */
  .carousel-touch-safe,
  .carousel-touch-safe * {
    -webkit-user-drag: none;
    user-drag: none;
    -webkit-touch-callout: none;
    user-select: none;
  }

  /* Ocultar scrollbar nativo pero mantener funcionalidad */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* === Tarjeta: altura uniforme y sin "huecos" === */
  .news-card { display:flex; flex-direction:column; height:var(--card-h); min-height:var(--card-h); max-height:var(--card-h); overflow:hidden; }
  .news-card__media { width:100%; height: calc(var(--card-h) * var(--img-ratio)); overflow:hidden; flex-shrink:0; }
  .news-card__media img { width:100%; height:100%; object-fit:cover; }
  .news-card__body { flex: 0 0 auto; }              /* el cuerpo no "estira" la tarjeta */
  .news-card__footer { margin-top:auto; flex-shrink:0; } /* pie fijo al fondo */

  /* Clamps para evitar desbordes */
  .news-card h2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
  .news-card .excerpt{ display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
  @media (min-width:1024px){ .news-card .excerpt{ -webkit-line-clamp:3; } } /* ‚Üë antes 2 l√≠neas en desktop */

  /* Ajustes mobile */
  @media (max-width: 767px) {
    * { -webkit-tap-highlight-color: transparent; -webkit-touch-callout: none; }
    .touch-action-manipulation { touch-action: manipulation !important; }
    .custom-arrow { background: rgba(0, 0, 0, 0.85); }
    .left-arrow { left: 8px; }
    .right-arrow { right: 8px; }
  }
`}),o.jsxs("div",{className:"min-h-screen bg-transparent text-white",children:[o.jsxs("header",{className:"max-w-6xl mx-auto px-4 md:px-6 pt-[calc(var(--nav-h,64px)+12px)] mb-4 md:mb-6",children:[o.jsx("div",{className:"flex sm:hidden items-center justify-between mb-3",children:o.jsxs(xe,{to:"/",className:"inline-flex items-center gap-2 rounded-xl border border-zinc-800 bg-zinc-900/70 px-3 py-2 text-sm text-zinc-200 hover:bg-zinc-900 transition-colors",children:[o.jsx(no,{className:"w-4 h-4","aria-hidden":"true"}),"Volver al inicio"]})}),o.jsxs("nav",{"aria-label":"Breadcrumb",className:"hidden md:flex items-center gap-2 text-sm text-zinc-400 mb-2",children:[o.jsx(xe,{to:"/",className:"hover:text-zinc-300 transition-colors",children:"Inicio"}),o.jsx(Mc,{className:"w-4 h-4","aria-hidden":"true"}),o.jsx("span",{className:"text-zinc-300",children:"Noticias"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-9 h-9 rounded-xl bg-zinc-900/70 border border-zinc-800/60",children:o.jsx(fl,{className:"w-5 h-5 text-zinc-300",strokeWidth:1.5,"aria-hidden":"true"})}),o.jsxs("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight text-zinc-100",children:["Noticias ",o.jsx("span",{className:"text-zinc-400",children:"de Lev√°ntateCuba"})]})]})]}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6",children:[o.jsx("div",{className:"mb-8 rounded-xl border border-zinc-800 bg-gradient-to-r from-zinc-900/80 to-zinc-900/60 backdrop-blur-sm p-4 md:p-5",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-semibold mb-1",children:"‚ù§Ô∏è Apoya la causa"}),o.jsx("p",{className:"text-zinc-400 text-sm",children:"Visita nuestra tienda y ayuda a sostener esta plataforma independiente."})]}),o.jsx(xe,{to:"/tienda",className:"inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-700 px-6 py-2.5 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-red-600/20 whitespace-nowrap",children:"Ver productos"})]})}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:f.map(x=>o.jsx("button",{className:`px-4 py-1 rounded-full text-sm border transition ${r===x?"bg-red-600 border-red-600 text-white":"border-white/30 text-white/80 hover:bg-white/10"}`,onClick:()=>{n(x),l(9)},children:x},x))}),o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("input",{type:"text",placeholder:"Buscar noticias...",className:"px-4 py-2 w-full max-w-md rounded-lg bg-white/10 text-white border border-white/20",value:i,onChange:x=>{a(x.target.value),l(9)}})}),c?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((x,S)=>o.jsx(w,{},S))}):Object.entries(v).map(([x,S])=>S.length===0?null:o.jsxs("div",{className:"mb-10",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 text-white/90 flex items-center gap-3",children:[y(x),x]}),o.jsx("div",{className:"block sm:hidden",children:o.jsx("ul",{className:"flex flex-col gap-6 px-4 pb-8",children:S.map(N=>o.jsx("li",{className:"scroll-mb-4",children:b(N)},N._id||N.id))})}),o.jsx(U_,{items:S,label:`Carrusel de ${x}`,renderItem:b})]},x)),p.length===0&&o.jsx("p",{className:"text-center text-gray-400 mt-10",children:"No se encontraron noticias con esos criterios."}),!1,o.jsx("div",{ref:h,className:"h-10 mt-10"})]})]})]})}let W_={data:""},V_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||W_,G_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K_=/\/\*[^]*?\*\/|  +/g,Um=/\n+/g,Nn=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Nn(s,a):a+"{"+Nn(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Nn(s,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nn.p?Nn.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Zr={},c1=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+c1(e[r]);return t}return e},Y_=(e,t,r,n,i)=>{let a=c1(e),s=Zr[a]||(Zr[a]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(a));if(!Zr[s]){let c=a!==e?e:(u=>{let h,d,f=[{}];for(;h=G_.exec(u.replace(K_,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Um," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Um," ").trim();return f[0]})(e);Zr[s]=Nn(i?{["@keyframes "+s]:c}:c,r?"":"."+s)}let l=r&&Zr.g?Zr.g:null;return r&&(Zr.g=Zr[s]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Zr[s],t,n,l),s},X_=(e,t,r)=>e.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let l=s(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":Nn(l,""):l===!1?"":l}return n+i+(s??"")},"");function Rc(e){let t=this||{},r=e.call?e(t.p):e;return Y_(r.unshift?r.raw?X_(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,V_(t.target),t.g,t.o,t.k)}let u1,Qd,ef;Rc.bind({g:1});let fn=Rc.bind({k:1});function Z_(e,t,r,n){Nn.p=t,u1=e,Qd=r,ef=n}function Pn(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let l=Object.assign({},a),c=l.className||i.className;r.p=Object.assign({theme:Qd&&Qd()},l),r.o=/ *go\d+/.test(c),l.className=Rc.apply(r,n)+(c?" "+c:""),t&&(l.ref=s);let u=e;return e[0]&&(u=l.as||e,delete l.as),ef&&u[0]&&ef(l),u1(u,l)}return t?t(i):i}}var J_=e=>typeof e=="function",gl=(e,t)=>J_(e)?e(t):e,Q_=(()=>{let e=0;return()=>(++e).toString()})(),d1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),eE=20,f1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,eE)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return f1(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},nl=[],Gn={toasts:[],pausedAt:void 0},ui=e=>{Gn=f1(Gn,e),nl.forEach(t=>{t(Gn)})},tE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rE=(e={})=>{let[t,r]=P.useState(Gn),n=P.useRef(Gn);P.useEffect(()=>(n.current!==Gn&&r(Gn),nl.push(r),()=>{let a=nl.indexOf(r);a>-1&&nl.splice(a,1)}),[]);let i=t.toasts.map(a=>{var s,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((s=e[a.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||tE[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:i}},nE=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Q_()}),os=e=>(t,r)=>{let n=nE(t,e,r);return ui({type:2,toast:n}),n.id},Dt=(e,t)=>os("blank")(e,t);Dt.error=os("error");Dt.success=os("success");Dt.loading=os("loading");Dt.custom=os("custom");Dt.dismiss=e=>{ui({type:3,toastId:e})};Dt.remove=e=>ui({type:4,toastId:e});Dt.promise=(e,t,r)=>{let n=Dt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?gl(t.success,i):void 0;return a?Dt.success(a,{id:n,...r,...r==null?void 0:r.success}):Dt.dismiss(n),i}).catch(i=>{let a=t.error?gl(t.error,i):void 0;a?Dt.error(a,{id:n,...r,...r==null?void 0:r.error}):Dt.dismiss(n)}),e};var iE=(e,t)=>{ui({type:1,toast:{id:e,height:t}})},aE=()=>{ui({type:5,time:Date.now()})},io=new Map,oE=1e3,sE=(e,t=oE)=>{if(io.has(e))return;let r=setTimeout(()=>{io.delete(e),ui({type:4,toastId:e})},t);io.set(e,r)},lE=e=>{let{toasts:t,pausedAt:r}=rE(e);P.useEffect(()=>{if(r)return;let a=Date.now(),s=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Dt.dismiss(l.id);return}return setTimeout(()=>Dt.dismiss(l.id),c)});return()=>{s.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=P.useCallback(()=>{r&&ui({type:6,time:Date.now()})},[r]),i=P.useCallback((a,s)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=s||{},h=t.filter(p=>(p.position||u)===(a.position||u)&&p.height),d=h.findIndex(p=>p.id===a.id),f=h.filter((p,g)=>g<d&&p.visible).length;return h.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,g)=>p+(g.height||0)+c,0)},[t]);return P.useEffect(()=>{t.forEach(a=>{if(a.dismissed)sE(a.id,a.removeDelay);else{let s=io.get(a.id);s&&(clearTimeout(s),io.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:iE,startPause:aE,endPause:n,calculateOffset:i}}},cE=fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uE=fn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dE=fn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fE=Pn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hE=fn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pE=Pn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hE} 1s linear infinite;
`,mE=fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gE=fn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vE=Pn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yE=Pn("div")`
  position: absolute;
`,bE=Pn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xE=fn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wE=Pn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jE=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?P.createElement(wE,null,t):t:r==="blank"?null:P.createElement(bE,null,P.createElement(pE,{...n}),r!=="loading"&&P.createElement(yE,null,r==="error"?P.createElement(fE,{...n}):P.createElement(vE,{...n})))},SE=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NE=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,OE="0%{opacity:0;} 100%{opacity:1;}",_E="0%{opacity:1;} 100%{opacity:0;}",EE=Pn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AE=Pn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kE=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=d1()?[OE,_E]:[SE(r),NE(r)];return{animation:t?`${fn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PE=P.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?kE(e.position||t||"top-center",e.visible):{opacity:0},a=P.createElement(jE,{toast:e}),s=P.createElement(AE,{...e.ariaProps},gl(e.message,e));return P.createElement(EE,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:s}):P.createElement(P.Fragment,null,a,s))});Z_(P.createElement);var TE=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=P.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return P.createElement("div",{ref:a,className:t,style:r},i)},CE=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:d1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},$E=Rc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Es=16,IE=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:l,handlers:c}=lE(r);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Es,left:Es,right:Es,bottom:Es,pointerEvents:"none",...a},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let h=u.position||t,d=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=CE(h,d);return P.createElement(TE,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?$E:"",style:f},u.type==="custom"?gl(u.message,u):i?i(u):P.createElement(PE,{toast:u,position:h}))}))},ue=Dt;function ME(){is(),Zx();const e=Pr(),t=P.useRef(null),r=P.useRef(null),[n,i]=P.useState(!1),[a,s]=P.useState([]),[l,c]=P.useState(""),[u,h]=P.useState(""),[d,f]=P.useState(!1),[p,g]=P.useState(!1),[m,v]=P.useState(""),[b,y]=P.useState({contenido:!1}),j=l.trim().length,w=j>=10,x=b.contenido&&!w,S=localStorage.getItem("token"),N=!!S;P.useEffect(()=>()=>{a.forEach(k=>{k.preview&&URL.revokeObjectURL(k.preview)})},[a]);const _=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?g(!0):k.type==="dragleave"&&g(!1)},C=k=>{k.preventDefault(),k.stopPropagation(),g(!1),k.dataTransfer.files&&k.dataTransfer.files.length>0&&E(Array.from(k.dataTransfer.files))},E=k=>{if(v(""),a.length+k.length>5){v("‚ùå M√°ximo 5 archivos permitidos por denuncia");return}const $=["image/jpeg","image/jpg","image/png","image/gif","image/webp","video/mp4","video/webm","video/quicktime"],I=[];for(const T of k){if(!$.includes(T.type)){v(`‚ùå "${T.name}" - Tipo no permitido. Solo im√°genes y videos.`);continue}if(T.size>15*1024*1024){v(`‚ùå "${T.name}" supera el l√≠mite de 15MB.`);continue}const R={file:T,preview:URL.createObjectURL(T),type:T.type.startsWith("image/")?"image":"video",name:T.name,size:(T.size/(1024*1024)).toFixed(2)};I.push(R)}I.length>0&&s(T=>[...T,...I])},O=k=>{s($=>{const I=[...$];return I[k].preview&&URL.revokeObjectURL(I[k].preview),I.splice(k,1),I}),v("")},A=async k=>{var T;if(k.preventDefault(),y({contenido:!0}),!N){ue.error("‚ùå Debes iniciar sesi√≥n para hacer una denuncia."),setTimeout(()=>{e("/login?redirect=/romper")},1500);return}if(!w){ue.error("‚ùå Describe tu denuncia con al menos 10 caracteres.");return}const $=new FormData,I=d?"":Kt.sanitize(u.trim());$.set("nombre",I),$.set("contenido",Kt.sanitize(l.trim())),a.forEach(R=>{$.append("files",R.file)});try{i(!0);const R=await fetch("/api/reports",{method:"POST",headers:{Authorization:`Bearer ${S}`},body:$});if(!R.ok){const U=await R.json().catch(()=>({error:"Error desconocido"}));throw new Error(U.error||"Error al enviar denuncia")}(T=t.current)==null||T.reset(),a.forEach(U=>{U.preview&&URL.revokeObjectURL(U.preview)}),s([]),c(""),h(""),f(!1),y({contenido:!1}),ue.success("‚úÖ Tu denuncia fue enviada correctamente. Ser√° revisada pronto."),setTimeout(()=>{e("/denuncias")},2e3)}catch(R){console.error(R),ue.error(R.message||"‚ùå Hubo un error al enviar la denuncia. Intenta de nuevo.")}finally{i(!1)}};return N?o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx(yo,{to:"/",label:"Volver al inicio"}),o.jsxs("header",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Haz tu denuncia ciudadana"}),o.jsx("p",{className:"mx-auto mt-3 max-w-2xl text-sm text-zinc-400",children:"Tu voz importa. Reporta situaciones irregulares de forma segura y an√≥nima si lo deseas."})]}),o.jsx("section",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/50 p-6 md:p-8 shadow-xl",children:o.jsxs("form",{id:"form-report",ref:t,className:"space-y-6",onSubmit:A,noValidate:!0,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-white",children:[o.jsx(En,{className:"w-5 h-5"}),"Identificaci√≥n"]}),o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-zinc-800 bg-zinc-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[d?o.jsx(Dd,{className:"w-5 h-5 text-zinc-400"}):o.jsx(Di,{className:"w-5 h-5 text-zinc-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-white",children:d?"Denuncia An√≥nima":"Denuncia con Nombre"}),o.jsx("p",{className:"text-xs text-zinc-500",children:d?"Tu identidad permanecer√° oculta":"Tu nombre ser√° visible en la denuncia"})]})]}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:`relative w-12 h-6 rounded-full transition ${d?"bg-red-500":"bg-zinc-700"}`,children:o.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${d?"translate-x-6":"translate-x-0"}`})})]}),!d&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"nombre",className:"text-sm font-medium text-white",children:"Tu nombre"}),o.jsx("input",{id:"nombre",name:"nombre",type:"text",placeholder:"Ej: Juan P√©rez",value:u,onChange:k=>h(k.target.value),className:"w-full rounded-lg border border-zinc-800 bg-zinc-900 px-4 py-3 text-white placeholder-zinc-500 outline-none transition focus:border-red-500 focus:ring-1 focus:ring-red-500"}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Este nombre aparecer√° p√∫blicamente en tu denuncia"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{htmlFor:"contenido",className:"flex items-center gap-2 text-sm font-medium text-white",children:[o.jsx(Pi,{className:"w-4 h-4"}),"Descripci√≥n detallada",o.jsx("span",{className:"text-red-400",children:"*"})]}),o.jsxs("span",{className:`text-xs ${j===0?"text-zinc-500":w?"text-green-400":"text-yellow-400"}`,children:[j," caracteres ",j<10&&"(m√≠nimo 10)"]})]}),o.jsx("textarea",{id:"contenido",name:"contenido",placeholder:"Describe detalladamente la situaci√≥n: ¬øQu√© sucedi√≥? ¬øD√≥nde? ¬øCu√°ndo? ¬øQui√©nes est√°n involucrados? Incluye todos los detalles relevantes...",required:!0,minLength:10,value:l,onChange:k=>c(k.target.value),onBlur:()=>y({...b,contenido:!0}),rows:8,className:`w-full resize-y rounded-lg border bg-zinc-900 px-4 py-3 text-white placeholder-zinc-500 outline-none transition ${x?"border-red-500 focus:border-red-500 focus:ring-1 focus:ring-red-500":"border-zinc-800 focus:border-red-500 focus:ring-1 focus:ring-red-500"}`,"aria-invalid":x,"aria-describedby":"contenido-help"}),x&&o.jsxs("p",{className:"flex items-center gap-1 text-xs text-red-400",children:[o.jsx(or,{className:"w-3 h-3"}),"La descripci√≥n debe tener al menos 10 caracteres"]}),o.jsx("p",{id:"contenido-help",className:"text-xs text-zinc-500",children:"S√© espec√≠fico y objetivo. No incluyas informaci√≥n personal sensible que no desees hacer p√∫blica."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-white",children:[o.jsx(Bd,{className:"w-4 h-4"}),"Evidencia multimedia (opcional)"]}),o.jsxs("span",{className:"text-xs text-zinc-500",children:[a.length,"/5 archivos"]})]}),a.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:a.map((k,$)=>o.jsxs("div",{className:"p-3 rounded-lg bg-zinc-900 border border-zinc-800",children:[k.type==="image"&&o.jsx("div",{className:"mb-2 rounded-lg overflow-hidden bg-zinc-800",children:o.jsx("img",{src:k.preview,alt:`Vista previa ${$+1}`,className:"w-full h-32 object-cover"})}),k.type==="video"&&o.jsx("div",{className:"mb-2 rounded-lg overflow-hidden bg-zinc-800",children:o.jsx("video",{src:k.preview,className:"w-full h-32",muted:!0})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.type==="video"?o.jsx(xN,{className:"w-4 h-4 text-zinc-400 flex-shrink-0"}):o.jsx(Wh,{className:"w-4 h-4 text-zinc-400 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-xs text-white truncate",children:k.name}),o.jsxs("p",{className:"text-xs text-zinc-500",children:[k.size," MB"]})]})]}),o.jsx("button",{type:"button",onClick:()=>O($),className:"p-1 text-zinc-400 hover:text-red-400 transition",title:"Eliminar archivo",children:o.jsx(Ut,{className:"w-4 h-4"})})]})]},$))}),a.length<5&&o.jsxs("div",{className:`relative rounded-xl border-2 border-dashed transition-all ${p?"border-red-500 bg-red-500/10":m?"border-red-500/50 bg-red-500/5":"border-zinc-800 bg-zinc-900/50 hover:border-zinc-700"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:C,children:[o.jsx("input",{ref:r,type:"file",name:"files",accept:"image/*,video/*",multiple:!0,className:"absolute inset-0 z-10 h-full w-full cursor-pointer opacity-0",onChange:k=>{const $=Array.from(k.target.files||[]);$.length>0&&E($)}}),o.jsxs("div",{className:"pointer-events-none flex flex-col items-center justify-center p-6 text-center",children:[o.jsx(wN,{className:`h-10 w-10 mb-2 ${p?"text-red-500":"text-zinc-600"}`}),o.jsx("p",{className:"text-sm font-medium text-white mb-1",children:p?"Suelta los archivos aqu√≠":a.length>0?"Agregar m√°s archivos":"Arrastra y suelta tus archivos aqu√≠"}),o.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"o haz clic para seleccionar"}),o.jsx("p",{className:"text-xs text-zinc-600",children:"JPG, PNG, GIF, WEBP, MP4, MOV ‚Ä¢ M√°x 15MB por archivo"})]})]}),m&&o.jsxs("p",{className:"flex items-center gap-1 text-xs text-red-400",children:[o.jsx(or,{className:"w-3 h-3"}),m]})]}),o.jsx("div",{className:"p-4 rounded-lg border border-zinc-800 bg-zinc-900/50",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Rd,{className:"w-5 h-5 text-zinc-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-white",children:"Nota de privacidad"}),o.jsxs("p",{className:"text-xs text-zinc-500",children:["Tu denuncia ser√° revisada por nuestros moderadores antes de ser publicada. Solo se mostrar√°n las denuncias que cumplan con nuestras pol√≠ticas de contenido.",d&&" Tu identidad permanecer√° completamente an√≥nima."]})]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsx("button",{type:"button",onClick:()=>e("/denuncias"),className:"px-4 py-2 text-sm text-zinc-400 hover:text-white transition",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:n||!w,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition ${n||!w?"bg-zinc-800 text-zinc-500 cursor-not-allowed":"bg-red-500 hover:bg-red-600 text-white"}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(Qn,{className:"h-4 w-4 animate-spin"}),"Enviando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(n_,{className:"h-4 w-4"}),"Enviar Denuncia"]})})]})]})}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("p",{className:"text-sm text-zinc-500 italic",children:'"La injusticia en cualquier lugar es una amenaza a la justicia en todas partes"'}),o.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"- Martin Luther King Jr."})]})]})}):o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-2xl",children:[o.jsx(yo,{to:"/",label:"Volver al inicio"}),o.jsxs("div",{className:"mt-12 rounded-2xl border border-red-500/20 bg-red-500/10 p-8 text-center",children:[o.jsx(Rd,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Acceso Restringido"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Debes iniciar sesi√≥n para poder enviar una denuncia"}),o.jsx("button",{onClick:()=>e("/login?redirect=/romper"),className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition",children:"Iniciar Sesi√≥n"})]})]})})}function zE(){const[e,t]=P.useState({nombre:"",correo:"",mensaje:""}),[r,n]=P.useState(!1),i=s=>{const{name:l,value:c}=s.target;t(u=>({...u,[l]:c}))},a=s=>{s.preventDefault(),console.log("Mensaje de contacto:",e),n(!0)};return r?o.jsx("main",{className:"min-h-screen flex items-center justify-center bg-cover bg-fixed bg-[url('/fondo-contacto.jpg')] p-6",children:o.jsxs("div",{className:"bg-white/60 backdrop-blur-lg p-8 rounded-xl shadow-md text-center max-w-md w-full animate-fade-in",children:[o.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"¬°Gracias por contactarnos!"}),o.jsx("p",{className:"text-gray-700",children:"Pronto responderemos a tu mensaje."})]})}):o.jsx("main",{className:"min-h-screen flex items-center justify-center bg-cover bg-fixed bg-[url('/fondo-contacto.jpg')] p-6",children:o.jsxs("form",{onSubmit:a,className:"bg-white/60 backdrop-blur-lg p-8 rounded-xl shadow-md w-full max-w-md space-y-4 animate-fade-in",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-700 text-center",children:"üí¨ Cont√°ctanos"}),o.jsx("input",{type:"text",name:"nombre",placeholder:"Tu nombre",className:"w-full p-3 border rounded bg-white/80 placeholder-gray-600",onChange:i,required:!0}),o.jsx("input",{type:"email",name:"correo",placeholder:"Tu correo electr√≥nico",className:"w-full p-3 border rounded bg-white/80 placeholder-gray-600",onChange:i,required:!0}),o.jsx("textarea",{name:"mensaje",placeholder:"Escribe tu mensaje aqu√≠...",rows:4,className:"w-full p-3 border rounded bg-white/80 placeholder-gray-600",onChange:i,required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-black py-3 rounded font-semibold transition",children:"Enviar mensaje"})]})})}var h1="basil",LE=function(t){return t===3?"v3":t},p1="https://js.stripe.com",RE="".concat(p1,"/").concat(h1,"/stripe.js"),DE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,BE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Hm="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",FE=function(t){return DE.test(t)||BE.test(t)},qE=function(){for(var t=document.querySelectorAll('script[src^="'.concat(p1,'"]')),r=0;r<t.length;r++){var n=t[r];if(FE(n.src))return n}return null},Wm=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(RE).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},UE=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},La=null,As=null,ks=null,HE=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},WE=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},VE=function(t){return La!==null?La:(La=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(Hm),window.Stripe){r(window.Stripe);return}try{var i=qE();if(i&&t)console.warn(Hm);else if(!i)i=Wm(t);else if(i&&ks!==null&&As!==null){var a;i.removeEventListener("load",ks),i.removeEventListener("error",As),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=Wm(t)}ks=WE(r,n),As=HE(n),i.addEventListener("load",ks),i.addEventListener("error",As)}catch(s){n(s);return}}),La.catch(function(r){return La=null,Promise.reject(r)}))},GE=function(t,r,n){if(t===null)return null;var i=r[0],a=i.match(/^pk_test/),s=LE(t.version),l=h1;a&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return UE(c,n),c},Ra,m1=!1,g1=function(){return Ra||(Ra=VE(null).catch(function(t){return Ra=null,Promise.reject(t)}),Ra)};Promise.resolve().then(function(){return g1()}).catch(function(e){m1||console.warn(e)});var KE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];m1=!0;var i=Date.now();return g1().then(function(a){return GE(a,r,i)})};KE("pk_test_51QqeowEHDG8US3JEvxSPduyR9Sq6fOGahimyfgGjVyQOztcmAkuoGeA4eao2khqnpIh06cLdw0KngohBADPMEU0U00kMZHRutm");function YE(){const[e]=Dx(),t=Pr(),[r,n]=P.useState(10),[i,a]=P.useState(""),[s,l]=P.useState(!1),[c,u]=P.useState(!1),[h,d]=P.useState(""),[f,p]=P.useState(!1),[g,m]=P.useState(!1),v=[5,10,25,50,100];P.useEffect(()=>{const w=e.get("success");e.get("amount");const x=e.get("canceled");w==="true"&&(p(!0),m(!0),setTimeout(()=>{t("/donar",{replace:!0})},5e3)),x==="true"&&d("Has cancelado el proceso de donaci√≥n. ¬°Puedes intentarlo cuando quieras!")},[e,t]),P.useEffect(()=>{m(!0);const w=setTimeout(()=>m(!1),1e3);return()=>clearTimeout(w)},[]);const b=w=>{n(w),l(!1),a(""),d("")},y=w=>{const x=w.target.value;(/^\d*\.?\d*$/.test(x)||x==="")&&(a(x),l(!0),x&&parseFloat(x)>0&&(n(parseFloat(x)),d("")))},j=async()=>{u(!0),d("");try{const w=s?parseFloat(i):r;if(!w||w<1){d("El monto m√≠nimo de donaci√≥n es $1"),u(!1);return}if(w>1e4){d("El monto m√°ximo de donaci√≥n es $10,000"),u(!1);return}const x=await fetch("/api/donate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:w,currency:"usd",donorName:"An√≥nimo"})}),S=await x.json();if(!x.ok)throw new Error(S.error||"Error procesando donaci√≥n");if(S.checkoutUrl)window.location.href=S.checkoutUrl;else throw new Error("No se pudo crear la sesi√≥n de pago")}catch(w){console.error("Error:",w),d(w.message||"Ocurri√≥ un error al procesar tu donaci√≥n. Por favor, intenta nuevamente."),u(!1)}};return o.jsxs("main",{className:"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/20 via-transparent to-red-900/20 animate-pulse"}),o.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 py-20 md:py-32",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-block mb-6",children:o.jsx("span",{className:`text-6xl md:text-7xl transition-all duration-1000 ${g?"scale-125 animate-pulse":"scale-100"}`,children:"‚ù§Ô∏è"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent",children:"Apoya nuestra misi√≥n"}),o.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Este proyecto es independiente y necesita tu apoyo. Cualquier aporte, grande o peque√±o, hace la diferencia."})]}),f&&o.jsx("div",{className:"mb-8 p-6 bg-green-900/30 border border-green-500/50 rounded-2xl backdrop-blur-sm animate-fadeIn",children:o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx("span",{className:"text-3xl",children:"üéâ"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-400 font-semibold text-lg",children:"¬°Gracias por tu donaci√≥n!"}),o.jsx("p",{className:"text-green-300 text-sm mt-1",children:"Tu apoyo hace posible nuestra misi√≥n de libertad para Cuba."})]})]})}),o.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-zinc-800 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Selecciona el monto de tu donaci√≥n"}),o.jsx("p",{className:"text-gray-400",children:"Todos los pagos son procesados de forma segura con Stripe"})]}),o.jsxs("div",{className:"p-8 md:p-10",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:v.map(w=>o.jsxs("button",{onClick:()=>b(w),className:`
                      relative p-4 rounded-xl font-semibold text-lg transition-all duration-300
                      ${r===w&&!s?"bg-red-600 text-white shadow-lg shadow-red-600/30 scale-105":"bg-zinc-800 text-gray-300 hover:bg-zinc-700 hover:scale-102"}
                    `,children:["$",w]},w))}),o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-3",children:"O ingresa un monto personalizado"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-gray-500",children:"$"}),o.jsx("input",{type:"text",value:i,onChange:y,placeholder:"0.00",className:`
                      w-full pl-12 pr-4 py-4 bg-zinc-800 border-2 rounded-xl
                      text-xl font-semibold placeholder-gray-600
                      transition-all duration-300 focus:outline-none
                      ${s?"border-red-500 text-white":"border-zinc-700 hover:border-zinc-600 focus:border-red-500 text-gray-300"}
                    `})]}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Monto m√≠nimo: $1 ‚Ä¢ Monto m√°ximo: $10,000"})]}),h&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-xl",children:o.jsxs("p",{className:"text-red-400 text-sm flex items-center",children:[o.jsx("span",{className:"mr-2",children:"‚ö†Ô∏è"}),h]})}),o.jsx("button",{onClick:j,disabled:c||!r&&!i,className:`
                  w-full py-5 px-8 rounded-2xl font-bold text-lg
                  transition-all duration-300 transform
                  ${c||!r&&!i?"bg-zinc-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 hover:scale-102 shadow-xl shadow-red-900/30"}
                  ${c?"animate-pulse":""}
                `,children:c?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):o.jsxs("span",{className:"flex items-center justify-center",children:["üí≥ Donar ",r||i?`$${s?i:r}`:"ahora"]})}),o.jsx("div",{className:"mt-8 pt-8 border-t border-zinc-800",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[o.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Pago seguro con SSL"})]}),o.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[o.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),o.jsx("span",{children:"Procesado por Stripe"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),o.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2 1 1 0 100-2 2 2 0 012 2v8a2 2 0 002 2H6a2 2 0 00-2-2V5z",clipRule:"evenodd"})]}),o.jsx("span",{children:"100% para la causa"})]})]})})]})]}),o.jsxs("div",{className:"mt-12 text-center",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"* Tu aporte ser√° utilizado exclusivamente para mantener y expandir este proyecto de libertad."}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[o.jsxs("a",{href:"/",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver al inicio"]}),o.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),o.jsx("a",{href:"/contacto",className:"text-gray-400 hover:text-white transition-colors",children:"¬øPreguntas? Cont√°ctanos"})]})]})]})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }
        
        .hover\\:scale-102:hover {
          transform: scale(1.02);
        }
        
        .scale-102 {
          transform: scale(1.02);
        }
      `})]})}function XE(){const[e]=Dx(),t=e.get("session_id"),r=e.get("amount");return P.useEffect(()=>{document.title="Donaci√≥n Exitosa - Lev√°ntateCuba";const n=document.querySelector('meta[name="description"]');n&&(n.content="Gracias por tu donaci√≥n. Tu apoyo hace posible nuestra misi√≥n de libertad para Cuba."),window.scrollTo(0,0)},[]),o.jsxs("main",{className:"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white",children:[o.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-20",children:[o.jsxs("div",{className:"text-center mb-12 animate-fadeIn",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-500/20 rounded-full mb-6",children:o.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-green-400 to-green-600 bg-clip-text text-transparent",children:"¬°Gracias por tu apoyo!"}),o.jsxs("p",{className:"text-xl text-gray-300 mb-2",children:["Tu donaci√≥n ",r&&`de $${r} USD`," ha sido procesada exitosamente."]}),t&&o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["ID de transacci√≥n: ",t.substring(0,20),"..."]})]}),o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur rounded-2xl p-8 md:p-10 border border-zinc-800 mb-8",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:"Tu contribuci√≥n hace posible mantener esta plataforma independiente y continuar nuestra misi√≥n de dar voz a todos los cubanos que luchan por la libertad."})}),o.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6 text-center mb-8",children:[o.jsx("blockquote",{className:"text-red-400 italic text-lg mb-2",children:'"La libertad es el derecho que tienen las personas de actuar libremente, pensar y hablar sin hipocres√≠a"'}),o.jsx("cite",{className:"text-sm text-gray-500",children:"‚Äî Jos√© Mart√≠"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-zinc-800/30 to-zinc-800/10 rounded-xl p-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"üí° Tu donaci√≥n en acci√≥n:"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-400 mr-2",children:"‚úì"}),o.jsx("span",{children:"Mantenimiento de servidores seguros y an√≥nimos"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-400 mr-2",children:"‚úì"}),o.jsx("span",{children:"Protecci√≥n de denunciantes y activistas"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-400 mr-2",children:"‚úì"}),o.jsx("span",{children:"Difusi√≥n de informaci√≥n sin censura"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"text-green-400 mr-2",children:"‚úì"}),o.jsx("span",{children:"Desarrollo de nuevas herramientas de resistencia digital"})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(xe,{to:"/",className:"px-8 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-full font-semibold transition-all hover:scale-105 text-center",children:"‚Üê Volver al inicio"}),o.jsx("button",{onClick:()=>{const n="Acabo de apoyar a Lev√°ntateCuba. √önete a la causa de libertad üá®üá∫",i="https://levantatecuba.com",a=`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}&url=${encodeURIComponent(i)}`;window.open(a,"_blank","noopener,noreferrer")},className:"px-8 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-full font-semibold transition-all hover:scale-105 text-center",children:"Compartir en Twitter"})]})]}),o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsx("p",{children:"Si tienes alguna pregunta sobre tu donaci√≥n, "}),o.jsxs("p",{children:["cont√°ctanos en"," ",o.jsx(xe,{to:"/contacto",className:"text-red-400 hover:text-red-300 underline",children:"nuestra p√°gina de contacto"})]})]})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }
      `})]})}function ZE(){return P.useEffect(()=>{document.title="Proceso Cancelado - Lev√°ntateCuba";const e=document.querySelector('meta[name="description"]');e&&(e.content="Has cancelado el proceso de donaci√≥n. Contin√∫a explorando Lev√°ntateCuba."),window.scrollTo(0,0)},[]),o.jsx("main",{className:"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white",children:o.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-20",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-yellow-500/20 rounded-full mb-6",children:o.jsx("svg",{className:"w-12 h-12 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4 text-white",children:"Proceso cancelado"}),o.jsx("p",{className:"text-xl text-gray-300",children:"No se ha realizado ning√∫n cargo a tu tarjeta."})]}),o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur rounded-2xl p-8 md:p-10 border border-zinc-800 mb-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("p",{className:"text-gray-300 text-lg mb-6",children:"Has cancelado el proceso de donaci√≥n. Si cambiaste de opini√≥n o tuviste alg√∫n problema, puedes intentarlo nuevamente cuando lo desees."}),o.jsx("p",{className:"text-gray-400",children:"Tu apoyo es importante para mantener esta plataforma independiente, pero entendemos que cada situaci√≥n es diferente."})]}),o.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"ü§î ¬øPor qu√© apoyar Lev√°ntateCuba?"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-red-400 mr-2 mt-1",children:"‚Ä¢"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 font-medium",children:"100% Independiente"}),o.jsx("p",{className:"text-gray-500",children:"Sin compromisos pol√≠ticos ni censura"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-red-400 mr-2 mt-1",children:"‚Ä¢"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 font-medium",children:"Seguridad garantizada"}),o.jsx("p",{className:"text-gray-500",children:"Protegemos la identidad de denunciantes"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-red-400 mr-2 mt-1",children:"‚Ä¢"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 font-medium",children:"Transparencia total"}),o.jsx("p",{className:"text-gray-500",children:"Cada centavo va a la causa"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("span",{className:"text-red-400 mr-2 mt-1",children:"‚Ä¢"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-300 font-medium",children:"Pago seguro"}),o.jsx("p",{className:"text-gray-500",children:"Procesado por Stripe (certificado PCI)"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(xe,{to:"/",className:"px-8 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-full font-semibold transition-all hover:scale-105 text-center",children:"‚Üê Volver al inicio"}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-8 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-full font-semibold transition-all hover:scale-105 text-center",children:"Intentar de nuevo"})]}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-zinc-800",children:[o.jsx("p",{className:"text-center text-gray-400 mb-4",children:"Tambi√©n puedes ayudar de otras formas:"}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[o.jsx(xe,{to:"/romper",className:"px-4 py-2 bg-zinc-800/50 hover:bg-zinc-700/50 text-gray-300 rounded-lg text-sm transition-all",children:"üì¢ Hacer una denuncia"}),o.jsx(xe,{to:"/suscribete",className:"px-4 py-2 bg-zinc-800/50 hover:bg-zinc-700/50 text-gray-300 rounded-lg text-sm transition-all",children:"üìß Suscribirte al bolet√≠n"}),o.jsx("button",{onClick:()=>{var e;(e=navigator.share)==null||e.call(navigator,{title:"Lev√°ntateCuba",text:"Plataforma de resistencia digital cubana",url:"https://levantatecuba.com"}).catch(()=>{navigator.clipboard.writeText("https://levantatecuba.com"),alert("Enlace copiado al portapapeles")})},className:"px-4 py-2 bg-zinc-800/50 hover:bg-zinc-700/50 text-gray-300 rounded-lg text-sm transition-all",children:"üîó Compartir el sitio"})]})]})]}),o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsx("p",{children:"¬øProblemas con el proceso de donaci√≥n?"}),o.jsxs("p",{children:[o.jsx(xe,{to:"/contacto",className:"text-red-400 hover:text-red-300 underline",children:"Cont√°ctanos"})," ","y te ayudaremos."]})]})]})})}function Vm({onLinkClick:e}){Pr();const[t,r]=P.useState(""),{pathname:n}=Gh();P.useEffect(()=>{const s=localStorage.getItem("role");s&&r(s)},[]);const i=()=>{window.innerWidth<768&&e&&e()},a=s=>n.startsWith(s);return o.jsxs("aside",{className:"sidebar",children:[o.jsx("h2",{className:"sidebar-header",children:t==="admin"?"Panel de Administrador":"Panel de Editor"}),o.jsxs("nav",{className:"flex flex-col gap-1",children:[o.jsx("div",{className:"sidebar-section",children:"Contenido"}),o.jsx(xe,{to:"/admin/news",onClick:i,className:`group sidebar-link ${a("/admin/news")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"Noticias"})}),o.jsx(xe,{to:"/admin/reports",onClick:i,className:`group sidebar-link ${a("/admin/reports")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"Denuncias"})}),o.jsx(xe,{to:"/admin/perfil",onClick:i,className:`group sidebar-link ${a("/admin/perfil")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"Mi Perfil"})}),o.jsx("div",{className:"sidebar-divider"}),o.jsx("div",{className:"sidebar-section",children:"Herramientas"}),o.jsx(xe,{to:"/admin/redactor-ia",onClick:i,className:`group sidebar-link ${a("/admin/redactor-ia")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"Redactor IA"})}),o.jsx("div",{className:"sidebar-divider"}),t==="admin"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"sidebar-section",children:"Administraci√≥n"}),o.jsx(xe,{to:"/admin/users",onClick:i,className:`group sidebar-link ${a("/admin/users")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"Usuarios"})}),o.jsx(xe,{to:"/admin/metrics",onClick:i,className:`group sidebar-link ${a("/admin/metrics")?"sidebar-link-active":""}`,children:o.jsx("span",{children:"M√©tricas"})}),o.jsxs(xe,{to:"/admin/password-requests",onClick:i,className:`group sidebar-link ${a("/admin/password-requests")?"sidebar-link-active":""}`,children:[o.jsx(jN,{className:"sidebar-icon"}),o.jsx("span",{children:"Solicitudes de contrase√±a"})]})]})]})]})}function JE(){this.__data__=[],this.size=0}var QE=JE;function eA(e,t){return e===t||e!==e&&t!==t}var Zh=eA,tA=Zh;function rA(e,t){for(var r=e.length;r--;)if(tA(e[r][0],t))return r;return-1}var Dc=rA,nA=Dc,iA=Array.prototype,aA=iA.splice;function oA(e){var t=this.__data__,r=nA(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aA.call(t,r,1),--this.size,!0}var sA=oA,lA=Dc;function cA(e){var t=this.__data__,r=lA(t,e);return r<0?void 0:t[r][1]}var uA=cA,dA=Dc;function fA(e){return dA(this.__data__,e)>-1}var hA=fA,pA=Dc;function mA(e,t){var r=this.__data__,n=pA(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var gA=mA,vA=QE,yA=sA,bA=uA,xA=hA,wA=gA;function ma(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ma.prototype.clear=vA;ma.prototype.delete=yA;ma.prototype.get=bA;ma.prototype.has=xA;ma.prototype.set=wA;var Bc=ma,jA=Bc;function SA(){this.__data__=new jA,this.size=0}var NA=SA;function OA(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _A=OA;function EA(e){return this.__data__.get(e)}var AA=EA;function kA(e){return this.__data__.has(e)}var PA=kA,TA=typeof ar=="object"&&ar&&ar.Object===Object&&ar,v1=TA,CA=v1,$A=typeof self=="object"&&self&&self.Object===Object&&self,IA=CA||$A||Function("return this")(),Hr=IA,MA=Hr,zA=MA.Symbol,ss=zA,Gm=ss,y1=Object.prototype,LA=y1.hasOwnProperty,RA=y1.toString,Da=Gm?Gm.toStringTag:void 0;function DA(e){var t=LA.call(e,Da),r=e[Da];try{e[Da]=void 0;var n=!0}catch{}var i=RA.call(e);return n&&(t?e[Da]=r:delete e[Da]),i}var BA=DA,FA=Object.prototype,qA=FA.toString;function UA(e){return qA.call(e)}var HA=UA,Km=ss,WA=BA,VA=HA,GA="[object Null]",KA="[object Undefined]",Ym=Km?Km.toStringTag:void 0;function YA(e){return e==null?e===void 0?KA:GA:Ym&&Ym in Object(e)?WA(e):VA(e)}var gn=YA;function XA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tn=XA;const ga=ze(Tn);var ZA=gn,JA=Tn,QA="[object AsyncFunction]",ek="[object Function]",tk="[object GeneratorFunction]",rk="[object Proxy]";function nk(e){if(!JA(e))return!1;var t=ZA(e);return t==ek||t==tk||t==QA||t==rk}var Jh=nk;const ke=ze(Jh);var ik=Hr,ak=ik["__core-js_shared__"],ok=ak,Zu=ok,Xm=function(){var e=/[^.]+$/.exec(Zu&&Zu.keys&&Zu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sk(e){return!!Xm&&Xm in e}var lk=sk,ck=Function.prototype,uk=ck.toString;function dk(e){if(e!=null){try{return uk.call(e)}catch{}try{return e+""}catch{}}return""}var b1=dk,fk=Jh,hk=lk,pk=Tn,mk=b1,gk=/[\\^$.*+?()[\]{}|]/g,vk=/^\[object .+?Constructor\]$/,yk=Function.prototype,bk=Object.prototype,xk=yk.toString,wk=bk.hasOwnProperty,jk=RegExp("^"+xk.call(wk).replace(gk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sk(e){if(!pk(e)||hk(e))return!1;var t=fk(e)?jk:vk;return t.test(mk(e))}var Nk=Sk;function Ok(e,t){return e==null?void 0:e[t]}var _k=Ok,Ek=Nk,Ak=_k;function kk(e,t){var r=Ak(e,t);return Ek(r)?r:void 0}var di=kk,Pk=di,Tk=Hr,Ck=Pk(Tk,"Map"),Qh=Ck,$k=di,Ik=$k(Object,"create"),Fc=Ik,Zm=Fc;function Mk(){this.__data__=Zm?Zm(null):{},this.size=0}var zk=Mk;function Lk(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Rk=Lk,Dk=Fc,Bk="__lodash_hash_undefined__",Fk=Object.prototype,qk=Fk.hasOwnProperty;function Uk(e){var t=this.__data__;if(Dk){var r=t[e];return r===Bk?void 0:r}return qk.call(t,e)?t[e]:void 0}var Hk=Uk,Wk=Fc,Vk=Object.prototype,Gk=Vk.hasOwnProperty;function Kk(e){var t=this.__data__;return Wk?t[e]!==void 0:Gk.call(t,e)}var Yk=Kk,Xk=Fc,Zk="__lodash_hash_undefined__";function Jk(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xk&&t===void 0?Zk:t,this}var Qk=Jk,eP=zk,tP=Rk,rP=Hk,nP=Yk,iP=Qk;function va(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}va.prototype.clear=eP;va.prototype.delete=tP;va.prototype.get=rP;va.prototype.has=nP;va.prototype.set=iP;var aP=va,Jm=aP,oP=Bc,sP=Qh;function lP(){this.size=0,this.__data__={hash:new Jm,map:new(sP||oP),string:new Jm}}var cP=lP;function uP(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dP=uP,fP=dP;function hP(e,t){var r=e.__data__;return fP(t)?r[typeof t=="string"?"string":"hash"]:r.map}var qc=hP,pP=qc;function mP(e){var t=pP(this,e).delete(e);return this.size-=t?1:0,t}var gP=mP,vP=qc;function yP(e){return vP(this,e).get(e)}var bP=yP,xP=qc;function wP(e){return xP(this,e).has(e)}var jP=wP,SP=qc;function NP(e,t){var r=SP(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var OP=NP,_P=cP,EP=gP,AP=bP,kP=jP,PP=OP;function ya(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ya.prototype.clear=_P;ya.prototype.delete=EP;ya.prototype.get=AP;ya.prototype.has=kP;ya.prototype.set=PP;var ep=ya,TP=Bc,CP=Qh,$P=ep,IP=200;function MP(e,t){var r=this.__data__;if(r instanceof TP){var n=r.__data__;if(!CP||n.length<IP-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $P(n)}return r.set(e,t),this.size=r.size,this}var zP=MP,LP=Bc,RP=NA,DP=_A,BP=AA,FP=PA,qP=zP;function ba(e){var t=this.__data__=new LP(e);this.size=t.size}ba.prototype.clear=RP;ba.prototype.delete=DP;ba.prototype.get=BP;ba.prototype.has=FP;ba.prototype.set=qP;var x1=ba,UP="__lodash_hash_undefined__";function HP(e){return this.__data__.set(e,UP),this}var WP=HP;function VP(e){return this.__data__.has(e)}var GP=VP,KP=ep,YP=WP,XP=GP;function vl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new KP;++t<r;)this.add(e[t])}vl.prototype.add=vl.prototype.push=YP;vl.prototype.has=XP;var w1=vl;function ZP(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var j1=ZP;function JP(e,t){return e.has(t)}var S1=JP,QP=w1,e4=j1,t4=S1,r4=1,n4=2;function i4(e,t,r,n,i,a){var s=r&r4,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=r&n4?new QP:void 0;for(a.set(e,t),a.set(t,e);++d<l;){var g=e[d],m=t[d];if(n)var v=s?n(m,g,d,t,e,a):n(g,m,d,e,t,a);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!e4(t,function(b,y){if(!t4(p,y)&&(g===b||i(g,b,r,n,a)))return p.push(y)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var N1=i4,a4=Hr,o4=a4.Uint8Array,s4=o4;function l4(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var c4=l4;function u4(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tp=u4,Qm=ss,eg=s4,d4=Zh,f4=N1,h4=c4,p4=tp,m4=1,g4=2,v4="[object Boolean]",y4="[object Date]",b4="[object Error]",x4="[object Map]",w4="[object Number]",j4="[object RegExp]",S4="[object Set]",N4="[object String]",O4="[object Symbol]",_4="[object ArrayBuffer]",E4="[object DataView]",tg=Qm?Qm.prototype:void 0,Ju=tg?tg.valueOf:void 0;function A4(e,t,r,n,i,a,s){switch(r){case E4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _4:return!(e.byteLength!=t.byteLength||!a(new eg(e),new eg(t)));case v4:case y4:case w4:return d4(+e,+t);case b4:return e.name==t.name&&e.message==t.message;case j4:case N4:return e==t+"";case x4:var l=h4;case S4:var c=n&m4;if(l||(l=p4),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=g4,s.set(e,t);var h=f4(l(e),l(t),n,i,a,s);return s.delete(e),h;case O4:if(Ju)return Ju.call(e)==Ju.call(t)}return!1}var k4=A4;function P4(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var O1=P4,T4=Array.isArray,Zt=T4,C4=O1,$4=Zt;function I4(e,t,r){var n=t(e);return $4(e)?n:C4(n,r(e))}var M4=I4;function z4(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var L4=z4;function R4(){return[]}var D4=R4,B4=L4,F4=D4,q4=Object.prototype,U4=q4.propertyIsEnumerable,rg=Object.getOwnPropertySymbols,H4=rg?function(e){return e==null?[]:(e=Object(e),B4(rg(e),function(t){return U4.call(e,t)}))}:F4,W4=H4;function V4(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var G4=V4;function K4(e){return e!=null&&typeof e=="object"}var vn=K4,Y4=gn,X4=vn,Z4="[object Arguments]";function J4(e){return X4(e)&&Y4(e)==Z4}var Q4=J4,ng=Q4,eT=vn,_1=Object.prototype,tT=_1.hasOwnProperty,rT=_1.propertyIsEnumerable,nT=ng(function(){return arguments}())?ng:function(e){return eT(e)&&tT.call(e,"callee")&&!rT.call(e,"callee")},rp=nT,yl={exports:{}};function iT(){return!1}var aT=iT;yl.exports;(function(e,t){var r=Hr,n=aT,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(yl,yl.exports);var E1=yl.exports,oT=9007199254740991,sT=/^(?:0|[1-9]\d*)$/;function lT(e,t){var r=typeof e;return t=t??oT,!!t&&(r=="number"||r!="symbol"&&sT.test(e))&&e>-1&&e%1==0&&e<t}var np=lT,cT=9007199254740991;function uT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cT}var ip=uT,dT=gn,fT=ip,hT=vn,pT="[object Arguments]",mT="[object Array]",gT="[object Boolean]",vT="[object Date]",yT="[object Error]",bT="[object Function]",xT="[object Map]",wT="[object Number]",jT="[object Object]",ST="[object RegExp]",NT="[object Set]",OT="[object String]",_T="[object WeakMap]",ET="[object ArrayBuffer]",AT="[object DataView]",kT="[object Float32Array]",PT="[object Float64Array]",TT="[object Int8Array]",CT="[object Int16Array]",$T="[object Int32Array]",IT="[object Uint8Array]",MT="[object Uint8ClampedArray]",zT="[object Uint16Array]",LT="[object Uint32Array]",Qe={};Qe[kT]=Qe[PT]=Qe[TT]=Qe[CT]=Qe[$T]=Qe[IT]=Qe[MT]=Qe[zT]=Qe[LT]=!0;Qe[pT]=Qe[mT]=Qe[ET]=Qe[gT]=Qe[AT]=Qe[vT]=Qe[yT]=Qe[bT]=Qe[xT]=Qe[wT]=Qe[jT]=Qe[ST]=Qe[NT]=Qe[OT]=Qe[_T]=!1;function RT(e){return hT(e)&&fT(e.length)&&!!Qe[dT(e)]}var DT=RT;function BT(e){return function(t){return e(t)}}var A1=BT,bl={exports:{}};bl.exports;(function(e,t){var r=v1,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(bl,bl.exports);var FT=bl.exports,qT=DT,UT=A1,ig=FT,ag=ig&&ig.isTypedArray,HT=ag?UT(ag):qT,k1=HT,WT=G4,VT=rp,GT=Zt,KT=E1,YT=np,XT=k1,ZT=Object.prototype,JT=ZT.hasOwnProperty;function QT(e,t){var r=GT(e),n=!r&&VT(e),i=!r&&!n&&KT(e),a=!r&&!n&&!i&&XT(e),s=r||n||i||a,l=s?WT(e.length,String):[],c=l.length;for(var u in e)(t||JT.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||YT(u,c)))&&l.push(u);return l}var e5=QT,t5=Object.prototype;function r5(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||t5;return e===r}var n5=r5;function i5(e,t){return function(r){return e(t(r))}}var P1=i5,a5=P1,o5=a5(Object.keys,Object),s5=o5,l5=n5,c5=s5,u5=Object.prototype,d5=u5.hasOwnProperty;function f5(e){if(!l5(e))return c5(e);var t=[];for(var r in Object(e))d5.call(e,r)&&r!="constructor"&&t.push(r);return t}var h5=f5,p5=Jh,m5=ip;function g5(e){return e!=null&&m5(e.length)&&!p5(e)}var Uc=g5,v5=e5,y5=h5,b5=Uc;function x5(e){return b5(e)?v5(e):y5(e)}var ap=x5,w5=M4,j5=W4,S5=ap;function N5(e){return w5(e,S5,j5)}var O5=N5,og=O5,_5=1,E5=Object.prototype,A5=E5.hasOwnProperty;function k5(e,t,r,n,i,a){var s=r&_5,l=og(e),c=l.length,u=og(t),h=u.length;if(c!=h&&!s)return!1;for(var d=c;d--;){var f=l[d];if(!(s?f in t:A5.call(t,f)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var v=s;++d<c;){f=l[d];var b=e[f],y=t[f];if(n)var j=s?n(y,b,f,t,e,a):n(b,y,f,e,t,a);if(!(j===void 0?b===y||i(b,y,r,n,a):j)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(m=!1)}return a.delete(e),a.delete(t),m}var P5=k5,T5=di,C5=Hr,$5=T5(C5,"DataView"),I5=$5,M5=di,z5=Hr,L5=M5(z5,"Promise"),R5=L5,D5=di,B5=Hr,F5=D5(B5,"Set"),T1=F5,q5=di,U5=Hr,H5=q5(U5,"WeakMap"),W5=H5,tf=I5,rf=Qh,nf=R5,af=T1,of=W5,C1=gn,xa=b1,sg="[object Map]",V5="[object Object]",lg="[object Promise]",cg="[object Set]",ug="[object WeakMap]",dg="[object DataView]",G5=xa(tf),K5=xa(rf),Y5=xa(nf),X5=xa(af),Z5=xa(of),Fn=C1;(tf&&Fn(new tf(new ArrayBuffer(1)))!=dg||rf&&Fn(new rf)!=sg||nf&&Fn(nf.resolve())!=lg||af&&Fn(new af)!=cg||of&&Fn(new of)!=ug)&&(Fn=function(e){var t=C1(e),r=t==V5?e.constructor:void 0,n=r?xa(r):"";if(n)switch(n){case G5:return dg;case K5:return sg;case Y5:return lg;case X5:return cg;case Z5:return ug}return t});var J5=Fn,Qu=x1,Q5=N1,eC=k4,tC=P5,fg=J5,hg=Zt,pg=E1,rC=k1,nC=1,mg="[object Arguments]",gg="[object Array]",Ps="[object Object]",iC=Object.prototype,vg=iC.hasOwnProperty;function aC(e,t,r,n,i,a){var s=hg(e),l=hg(t),c=s?gg:fg(e),u=l?gg:fg(t);c=c==mg?Ps:c,u=u==mg?Ps:u;var h=c==Ps,d=u==Ps,f=c==u;if(f&&pg(e)){if(!pg(t))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new Qu),s||rC(e)?Q5(e,t,r,n,i,a):eC(e,t,c,r,n,i,a);if(!(r&nC)){var p=h&&vg.call(e,"__wrapped__"),g=d&&vg.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return a||(a=new Qu),i(m,v,r,n,a)}}return f?(a||(a=new Qu),tC(e,t,r,n,i,a)):!1}var oC=aC,sC=oC,yg=vn;function $1(e,t,r,n,i){return e===t?!0:e==null||t==null||!yg(e)&&!yg(t)?e!==e&&t!==t:sC(e,t,r,n,$1,i)}var op=$1,lC=op;function cC(e,t){return lC(e,t)}var I1=cC;const ls=ze(I1);var M1={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:ar,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(a,s,l){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),s=i(18),l=i(19),c=i(45),u=i(46),h=i(47),d=i(48),f=i(49),p=i(12),g=i(32),m=i(33),v=i(31),b=i(1),y={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:a.default,Format:s.default,Leaf:l.default,Embed:d.default,Scroll:c.default,Block:h.default,Inline:u.default,Text:f.default,Attributor:{Attribute:p.default,Class:g.default,Style:m.default,Store:v.default}};n.default=y},function(r,n,i){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var j in y)y.hasOwnProperty(j)&&(b[j]=y[j])};return function(b,y){v(b,y);function j(){this.constructor=b}b.prototype=y===null?Object.create(y):(j.prototype=y.prototype,new j)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(v){a(b,v);function b(y){var j=this;return y="[Parchment] "+y,j=v.call(this,y)||this,j.message=y,j.name=j.constructor.name,j}return b}(Error);n.ParchmentError=s;var l={},c={},u={},h={};n.DATA_KEY="__blot";var d;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(d=n.Scope||(n.Scope={}));function f(v,b){var y=g(v);if(y==null)throw new s("Unable to create "+v+" blot");var j=y,w=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:j.create(b);return new j(w,b)}n.create=f;function p(v,b){return b===void 0&&(b=!1),v==null?null:v[n.DATA_KEY]!=null?v[n.DATA_KEY].blot:b?p(v.parentNode,b):null}n.find=p;function g(v,b){b===void 0&&(b=d.ANY);var y;if(typeof v=="string")y=h[v]||l[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)y=h.text;else if(typeof v=="number")v&d.LEVEL&d.BLOCK?y=h.block:v&d.LEVEL&d.INLINE&&(y=h.inline);else if(v instanceof HTMLElement){var j=(v.getAttribute("class")||"").split(/\s+/);for(var w in j)if(y=c[j[w]],y)break;y=y||u[v.tagName]}return y==null?null:b&d.LEVEL&y.scope&&b&d.TYPE&y.scope?y:null}n.query=g;function m(){for(var v=[],b=0;b<arguments.length;b++)v[b]=arguments[b];if(v.length>1)return v.map(function(w){return m(w)});var y=v[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new s("Invalid definition");if(y.blotName==="abstract")throw new s("Cannot register abstract class");if(h[y.blotName||y.attrName]=y,typeof y.keyName=="string")l[y.keyName]=y;else if(y.className!=null&&(c[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(w){return w.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var j=Array.isArray(y.tagName)?y.tagName:[y.tagName];j.forEach(function(w){(u[w]==null||y.className==null)&&(u[w]=y)})}return y}n.register=m},function(r,n,i){var a=i(51),s=i(11),l=i(3),c=i(20),u=String.fromCharCode(0),h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,f){var p={};return d.length===0?this:(p.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,f){if(d<=0)return this;var p={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},h.prototype.push=function(d){var f=this.ops.length,p=this.ops[f-1];if(d=l(!0,{},d),typeof p=="object"){if(typeof d.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+d.delete},this;if(typeof p.delete=="number"&&d.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(d),this;if(s(d.attributes,p.attributes)){if(typeof d.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var f=[],p=[];return this.forEach(function(g){var m=d(g)?f:p;m.push(g)}),[f,p]},h.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},h.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+c.length(f):f.delete?d-f.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,f){return d+c.length(f)},0)},h.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var p=[],g=c.iterator(this.ops),m=0;m<f&&g.hasNext();){var v;m<d?v=g.next(d-m):(v=g.next(f-m),p.push(v)),m+=c.length(v)}return new h(p)},h.prototype.compose=function(d){var f=c.iterator(this.ops),p=c.iterator(d.ops),g=[],m=p.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var v=m.retain;f.peekType()==="insert"&&f.peekLength()<=v;)v-=f.peekLength(),g.push(f.next());m.retain-v>0&&p.next(m.retain-v)}for(var b=new h(g);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(f.peekType()==="delete")b.push(f.next());else{var y=Math.min(f.peekLength(),p.peekLength()),j=f.next(y),w=p.next(y);if(typeof w.retain=="number"){var x={};typeof j.retain=="number"?x.retain=y:x.insert=j.insert;var S=c.attributes.compose(j.attributes,w.attributes,typeof j.retain=="number");if(S&&(x.attributes=S),b.push(x),!p.hasNext()&&s(b.ops[b.ops.length-1],x)){var N=new h(f.rest());return b.concat(N).chop()}}else typeof w.delete=="number"&&typeof j.retain=="number"&&b.push(w)}return b.chop()},h.prototype.concat=function(d){var f=new h(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},h.prototype.diff=function(d,f){if(this.ops===d.ops)return new h;var p=[this,d].map(function(y){return y.map(function(j){if(j.insert!=null)return typeof j.insert=="string"?j.insert:u;var w=y===d?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),g=new h,m=a(p[0],p[1],f),v=c.iterator(this.ops),b=c.iterator(d.ops);return m.forEach(function(y){for(var j=y[1].length;j>0;){var w=0;switch(y[0]){case a.INSERT:w=Math.min(b.peekLength(),j),g.push(b.next(w));break;case a.DELETE:w=Math.min(j,v.peekLength()),v.next(w),g.delete(w);break;case a.EQUAL:w=Math.min(v.peekLength(),b.peekLength(),j);var x=v.next(w),S=b.next(w);s(x.insert,S.insert)?g.retain(w,c.attributes.diff(x.attributes,S.attributes)):g.push(S).delete(w);break}j-=w}}),g.chop()},h.prototype.eachLine=function(d,f){f=f||`
`;for(var p=c.iterator(this.ops),g=new h,m=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),b=c.length(v)-p.peekLength(),y=typeof v.insert=="string"?v.insert.indexOf(f,b)-b:-1;if(y<0)g.push(p.next());else if(y>0)g.push(p.next(y));else{if(d(g,p.next(1).attributes||{},m)===!1)return;m+=1,g=new h}}g.length()>0&&d(g,{},m)},h.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var p=c.iterator(this.ops),g=c.iterator(d.ops),m=new h;p.hasNext()||g.hasNext();)if(p.peekType()==="insert"&&(f||g.peekType()!=="insert"))m.retain(c.length(p.next()));else if(g.peekType()==="insert")m.push(g.next());else{var v=Math.min(p.peekLength(),g.peekLength()),b=p.next(v),y=g.next(v);if(b.delete)continue;y.delete?m.push(y):m.retain(v,c.attributes.transform(b.attributes,y.attributes,f))}return m.chop()},h.prototype.transformPosition=function(d,f){f=!!f;for(var p=c.iterator(this.ops),g=0;p.hasNext()&&g<=d;){var m=p.peekLength(),v=p.peekType();if(p.next(),v==="delete"){d-=Math.min(m,d-g);continue}else v==="insert"&&(g<d||!f)&&(d+=m);g+=m}return d},r.exports=h},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var g=i.call(p,"constructor"),m=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!m)return!1;var v;for(v in p);return typeof v>"u"||i.call(p,v)},h=function(p,g){s&&g.name==="__proto__"?s(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},d=function(p,g){if(g==="__proto__")if(i.call(p,g)){if(l)return l(p,g).value}else return;return p[g]};r.exports=function f(){var p,g,m,v,b,y,j=arguments[0],w=1,x=arguments.length,S=!1;for(typeof j=="boolean"&&(S=j,j=arguments[1]||{},w=2),(j==null||typeof j!="object"&&typeof j!="function")&&(j={});w<x;++w)if(p=arguments[w],p!=null)for(g in p)m=d(j,g),v=d(p,g),j!==v&&(S&&v&&(u(v)||(b=c(v)))?(b?(b=!1,y=m&&c(m)?m:[]):y=m&&u(m)?m:{},h(j,{name:g,newValue:f(S,y,v)})):typeof v<"u"&&h(j,{name:g,newValue:v}));return j}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function O(A,k){for(var $=0;$<k.length;$++){var I=k[$];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,$){return k&&O(A.prototype,k),$&&O(A,$),A}}(),s=function O(A,k,$){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,k);if(I===void 0){var T=Object.getPrototypeOf(A);return T===null?void 0:O(T,k,$)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call($)}},l=i(3),c=j(l),u=i(2),h=j(u),d=i(0),f=j(d),p=i(16),g=j(p),m=i(6),v=j(m),b=i(7),y=j(b);function j(O){return O&&O.__esModule?O:{default:O}}function w(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function x(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function S(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var N=1,_=function(O){S(A,O);function A(){return w(this,A),x(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"attach",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,I){var T=f.default.query($,f.default.Scope.BLOCK_ATTRIBUTE);T!=null&&this.attributes.attribute(T,I)}},{key:"formatAt",value:function($,I,T,R){this.format(T,R)}},{key:"insertAt",value:function($,I,T){if(typeof I=="string"&&I.endsWith(`
`)){var R=f.default.create(C.blotName);this.parent.insertBefore(R,$===0?this:this.next),R.insertAt(0,I.slice(0,-1))}else s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,$,I,T)}}]),A}(f.default.Embed);_.scope=f.default.Scope.BLOCK_BLOT;var C=function(O){S(A,O);function A(k){w(this,A);var $=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,k));return $.cache={},$}return a(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function($,I){return I.length()===0?$:$.insert(I.value(),E(I))},new h.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function($,I){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,$,I),this.cache={}}},{key:"formatAt",value:function($,I,T,R){I<=0||(f.default.query(T,f.default.Scope.BLOCK)?$+I===this.length()&&this.format(T,R):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,$,Math.min(I,this.length()-$-1),T,R),this.cache={})}},{key:"insertAt",value:function($,I,T){if(T!=null)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,$,I,T);if(I.length!==0){var R=I.split(`
`),U=R.shift();U.length>0&&($<this.length()-1||this.children.tail==null?s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var D=this;R.reduce(function(F,M){return D=D.split(F,!0),D.insertAt(0,M),M.length},$+U.length)}}},{key:"insertBefore",value:function($,I){var T=this.children.head;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,$,I),T instanceof g.default&&T.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+N),this.cache.length}},{key:"moveChildren",value:function($,I){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,$,I),this.cache={}}},{key:"optimize",value:function($){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&($===0||$>=this.length()-N)){var T=this.clone();return $===0?(this.parent.insertBefore(T,this),this):(this.parent.insertBefore(T,this.next),T)}else{var R=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,$,I);return this.cache={},R}}}]),A}(f.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[v.default,f.default.Embed,y.default];function E(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(A=(0,c.default)(A,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?A:E(O.parent,A)}n.bubbleFormats=E,n.BlockEmbed=_,n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(F,M){var L=[],z=!0,K=!1,W=void 0;try{for(var B=F[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(M&&L.length===M));z=!0);}catch(q){K=!0,W=q}finally{try{!z&&B.return&&B.return()}finally{if(K)throw W}}return L}return function(F,M){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return D(F,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(F,M){for(var L=0;L<M.length;L++){var z=M[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}return function(F,M,L){return M&&D(F.prototype,M),L&&D(F,L),F}}();i(50);var c=i(2),u=E(c),h=i(14),d=E(h),f=i(8),p=E(f),g=i(9),m=E(g),v=i(0),b=E(v),y=i(15),j=E(y),w=i(3),x=E(w),S=i(10),N=E(S),_=i(34),C=E(_);function E(D){return D&&D.__esModule?D:{default:D}}function O(D,F,M){return F in D?Object.defineProperty(D,F,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[F]=M,D}function A(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}var k=(0,N.default)("quill"),$=function(){l(D,null,[{key:"debug",value:function(M){M===!0&&(M="log"),N.default.level(M)}},{key:"find",value:function(M){return M.__quill||b.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&k.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,L){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var W=M.attrName||M.blotName;typeof W=="string"?this.register("formats/"+W,M,L):Object.keys(M).forEach(function(B){z.register(B,M[B],L)})}else this.imports[M]!=null&&!K&&k.warn("Overwriting "+M+" with",L),this.imports[M]=L,(M.startsWith("blots/")||M.startsWith("formats/"))&&L.blotName!=="abstract"?b.default.register(L):M.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function D(F){var M=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,D),this.options=I(F,L),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",F);this.options.debug&&D.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new j.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(W){W===p.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(W,B){var H=M.selection.lastRange,q=H&&H.length===0?H.index:void 0;T.call(M,function(){return M.editor.update(null,B,q)},W)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(D,[{key:"addContainer",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var z=M;M=document.createElement("div"),M.classList.add(z)}return this.container.insertBefore(M,L),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,L,z){var K=this,W=R(M,L,z),B=s(W,4);return M=B[0],L=B[1],z=B[3],T.call(this,function(){return K.editor.deleteText(M,L)},z,M,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,L){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return T.call(this,function(){var W=z.getSelection(!0),B=new u.default;if(W==null)return B;if(b.default.query(M,b.default.Scope.BLOCK))B=z.editor.formatLine(W.index,W.length,O({},M,L));else{if(W.length===0)return z.selection.format(M,L),B;B=z.editor.formatText(W.index,W.length,O({},M,L))}return z.setSelection(W,p.default.sources.SILENT),B},K)}},{key:"formatLine",value:function(M,L,z,K,W){var B=this,H=void 0,q=R(M,L,z,K,W),V=s(q,4);return M=V[0],L=V[1],H=V[2],W=V[3],T.call(this,function(){return B.editor.formatLine(M,L,H)},W,M,0)}},{key:"formatText",value:function(M,L,z,K,W){var B=this,H=void 0,q=R(M,L,z,K,W),V=s(q,4);return M=V[0],L=V[1],H=V[2],W=V[3],T.call(this,function(){return B.editor.formatText(M,L,H)},W,M,0)}},{key:"getBounds",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof M=="number"?z=this.selection.getBounds(M,L):z=this.selection.getBounds(M.index,M.length);var K=this.container.getBoundingClientRect();return{bottom:z.bottom-K.top,height:z.height,left:z.left-K.left,right:z.right-K.left,top:z.top-K.top,width:z.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,z=R(M,L),K=s(z,2);return M=K[0],L=K[1],this.editor.getContents(M,L)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,L):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,L)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,z=R(M,L),K=s(z,2);return M=K[0],L=K[1],this.editor.getText(M,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,L,z){var K=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return T.call(this,function(){return K.editor.insertEmbed(M,L,z)},W,M)}},{key:"insertText",value:function(M,L,z,K,W){var B=this,H=void 0,q=R(M,0,z,K,W),V=s(q,4);return M=V[0],H=V[2],W=V[3],T.call(this,function(){return B.editor.insertText(M,L,H)},W,M,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,L,z){this.clipboard.dangerouslyPasteHTML(M,L,z)}},{key:"removeFormat",value:function(M,L,z){var K=this,W=R(M,L,z),B=s(W,4);return M=B[0],L=B[1],z=B[3],T.call(this,function(){return K.editor.removeFormat(M,L)},z,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return T.call(this,function(){M=new u.default(M);var K=L.getLength(),W=L.editor.deleteText(0,K),B=L.editor.applyDelta(M),H=B.ops[B.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),B.delete(1));var q=W.compose(B);return q},z)}},{key:"setSelection",value:function(M,L,z){if(M==null)this.selection.setRange(null,L||D.sources.API);else{var K=R(M,L,z),W=s(K,4);M=W[0],L=W[1],z=W[3],this.selection.setRange(new y.Range(M,L),z),z!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,z=new u.default().insert(M);return this.setContents(z,L)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,L=this.scroll.update(M);return this.selection.update(M),L}},{key:"updateContents",value:function(M){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return T.call(this,function(){return M=new u.default(M),L.editor.applyDelta(M,z)},z,!0)}}]),D}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=p.default.events,$.sources=p.default.sources,$.version="1.3.7",$.imports={delta:u.default,parchment:b.default,"core/module":m.default,"core/theme":C.default};function I(D,F){if(F=(0,x.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===$.DEFAULTS.theme)F.theme=C.default;else if(F.theme=$.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var M=(0,x.default)(!0,{},F.theme.DEFAULTS);[M,F].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(W){K.modules[W]===!0&&(K.modules[W]={})})});var L=Object.keys(M.modules).concat(Object.keys(F.modules)),z=L.reduce(function(K,W){var B=$.import("modules/"+W);return B==null?k.error("Cannot load "+W+" module. Are you sure you registered it?"):K[W]=B.DEFAULTS||{},K},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,x.default)(!0,{},$.DEFAULTS,{modules:z},M,F),["bounds","container","scrollingContainer"].forEach(function(K){typeof F[K]=="string"&&(F[K]=document.querySelector(F[K]))}),F.modules=Object.keys(F.modules).reduce(function(K,W){return F.modules[W]&&(K[W]=F.modules[W]),K},{}),F}function T(D,F,M,L){if(this.options.strict&&!this.isEnabled()&&F===p.default.sources.USER)return new u.default;var z=M==null?null:this.getSelection(),K=this.editor.delta,W=D();if(z!=null&&(M===!0&&(M=z.index),L==null?z=U(z,W,F):L!==0&&(z=U(z,M,L,F)),this.setSelection(z,p.default.sources.SILENT)),W.length()>0){var B,H=[p.default.events.TEXT_CHANGE,W,K,F];if((B=this.emitter).emit.apply(B,[p.default.events.EDITOR_CHANGE].concat(H)),F!==p.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,H)}}return W}function R(D,F,M,L,z){var K={};return typeof D.index=="number"&&typeof D.length=="number"?typeof F!="number"?(z=L,L=M,M=F,F=D.length,D=D.index):(F=D.length,D=D.index):typeof F!="number"&&(z=L,L=M,M=F,F=0),(typeof M>"u"?"undefined":a(M))==="object"?(K=M,z=L):typeof M=="string"&&(L!=null?K[M]=L:z=M),z=z||p.default.sources.API,[D,F,K,z]}function U(D,F,M,L){if(D==null)return null;var z=void 0,K=void 0;if(F instanceof u.default){var W=[D.index,D.index+D.length].map(function(V){return F.transformPosition(V,L!==p.default.sources.USER)}),B=s(W,2);z=B[0],K=B[1]}else{var H=[D.index,D.index+D.length].map(function(V){return V<F||V===F&&L===p.default.sources.USER?V:M>=0?V+M:Math.max(F,V+M)}),q=s(H,2);z=q[0],K=q[1]}return new y.Range(z,K-z)}n.expandConfig=I,n.overload=R,n.default=$},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,y){for(var j=0;j<y.length;j++){var w=y[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,j){return y&&v(b.prototype,y),j&&v(b,j),b}}(),s=function v(b,y,j){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,y,j)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(j)}},l=i(7),c=d(l),u=i(0),h=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function p(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var m=function(v){g(b,v);function b(){return f(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"formatAt",value:function(j,w,x,S){if(b.compare(this.statics.blotName,x)<0&&h.default.query(x,h.default.Scope.BLOT)){var N=this.isolate(j,w);S&&N.wrap(x,S)}else s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,j,w,x,S)}},{key:"optimize",value:function(j){if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,j),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(j,w){var x=b.order.indexOf(j),S=b.order.indexOf(w);return x>=0||S>=0?x-S:j===w?0:j<w?-1:1}}]),b}(h.default.Inline);m.allowedChildren=[m,h.default.Embed,c.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(j,w){for(var x=0;x<w.length;x++){var S=w[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,S.key,S)}}return function(j,w,x){return w&&y(j.prototype,w),x&&y(j,x),j}}(),s=function y(j,w,x){j===null&&(j=Function.prototype);var S=Object.getOwnPropertyDescriptor(j,w);if(S===void 0){var N=Object.getPrototypeOf(j);return N===null?void 0:y(N,w,x)}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(x)}},l=i(54),c=d(l),u=i(10),h=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,j){if(!(y instanceof j))throw new TypeError("Cannot call a class as a function")}function p(y,j){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:y}function g(y,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);y.prototype=Object.create(j&&j.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(y,j):y.__proto__=j)}var m=(0,h.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(y){document.addEventListener(y,function(){for(var j=arguments.length,w=Array(j),x=0;x<j;x++)w[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var N;(N=S.__quill.emitter).handleDOM.apply(N,w)}})})});var b=function(y){g(j,y);function j(){f(this,j);var w=p(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return w.listeners={},w.on("error",m.error),w}return a(j,[{key:"emit",value:function(){m.log.apply(m,arguments),s(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var S=arguments.length,N=Array(S>1?S-1:0),_=1;_<S;_++)N[_-1]=arguments[_];(this.listeners[x.type]||[]).forEach(function(C){var E=C.node,O=C.handler;(x.target===E||E.contains(x.target))&&O.apply(void 0,[x].concat(N))})}},{key:"listenDOM",value:function(x,S,N){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:S,handler:N})}}]),j}(c.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,l),this.quill=c,this.options=u};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function l(u){if(a.indexOf(u)<=a.indexOf(s)){for(var h,d=arguments.length,f=Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];(h=console)[u].apply(h,f)}}function c(u){return a.reduce(function(h,d){return h[d]=l.bind(console,d,u),h},{})}l.level=c.level=function(u){s=u},n.default=c},function(r,n,i){var a=Array.prototype.slice,s=i(52),l=i(53),c=r.exports=function(f,p,g){return g||(g={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?g.strict?f===p:f==p:d(f,p,g)};function u(f){return f==null}function h(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,p,g){var m,v;if(u(f)||u(p)||f.prototype!==p.prototype)return!1;if(l(f))return l(p)?(f=a.call(f),p=a.call(p),c(f,p,g)):!1;if(h(f)){if(!h(p)||f.length!==p.length)return!1;for(m=0;m<f.length;m++)if(f[m]!==p[m])return!1;return!0}try{var b=s(f),y=s(p)}catch{return!1}if(b.length!=y.length)return!1;for(b.sort(),y.sort(),m=b.length-1;m>=0;m--)if(b[m]!=y[m])return!1;for(m=b.length-1;m>=0;m--)if(v=b[m],!c(f[v],p[v],g))return!1;return typeof f==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function l(c,u,h){h===void 0&&(h={}),this.attrName=c,this.keyName=u;var d=a.Scope.TYPE&a.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&a.Scope.LEVEL|d:this.scope=a.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},l.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(c,u){var h=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function _(C,E){var O=[],A=!0,k=!1,$=void 0;try{for(var I=C[Symbol.iterator](),T;!(A=(T=I.next()).done)&&(O.push(T.value),!(E&&O.length===E));A=!0);}catch(R){k=!0,$=R}finally{try{!A&&I.return&&I.return()}finally{if(k)throw $}}return O}return function(C,E){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return _(C,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function _(C,E){for(var O=0;O<E.length;O++){var A=E[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,E,O){return E&&_(C.prototype,E),O&&_(C,O),C}}(),l=function _(C,E,O){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,E);if(A===void 0){var k=Object.getPrototypeOf(C);return k===null?void 0:_(k,E,O)}else{if("value"in A)return A.value;var $=A.get;return $===void 0?void 0:$.call(O)}},c=i(2),u=y(c),h=i(0),d=y(h),f=i(4),p=y(f),g=i(6),m=y(g),v=i(7),b=y(v);function y(_){return _&&_.__esModule?_:{default:_}}function j(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function w(_,C){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:_}function x(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(_,C):_.__proto__=C)}var S=function(_){x(C,_);function C(){return j(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(m.default);S.blotName="code",S.tagName="CODE";var N=function(_){x(C,_);function C(){return j(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"delta",value:function(){var O=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(k,$){return k.insert($).insert(`
`,O.formats())},new u.default)}},{key:"format",value:function(O,A){if(!(O===this.statics.blotName&&A)){var k=this.descendant(b.default,this.length()-1),$=a(k,1),I=$[0];I!=null&&I.deleteAt(I.length()-1,1),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,O,A)}}},{key:"formatAt",value:function(O,A,k,$){if(A!==0&&!(d.default.query(k,d.default.Scope.BLOCK)==null||k===this.statics.blotName&&$===this.statics.formats(this.domNode))){var I=this.newlineIndex(O);if(!(I<0||I>=O+A)){var T=this.newlineIndex(O,!0)+1,R=I-T+1,U=this.isolate(T,R),D=U.next;U.format(k,$),D instanceof C&&D.formatAt(0,O-T+A-R,k,$)}}}},{key:"insertAt",value:function(O,A,k){if(k==null){var $=this.descendant(b.default,O),I=a($,2),T=I[0],R=I[1];T.insertAt(R,A)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var k=this.domNode.textContent.slice(O).indexOf(`
`);return k>-1?O+k:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,O);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(O),A.moveChildren(this),A.remove())}},{key:"replace",value:function(O){l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var k=d.default.find(A);k==null?A.parentNode.removeChild(A):k instanceof d.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(O){var A=l(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,O);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),C}(p.default);N.blotName="code-block",N.tagName="PRE",N.TAB="  ",n.Code=S,n.default=N},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(F,M){var L=[],z=!0,K=!1,W=void 0;try{for(var B=F[Symbol.iterator](),H;!(z=(H=B.next()).done)&&(L.push(H.value),!(M&&L.length===M));z=!0);}catch(q){K=!0,W=q}finally{try{!z&&B.return&&B.return()}finally{if(K)throw W}}return L}return function(F,M){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return D(F,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(F,M){for(var L=0;L<M.length;L++){var z=M[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}return function(F,M,L){return M&&D(F.prototype,M),L&&D(F,L),F}}(),c=i(2),u=A(c),h=i(20),d=A(h),f=i(0),p=A(f),g=i(13),m=A(g),v=i(24),b=A(v),y=i(4),j=A(y),w=i(16),x=A(w),S=i(21),N=A(S),_=i(11),C=A(_),E=i(3),O=A(E);function A(D){return D&&D.__esModule?D:{default:D}}function k(D,F,M){return F in D?Object.defineProperty(D,F,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[F]=M,D}function $(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,T=function(){function D(F){$(this,D),this.scroll=F,this.delta=this.getDelta()}return l(D,[{key:"applyDelta",value:function(M){var L=this,z=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),M=U(M),M.reduce(function(W,B){var H=B.retain||B.delete||B.insert.length||1,q=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var V=B.insert;V.endsWith(`
`)&&z&&(z=!1,V=V.slice(0,-1)),W>=K&&!V.endsWith(`
`)&&(z=!0),L.scroll.insertAt(W,V);var Y=L.scroll.line(W),J=s(Y,2),X=J[0],ne=J[1],ie=(0,O.default)({},(0,y.bubbleFormats)(X));if(X instanceof j.default){var ae=X.descendant(p.default.Leaf,ne),ge=s(ae,1),he=ge[0];ie=(0,O.default)(ie,(0,y.bubbleFormats)(he))}q=d.default.attributes.diff(ie,q)||{}}else if(a(B.insert)==="object"){var Q=Object.keys(B.insert)[0];if(Q==null)return W;L.scroll.insertAt(W,Q,B.insert[Q])}K+=H}return Object.keys(q).forEach(function(ee){L.scroll.formatAt(W,H,ee,q[ee])}),W+H},0),M.reduce(function(W,B){return typeof B.delete=="number"?(L.scroll.deleteAt(W,B.delete),W):W+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,L){return this.scroll.deleteAt(M,L),this.update(new u.default().retain(M).delete(L))}},{key:"formatLine",value:function(M,L){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(W){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[W])){var B=z.scroll.lines(M,Math.max(L,1)),H=L;B.forEach(function(q){var V=q.length();if(!(q instanceof m.default))q.format(W,K[W]);else{var Y=M-q.offset(z.scroll),J=q.newlineIndex(Y+H)-Y+1;q.formatAt(Y,J,W,K[W])}H-=V})}}),this.scroll.optimize(),this.update(new u.default().retain(M).retain(L,(0,N.default)(K)))}},{key:"formatText",value:function(M,L){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(W){z.scroll.formatAt(M,L,W,K[W])}),this.update(new u.default().retain(M).retain(L,(0,N.default)(K)))}},{key:"getContents",value:function(M,L){return this.delta.slice(M,M+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,L){return M.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],K=[];L===0?this.scroll.path(M).forEach(function(B){var H=s(B,1),q=H[0];q instanceof j.default?z.push(q):q instanceof p.default.Leaf&&K.push(q)}):(z=this.scroll.lines(M,L),K=this.scroll.descendants(p.default.Leaf,M,L));var W=[z,K].map(function(B){if(B.length===0)return{};for(var H=(0,y.bubbleFormats)(B.shift());Object.keys(H).length>0;){var q=B.shift();if(q==null)return H;H=R((0,y.bubbleFormats)(q),H)}return H});return O.default.apply(O.default,W)}},{key:"getText",value:function(M,L){return this.getContents(M,L).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(M,L,z){return this.scroll.insertAt(M,L,z),this.update(new u.default().retain(M).insert(k({},L,z)))}},{key:"insertText",value:function(M,L){var z=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,L),Object.keys(K).forEach(function(W){z.scroll.formatAt(M,L.length,W,K[W])}),this.update(new u.default().retain(M).insert(L,(0,N.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==j.default.blotName||M.children.length>1?!1:M.children.head instanceof x.default}},{key:"removeFormat",value:function(M,L){var z=this.getText(M,L),K=this.scroll.line(M+L),W=s(K,2),B=W[0],H=W[1],q=0,V=new u.default;B!=null&&(B instanceof m.default?q=B.newlineIndex(H)-H+1:q=B.length()-H,V=B.delta().slice(H,H+q-1).insert(`
`));var Y=this.getContents(M,L+q),J=Y.diff(new u.default().insert(z).concat(V)),X=new u.default().retain(M).concat(J);return this.applyDelta(X)}},{key:"update",value:function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(I)&&p.default.find(L[0].target)){var W=p.default.find(L[0].target),B=(0,y.bubbleFormats)(W),H=W.offset(this.scroll),q=L[0].oldValue.replace(b.default.CONTENTS,""),V=new u.default().insert(q),Y=new u.default().insert(W.value()),J=new u.default().retain(H).concat(V.diff(Y,z));M=J.reduce(function(X,ne){return ne.insert?X.insert(ne.insert,B):X.push(ne)},new u.default),this.delta=K.compose(M)}else this.delta=this.getDelta(),(!M||!(0,C.default)(K.compose(M),this.delta))&&(M=K.diff(this.delta,z));return M}}]),D}();function R(D,F){return Object.keys(F).reduce(function(M,L){return D[L]==null||(F[L]===D[L]?M[L]=F[L]:Array.isArray(F[L])?F[L].indexOf(D[L])<0&&(M[L]=F[L].concat([D[L]])):M[L]=[F[L],D[L]]),M},{})}function U(D){return D.reduce(function(F,M){if(M.insert===1){var L=(0,N.default)(M.attributes);return delete L.image,F.insert({image:M.attributes.image},L)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,N.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var z=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(z,M.attributes)}return F.push(M)},new u.default)}n.default=T},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function _(C,E){var O=[],A=!0,k=!1,$=void 0;try{for(var I=C[Symbol.iterator](),T;!(A=(T=I.next()).done)&&(O.push(T.value),!(E&&O.length===E));A=!0);}catch(R){k=!0,$=R}finally{try{!A&&I.return&&I.return()}finally{if(k)throw $}}return O}return function(C,E){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return _(C,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function _(C,E){for(var O=0;O<E.length;O++){var A=E[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,E,O){return E&&_(C.prototype,E),O&&_(C,O),C}}(),l=i(0),c=b(l),u=i(21),h=b(u),d=i(11),f=b(d),p=i(8),g=b(p),m=i(10),v=b(m);function b(_){return _&&_.__esModule?_:{default:_}}function y(_){if(Array.isArray(_)){for(var C=0,E=Array(_.length);C<_.length;C++)E[C]=_[C];return E}else return Array.from(_)}function j(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}var w=(0,v.default)("quill:selection"),x=function _(C){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;j(this,_),this.index=C,this.length=E},S=function(){function _(C,E){var O=this;j(this,_),this.emitter=E,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(A,k){A===g.default.events.TEXT_CHANGE&&k.length()>0&&O.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var A=O.getNativeRange();A!=null&&A.start.node!==O.cursor.textNode&&O.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(A,k){if(k.range){var $=k.range,I=$.startNode,T=$.startOffset,R=$.endNode,U=$.endOffset;O.setNativeRange(I,T,R,U)}}),this.update(g.default.sources.SILENT)}return s(_,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var O=E.cursor.restore();if(!O)return;setTimeout(function(){E.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(E,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var k=c.default.find(A.start.node,!1);if(k==null)return;if(k instanceof c.default.Leaf){var $=k.split(A.start.offset);k.parent.insertBefore(this.cursor,$)}else k.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(E,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();E=Math.min(E,A-1),O=Math.min(E+O,A-1)-E;var k=void 0,$=this.scroll.leaf(E),I=a($,2),T=I[0],R=I[1];if(T==null)return null;var U=T.position(R,!0),D=a(U,2);k=D[0],R=D[1];var F=document.createRange();if(O>0){F.setStart(k,R);var M=this.scroll.leaf(E+O),L=a(M,2);if(T=L[0],R=L[1],T==null)return null;var z=T.position(R,!0),K=a(z,2);return k=K[0],R=K[1],F.setEnd(k,R),F.getBoundingClientRect()}else{var W="left",B=void 0;return k instanceof Text?(R<k.data.length?(F.setStart(k,R),F.setEnd(k,R+1)):(F.setStart(k,R-1),F.setEnd(k,R),W="right"),B=F.getBoundingClientRect()):(B=T.domNode.getBoundingClientRect(),R>0&&(W="right")),{bottom:B.top+B.height,height:B.height,left:B[W],right:B[W],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var O=E.getRangeAt(0);if(O==null)return null;var A=this.normalizeNative(O);return w.info("getNativeRange",A),A}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var O=this.normalizedToRange(E);return[O,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var O=this,A=[[E.start.node,E.start.offset]];E.native.collapsed||A.push([E.end.node,E.end.offset]);var k=A.map(function(T){var R=a(T,2),U=R[0],D=R[1],F=c.default.find(U,!0),M=F.offset(O.scroll);return D===0?M:F instanceof c.default.Container?M+F.length():M+F.index(U,D)}),$=Math.min(Math.max.apply(Math,y(k)),this.scroll.length()-1),I=Math.min.apply(Math,[$].concat(y(k)));return new x(I,$-I)}},{key:"normalizeNative",value:function(E){if(!N(this.root,E.startContainer)||!E.collapsed&&!N(this.root,E.endContainer))return null;var O={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[O.start,O.end].forEach(function(A){for(var k=A.node,$=A.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>$)k=k.childNodes[$],$=0;else if(k.childNodes.length===$)k=k.lastChild,$=k instanceof Text?k.data.length:k.childNodes.length+1;else break;A.node=k,A.offset=$}),O}},{key:"rangeToNative",value:function(E){var O=this,A=E.collapsed?[E.index]:[E.index,E.index+E.length],k=[],$=this.scroll.length();return A.forEach(function(I,T){I=Math.min($-1,I);var R=void 0,U=O.scroll.leaf(I),D=a(U,2),F=D[0],M=D[1],L=F.position(M,T!==0),z=a(L,2);R=z[0],M=z[1],k.push(R,M)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(E){var O=this.lastRange;if(O!=null){var A=this.getBounds(O.index,O.length);if(A!=null){var k=this.scroll.length()-1,$=this.scroll.line(Math.min(O.index,k)),I=a($,1),T=I[0],R=T;if(O.length>0){var U=this.scroll.line(Math.min(O.index+O.length,k)),D=a(U,1);R=D[0]}if(!(T==null||R==null)){var F=E.getBoundingClientRect();A.top<F.top?E.scrollTop-=F.top-A.top:A.bottom>F.bottom&&(E.scrollTop+=A.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(E,O){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",E,O,A,k),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||A.parentNode==null))){var I=document.getSelection();if(I!=null)if(E!=null){this.hasFocus()||this.root.focus();var T=(this.getNativeRange()||{}).native;if(T==null||$||E!==T.startContainer||O!==T.startOffset||A!==T.endContainer||k!==T.endOffset){E.tagName=="BR"&&(O=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),A.tagName=="BR"&&(k=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var R=document.createRange();R.setStart(E,O),R.setEnd(A,k),I.removeAllRanges(),I.addRange(R)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof O=="string"&&(A=O,O=!1),w.info("setRange",E),E!=null){var k=this.rangeToNative(E);this.setNativeRange.apply(this,y(k).concat([O]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,O=this.lastRange,A=this.getRange(),k=a(A,2),$=k[0],I=k[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(O,this.lastRange)){var T;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var R=[g.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(O),E];if((T=this.emitter).emit.apply(T,[g.default.events.EDITOR_CHANGE].concat(R)),E!==g.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,R)}}}}]),_}();function N(_,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),_.contains(C)}n.Range=x,n.default=S},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&g(m.prototype,v),b&&g(m,b),m}}(),s=function g(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:g(j,v,b)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(b)}},l=i(0),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"insertInto",value:function(b,y){b.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,b,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var g in p)p.hasOwnProperty(g)&&(f[g]=p[g])};return function(f,p){d(f,p);function g(){this.constructor=f}f.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),l=i(30),c=i(1),u=function(d){a(f,d);function f(p){var g=d.call(this,p)||this;return g.build(),g}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var m=h(g);p.insertBefore(m,p.children.head||void 0)}catch(v){if(v instanceof c.ParchmentError)return;throw v}})},f.prototype.deleteAt=function(p,g){if(p===0&&g===this.length())return this.remove();this.children.forEachAt(p,g,function(m,v,b){m.deleteAt(v,b)})},f.prototype.descendant=function(p,g){var m=this.children.find(g),v=m[0],b=m[1];return p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p?[v,b]:v instanceof f?v.descendant(p,b):[null,-1]},f.prototype.descendants=function(p,g,m){g===void 0&&(g=0),m===void 0&&(m=Number.MAX_VALUE);var v=[],b=m;return this.children.forEachAt(g,m,function(y,j,w){(p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p)&&v.push(y),y instanceof f&&(v=v.concat(y.descendants(p,j,b))),b-=w}),v},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(p,g,m,v){this.children.forEachAt(p,g,function(b,y,j){b.formatAt(y,j,m,v)})},f.prototype.insertAt=function(p,g,m){var v=this.children.find(p),b=v[0],y=v[1];if(b)b.insertAt(y,g,m);else{var j=m==null?c.create("text",g):c.create(g,m);this.appendChild(j)}},f.prototype.insertBefore=function(p,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return p instanceof m}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,g)},f.prototype.length=function(){return this.children.reduce(function(p,g){return p+g.length()},0)},f.prototype.moveChildren=function(p,g){this.children.forEach(function(m){p.insertBefore(m,g)})},f.prototype.optimize=function(p){if(d.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(p)}else this.remove()},f.prototype.path=function(p,g){g===void 0&&(g=!1);var m=this.children.find(p,g),v=m[0],b=m[1],y=[[this,p]];return v instanceof f?y.concat(v.path(b,g)):(v!=null&&y.push([v,b]),y)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),d.prototype.replace.call(this,p)},f.prototype.split=function(p,g){if(g===void 0&&(g=!1),!g){if(p===0)return this;if(p===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(p,this.length(),function(v,b,y){v=v.split(b,g),m.appendChild(v)}),m},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,g){var m=this,v=[],b=[];p.forEach(function(y){y.target===m.domNode&&y.type==="childList"&&(v.push.apply(v,y.addedNodes),b.push.apply(b,y.removedNodes))}),b.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var j=c.find(y);j!=null&&(j.domNode.parentNode==null||j.domNode.parentNode===m.domNode)&&j.detach()}}),v.filter(function(y){return y.parentNode==m.domNode}).sort(function(y,j){return y===j?0:y.compareDocumentPosition(j)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var j=null;y.nextSibling!=null&&(j=c.find(y.nextSibling));var w=h(y);(w.next!=j||w.next==null)&&(w.parent!=null&&w.parent.removeChild(m),m.insertBefore(w,j||void 0))})},f}(l.default);function h(d){var f=c.find(d);if(f==null)try{f=c.create(d)}catch{f=c.create(c.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(g){f.domNode.appendChild(g)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var g in p)p.hasOwnProperty(g)&&(f[g]=p[g])};return function(f,p){d(f,p);function g(){this.constructor=f}f.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),l=i(31),c=i(17),u=i(1),h=function(d){a(f,d);function f(p){var g=d.call(this,p)||this;return g.attributes=new l.default(g.domNode),g}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,g){var m=u.query(p);m instanceof s.default?this.attributes.attribute(m,g):g&&m!=null&&(p!==this.statics.blotName||this.formats()[p]!==g)&&this.replaceWith(p,g)},f.prototype.formats=function(){var p=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(p[this.statics.blotName]=g),p},f.prototype.replaceWith=function(p,g){var m=d.prototype.replaceWith.call(this,p,g);return this.attributes.copy(m),m},f.prototype.update=function(p,g){var m=this;d.prototype.update.call(this,p,g),p.some(function(v){return v.target===m.domNode&&v.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,g){var m=d.prototype.wrap.call(this,p,g);return m instanceof f&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},f}(c.default);n.default=h},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),l=i(1),c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},h.prototype.position=function(d,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(p+=1),[this.parent.domNode,p]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=l.Scope.INLINE_BLOT,h}(s.default);n.default=c},function(r,n,i){var a=i(11),s=i(3),l={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=s(!0,{},h);d||(f=Object.keys(f).reduce(function(g,m){return f[m]!=null&&(g[m]=f[m]),g},{}));for(var p in u)u[p]!==void 0&&h[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(f,p){return a(u[p],h[p])||(f[p]=h[p]===void 0?null:h[p]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var f=Object.keys(h).reduce(function(p,g){return u[g]===void 0&&(p[g]=h[g]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,f=l.length(h);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var p={};return h.attributes&&(p.attributes=h.attributes),typeof h.retain=="number"?p.retain=u:typeof h.insert=="string"?p.insert=h.insert.substr(d,u):p.insert=h.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(f)}else return[]},r.exports=l},function(r,n){var i=function(){function a(m,v){return v!=null&&m instanceof v}var s;try{s=Map}catch{s=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(m,v,b,y,j){typeof v=="object"&&(b=v.depth,y=v.prototype,j=v.includeNonEnumerable,v=v.circular);var w=[],x=[],S=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof b>"u"&&(b=1/0);function N(_,C){if(_===null)return null;if(C===0)return _;var E,O;if(typeof _!="object")return _;if(a(_,s))E=new s;else if(a(_,l))E=new l;else if(a(_,c))E=new c(function(F,M){_.then(function(L){F(N(L,C-1))},function(L){M(N(L,C-1))})});else if(u.__isArray(_))E=[];else if(u.__isRegExp(_))E=new RegExp(_.source,g(_)),_.lastIndex&&(E.lastIndex=_.lastIndex);else if(u.__isDate(_))E=new Date(_.getTime());else{if(S&&Buffer.isBuffer(_))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(_.length):E=new Buffer(_.length),_.copy(E),E;a(_,Error)?E=Object.create(_):typeof y>"u"?(O=Object.getPrototypeOf(_),E=Object.create(O)):(E=Object.create(y),O=y)}if(v){var A=w.indexOf(_);if(A!=-1)return x[A];w.push(_),x.push(E)}a(_,s)&&_.forEach(function(F,M){var L=N(M,C-1),z=N(F,C-1);E.set(L,z)}),a(_,l)&&_.forEach(function(F){var M=N(F,C-1);E.add(M)});for(var k in _){var $;O&&($=Object.getOwnPropertyDescriptor(O,k)),!($&&$.set==null)&&(E[k]=N(_[k],C-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(_),k=0;k<I.length;k++){var T=I[k],R=Object.getOwnPropertyDescriptor(_,T);R&&!R.enumerable&&!j||(E[T]=N(_[T],C-1),R.enumerable||Object.defineProperty(E,T,{enumerable:!1}))}if(j)for(var U=Object.getOwnPropertyNames(_),k=0;k<U.length;k++){var D=U[k],R=Object.getOwnPropertyDescriptor(_,D);R&&R.enumerable||(E[D]=N(_[D],C-1),Object.defineProperty(E,D,{enumerable:!1}))}return E}return N(m,b)}u.clonePrototype=function(v){if(v===null)return null;var b=function(){};return b.prototype=v,new b};function h(m){return Object.prototype.toString.call(m)}u.__objToStr=h;function d(m){return typeof m=="object"&&h(m)==="[object Date]"}u.__isDate=d;function f(m){return typeof m=="object"&&h(m)==="[object Array]"}u.__isArray=f;function p(m){return typeof m=="object"&&h(m)==="[object RegExp]"}u.__isRegExp=p;function g(m){var v="";return m.global&&(v+="g"),m.ignoreCase&&(v+="i"),m.multiline&&(v+="m"),v}return u.__getRegExpFlags=g,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(O,A){var k=[],$=!0,I=!1,T=void 0;try{for(var R=O[Symbol.iterator](),U;!($=(U=R.next()).done)&&(k.push(U.value),!(A&&k.length===A));$=!0);}catch(D){I=!0,T=D}finally{try{!$&&R.return&&R.return()}finally{if(I)throw T}}return k}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(O,A){for(var k=0;k<A.length;k++){var $=A[k];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(O,$.key,$)}}return function(O,A,k){return A&&E(O.prototype,A),k&&E(O,k),O}}(),l=function E(O,A,k){O===null&&(O=Function.prototype);var $=Object.getOwnPropertyDescriptor(O,A);if($===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:E(I,A,k)}else{if("value"in $)return $.value;var T=$.get;return T===void 0?void 0:T.call(k)}},c=i(0),u=w(c),h=i(8),d=w(h),f=i(4),p=w(f),g=i(16),m=w(g),v=i(13),b=w(v),y=i(25),j=w(y);function w(E){return E&&E.__esModule?E:{default:E}}function x(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function S(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function N(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}function _(E){return E instanceof p.default||E instanceof f.BlockEmbed}var C=function(E){N(O,E);function O(A,k){x(this,O);var $=S(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A));return $.emitter=k.emitter,Array.isArray(k.whitelist)&&($.whitelist=k.whitelist.reduce(function(I,T){return I[T]=!0,I},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return s(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,$){var I=this.line(k),T=a(I,2),R=T[0],U=T[1],D=this.line(k+$),F=a(D,1),M=F[0];if(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,k,$),M!=null&&R!==M&&U>0){if(R instanceof f.BlockEmbed||M instanceof f.BlockEmbed){this.optimize();return}if(R instanceof b.default){var L=R.newlineIndex(R.length(),!0);if(L>-1&&(R=R.split(L+1),R===M)){this.optimize();return}}else if(M instanceof b.default){var z=M.newlineIndex(0);z>-1&&M.split(z+1)}var K=M.children.head instanceof m.default?null:M.children.head;R.moveChildren(M,K),R.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,$,I,T){this.whitelist!=null&&!this.whitelist[I]||(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,k,$,I,T),this.optimize())}},{key:"insertAt",value:function(k,$,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[$])){if(k>=this.length())if(I==null||u.default.query($,u.default.Scope.BLOCK)==null){var T=u.default.create(this.statics.defaultChild);this.appendChild(T),I==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),T.insertAt(0,$,I)}else{var R=u.default.create($,I);this.appendChild(R)}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,k,$,I);this.optimize()}}},{key:"insertBefore",value:function(k,$){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var I=u.default.create(this.statics.defaultChild);I.appendChild(k),k=I}l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,k,$)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(_,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function T(R,U,D){var F=[],M=D;return R.children.forEachAt(U,D,function(L,z,K){_(L)?F.push(L):L instanceof u.default.Container&&(F=F.concat(T(L,z,M))),M-=K}),F};return I(this,k,$)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,k,$),k.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,k,$))}},{key:"path",value:function(k){return l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var $=d.default.sources.USER;typeof k=="string"&&($=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,$,k),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,$,k)}}}]),O}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,f.BlockEmbed,j.default],n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(H,q){var V=[],Y=!0,J=!1,X=void 0;try{for(var ne=H[Symbol.iterator](),ie;!(Y=(ie=ne.next()).done)&&(V.push(ie.value),!(q&&V.length===q));Y=!0);}catch(ae){J=!0,X=ae}finally{try{!Y&&ne.return&&ne.return()}finally{if(J)throw X}}return V}return function(H,q){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return B(H,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function B(H,q){for(var V=0;V<q.length;V++){var Y=q[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(H,Y.key,Y)}}return function(H,q,V){return q&&B(H.prototype,q),V&&B(H,V),H}}(),c=i(21),u=E(c),h=i(11),d=E(h),f=i(3),p=E(f),g=i(2),m=E(g),v=i(20),b=E(v),y=i(0),j=E(y),w=i(5),x=E(w),S=i(10),N=E(S),_=i(9),C=E(_);function E(B){return B&&B.__esModule?B:{default:B}}function O(B,H,q){return H in B?Object.defineProperty(B,H,{value:q,enumerable:!0,configurable:!0,writable:!0}):B[H]=q,B}function A(B,H){if(!(B instanceof H))throw new TypeError("Cannot call a class as a function")}function k(B,H){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:B}function $(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);B.prototype=Object.create(H&&H.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(B,H):B.__proto__=H)}var I=(0,N.default)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",R=function(B){$(H,B),l(H,null,[{key:"match",value:function(V,Y){return Y=W(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!Y[J]!==V[J]&&Y[J]!==null})?!1:Y.key===(V.which||V.keyCode)}}]);function H(q,V){A(this,H);var Y=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,q,V));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(J){J==="list autofill"&&q.scroll.whitelist!=null&&!q.scroll.whitelist.list||Y.options.bindings[J]&&Y.addBinding(Y.options.bindings[J])}),Y.addBinding({key:H.keys.ENTER,shiftKey:null},L),Y.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},D),Y.addBinding({key:H.keys.DELETE},{collapsed:!0},F)):(Y.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Y.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),Y.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},M),Y.addBinding({key:H.keys.DELETE},{collapsed:!1},M),Y.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Y.listen(),Y}return l(H,[{key:"addBinding",value:function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=W(V);if(X==null||X.key==null)return I.warn("Attempted to add invalid keyboard binding",X);typeof Y=="function"&&(Y={handler:Y}),typeof J=="function"&&(J={handler:J}),X=(0,p.default)(X,Y,J),this.bindings[X.key]=this.bindings[X.key]||[],this.bindings[X.key].push(X)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var J=Y.which||Y.keyCode,X=(V.bindings[J]||[]).filter(function(He){return H.match(Y,He)});if(X.length!==0){var ne=V.quill.getSelection();if(!(ne==null||!V.quill.hasFocus())){var ie=V.quill.getLine(ne.index),ae=s(ie,2),ge=ae[0],he=ae[1],Q=V.quill.getLeaf(ne.index),ee=s(Q,2),se=ee[0],ce=ee[1],te=ne.length===0?[se,ce]:V.quill.getLeaf(ne.index+ne.length),ve=s(te,2),je=ve[0],we=ve[1],rt=se instanceof j.default.Text?se.value().slice(0,ce):"",Ot=je instanceof j.default.Text?je.value().slice(we):"",Be={collapsed:ne.length===0,empty:ne.length===0&&ge.length()<=1,format:V.quill.getFormat(ne),offset:he,prefix:rt,suffix:Ot},Wr=X.some(function(He){if(He.collapsed!=null&&He.collapsed!==Be.collapsed||He.empty!=null&&He.empty!==Be.empty||He.offset!=null&&He.offset!==Be.offset)return!1;if(Array.isArray(He.format)){if(He.format.every(function(_t){return Be.format[_t]==null}))return!1}else if(a(He.format)==="object"&&!Object.keys(He.format).every(function(_t){return He.format[_t]===!0?Be.format[_t]!=null:He.format[_t]===!1?Be.format[_t]==null:(0,d.default)(He.format[_t],Be.format[_t])}))return!1;return He.prefix!=null&&!He.prefix.test(Be.prefix)||He.suffix!=null&&!He.suffix.test(Be.suffix)?!1:He.handler.call(V,ne,Be)!==!0});Wr&&Y.preventDefault()}}}})}}]),H}(C.default);R.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},R.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:R.keys.TAB,format:["blockquote","indent","list"],handler:function(H,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:R.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,q){if(q.collapsed&&q.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:R.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,q){q.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):q.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:R.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,x.default.sources.USER)}},tab:{key:R.keys.TAB,handler:function(H){this.quill.history.cutoff();var q=new m.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(q,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,x.default.sources.SILENT)}},"list empty enter":{key:R.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,q){this.quill.format("list",!1,x.default.sources.USER),q.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:R.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var q=this.quill.getLine(H.index),V=s(q,2),Y=V[0],J=V[1],X=(0,p.default)({},Y.formats(),{list:"checked"}),ne=new m.default().retain(H.index).insert(`
`,X).retain(Y.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,x.default.sources.USER),this.quill.setSelection(H.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:R.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,q){var V=this.quill.getLine(H.index),Y=s(V,2),J=Y[0],X=Y[1],ne=new m.default().retain(H.index).insert(`
`,q.format).retain(J.length()-X-1).retain(1,{header:null});this.quill.updateContents(ne,x.default.sources.USER),this.quill.setSelection(H.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,q){var V=q.prefix.length,Y=this.quill.getLine(H.index),J=s(Y,2),X=J[0],ne=J[1];if(ne>V)return!0;var ie=void 0;switch(q.prefix.trim()){case"[]":case"[ ]":ie="unchecked";break;case"[x]":ie="checked";break;case"-":case"*":ie="bullet";break;default:ie="ordered"}this.quill.insertText(H.index," ",x.default.sources.USER),this.quill.history.cutoff();var ae=new m.default().retain(H.index-ne).delete(V+1).retain(X.length()-2-ne).retain(1,{list:ie});this.quill.updateContents(ae,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-V,x.default.sources.SILENT)}},"code exit":{key:R.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var q=this.quill.getLine(H.index),V=s(q,2),Y=V[0],J=V[1],X=new m.default().retain(H.index+Y.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(X,x.default.sources.USER)}},"embed left":U(R.keys.LEFT,!1),"embed left shift":U(R.keys.LEFT,!0),"embed right":U(R.keys.RIGHT,!1),"embed right shift":U(R.keys.RIGHT,!0)}};function U(B,H){var q,V=B===R.keys.LEFT?"prefix":"suffix";return q={key:B,shiftKey:H,altKey:null},O(q,V,/^$/),O(q,"handler",function(J){var X=J.index;B===R.keys.RIGHT&&(X+=J.length+1);var ne=this.quill.getLeaf(X),ie=s(ne,1),ae=ie[0];return ae instanceof j.default.Embed?(B===R.keys.LEFT?H?this.quill.setSelection(J.index-1,J.length+1,x.default.sources.USER):this.quill.setSelection(J.index-1,x.default.sources.USER):H?this.quill.setSelection(J.index,J.length+1,x.default.sources.USER):this.quill.setSelection(J.index+J.length+1,x.default.sources.USER),!1):!0}),q}function D(B,H){if(!(B.index===0||this.quill.getLength()<=1)){var q=this.quill.getLine(B.index),V=s(q,1),Y=V[0],J={};if(H.offset===0){var X=this.quill.getLine(B.index-1),ne=s(X,1),ie=ne[0];if(ie!=null&&ie.length()>1){var ae=Y.formats(),ge=this.quill.getFormat(B.index-1,1);J=b.default.attributes.diff(ae,ge)||{}}}var he=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(B.index-he,he,x.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(B.index-he,he,J,x.default.sources.USER),this.quill.focus()}}function F(B,H){var q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(B.index>=this.quill.getLength()-q)){var V={},Y=0,J=this.quill.getLine(B.index),X=s(J,1),ne=X[0];if(H.offset>=ne.length()-1){var ie=this.quill.getLine(B.index+1),ae=s(ie,1),ge=ae[0];if(ge){var he=ne.formats(),Q=this.quill.getFormat(B.index,1);V=b.default.attributes.diff(he,Q)||{},Y=ge.length()}}this.quill.deleteText(B.index,q,x.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(B.index+Y-1,q,V,x.default.sources.USER)}}function M(B){var H=this.quill.getLines(B),q={};if(H.length>1){var V=H[0].formats(),Y=H[H.length-1].formats();q=b.default.attributes.diff(Y,V)||{}}this.quill.deleteText(B,x.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(B.index,1,q,x.default.sources.USER),this.quill.setSelection(B.index,x.default.sources.SILENT),this.quill.focus()}function L(B,H){var q=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var V=Object.keys(H.format).reduce(function(Y,J){return j.default.query(J,j.default.Scope.BLOCK)&&!Array.isArray(H.format[J])&&(Y[J]=H.format[J]),Y},{});this.quill.insertText(B.index,`
`,V,x.default.sources.USER),this.quill.setSelection(B.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(Y){V[Y]==null&&(Array.isArray(H.format[Y])||Y!=="link"&&q.quill.format(Y,H.format[Y],x.default.sources.USER))})}function z(B){return{key:R.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(q){var V=j.default.query("code-block"),Y=q.index,J=q.length,X=this.quill.scroll.descendant(V,Y),ne=s(X,2),ie=ne[0],ae=ne[1];if(ie!=null){var ge=this.quill.getIndex(ie),he=ie.newlineIndex(ae,!0)+1,Q=ie.newlineIndex(ge+ae+J),ee=ie.domNode.textContent.slice(he,Q).split(`
`);ae=0,ee.forEach(function(se,ce){B?(ie.insertAt(he+ae,V.TAB),ae+=V.TAB.length,ce===0?Y+=V.TAB.length:J+=V.TAB.length):se.startsWith(V.TAB)&&(ie.deleteAt(he+ae,V.TAB.length),ae-=V.TAB.length,ce===0?Y-=V.TAB.length:J-=V.TAB.length),ae+=se.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(Y,J,x.default.sources.SILENT)}}}}function K(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(q,V){this.quill.format(B,!V.format[B],x.default.sources.USER)}}}function W(B){if(typeof B=="string"||typeof B=="number")return W({key:B});if((typeof B>"u"?"undefined":a(B))==="object"&&(B=(0,u.default)(B,!1)),typeof B.key=="string")if(R.keys[B.key.toUpperCase()]!=null)B.key=R.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[T]=B.shortKey,delete B.shortKey),B}n.default=R,n.SHORTKEY=T},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(y,j){var w=[],x=!0,S=!1,N=void 0;try{for(var _=y[Symbol.iterator](),C;!(x=(C=_.next()).done)&&(w.push(C.value),!(j&&w.length===j));x=!0);}catch(E){S=!0,N=E}finally{try{!x&&_.return&&_.return()}finally{if(S)throw N}}return w}return function(y,j){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return b(y,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(y,j,w){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,j);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,j,w)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(w)}},l=function(){function b(y,j){for(var w=0;w<j.length;w++){var x=j[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,j,w){return j&&b(y.prototype,j),w&&b(y,w),y}}(),c=i(0),u=f(c),h=i(7),d=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function g(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function m(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var v=function(b){m(y,b),l(y,null,[{key:"value",value:function(){}}]);function y(j,w){p(this,y);var x=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,j));return x.selection=w,x.textNode=document.createTextNode(y.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return l(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,x){if(this._length!==0)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,x);for(var S=this,N=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)N+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=y.CONTENTS.length,S.optimize(),S.formatAt(N,y.CONTENTS.length,w,x),this._length=0)}},{key:"index",value:function(w,x){return w===this.textNode?0:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,w,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,x=this.selection.getNativeRange(),S=void 0,N=void 0,_=void 0;if(x!=null&&x.start.node===w&&x.end.node===w){var C=[w,x.start.offset,x.end.offset];S=C[0],N=C[1],_=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var E=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof d.default?(S=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=y.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),N!=null){var O=[N,_].map(function(k){return Math.max(0,Math.min(S.data.length,k-1))}),A=a(O,2);return N=A[0],_=A[1],{startNode:S,startOffset:N,endNode:S,endOffset:_}}}}},{key:"update",value:function(w,x){var S=this;if(w.some(function(_){return _.type==="characterData"&&_.target===S.textNode})){var N=this.restore();N&&(x.range=N)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=u(a),l=i(4),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function v(b,y){for(var j=0;j<y.length;j++){var w=y[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,j){return y&&v(b.prototype,y),j&&v(b,j),b}}(),s=function v(b,y,j){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,y,j)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(j)}},l=i(0),c=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function d(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=function(v){f(b,v);function b(){return h(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(j){var w=s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,j);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):w}}]),b}(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),m=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=g,n.ColorStyle=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function m(v,b){for(var y=0;y<b.length;y++){var j=b[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),s=function m(v,b,y){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,b);if(j===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,b,y)}else{if("value"in j)return j.value;var x=j.get;return x===void 0?void 0:x.call(y)}},l=i(6),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function f(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){f(v,m);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"format",value:function(y,j){if(y!==this.statics.blotName||!j)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,j);j=this.constructor.sanitize(j),this.domNode.setAttribute("href",j)}}],[{key:"create",value:function(y){var j=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y);return y=this.sanitize(y),j.setAttribute("href",y),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return g(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),v}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(m,v){var b=document.createElement("a");b.href=m;var y=b.href.slice(0,b.href.indexOf(":"));return v.indexOf(y)>-1}n.default=p,n.sanitize=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s=function(){function v(b,y){for(var j=0;j<y.length;j++){var w=y[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,j){return y&&v(b.prototype,y),j&&v(b,j),b}}(),l=i(23),c=d(l),u=i(107),h=d(u);function d(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function g(v,b){v.setAttribute(b,v.getAttribute(b)!=="true")}var m=function(){function v(b){var y=this;f(this,v),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(j){switch(j.keyCode){case c.default.keys.ENTER:y.togglePicker();break;case c.default.keys.ESCAPE:y.escape(),j.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var j=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),y.hasAttribute("value")&&w.setAttribute("data-value",y.getAttribute("value")),y.textContent&&w.setAttribute("data-label",y.textContent),w.addEventListener("click",function(){j.selectItem(w,!0)}),w.addEventListener("keydown",function(x){switch(x.keyCode){case c.default.keys.ENTER:j.selectItem(w,!0),x.preventDefault();break;case c.default.keys.ESCAPE:j.escape(),x.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=h.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,j=document.createElement("span");j.classList.add("ql-picker-options"),j.setAttribute("aria-hidden","true"),j.tabIndex="-1",j.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",j.id),this.options=j,[].slice.call(this.select.options).forEach(function(w){var x=y.buildItem(w);j.appendChild(x),w.selected===!0&&y.selectItem(x)}),this.container.appendChild(j)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(j){y.container.setAttribute(j.name,j.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(y!==w&&(w!=null&&w.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),j))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);var w=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),v}();n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),s=I(a),l=i(5),c=I(l),u=i(4),h=I(u),d=i(16),f=I(d),p=i(25),g=I(p),m=i(24),v=I(m),b=i(35),y=I(b),j=i(6),w=I(j),x=i(22),S=I(x),N=i(7),_=I(N),C=i(55),E=I(C),O=i(42),A=I(O),k=i(23),$=I(k);function I(T){return T&&T.__esModule?T:{default:T}}c.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":g.default,"blots/cursor":v.default,"blots/embed":y.default,"blots/inline":w.default,"blots/scroll":S.default,"blots/text":_.default,"modules/clipboard":E.default,"modules/history":A.default,"modules/keyboard":$.default}),s.default.register(h.default,f.default,v.default,w.default,S.default,_.default),n.default=c.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),s=function(){function l(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},l.prototype.deleteAt=function(c,u){var h=this.isolate(c,u);h.remove()},l.prototype.formatAt=function(c,u,h,d){var f=this.isolate(c,u);if(a.query(h,a.Scope.BLOT)!=null&&d)f.wrap(h,d);else if(a.query(h,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);f.wrap(p),p.format(h,d)}},l.prototype.insertAt=function(c,u,h){var d=h==null?a.create("text",u):a.create(u,h),f=this.split(c);this.parent.insertBefore(d,f)},l.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;c.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=h)&&c.domNode.insertBefore(this.domNode,h),this.parent=c,this.attach()},l.prototype.isolate=function(c,u){var h=this.split(c);return h.split(u),h},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,u){var h=typeof c=="string"?a.create(c,u):c;return h.replace(this),h},l.prototype.split=function(c,u){return c===0?this:this.next},l.prototype.update=function(c,u){},l.prototype.wrap=function(c,u){var h=typeof c=="string"?a.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},l.blotName="abstract",l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),s=i(32),l=i(33),c=i(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var f=a.default.keys(this.domNode),p=s.default.keys(this.domNode),g=l.default.keys(this.domNode);f.concat(p).concat(g).forEach(function(m){var v=c.query(m,c.Scope.ATTRIBUTE);v instanceof a.default&&(d.attributes[v.attrName]=v)})},h.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(p){var g=f.attributes[p].value(f.domNode);d.format(p,g)})},h.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=d.attributes[p].value(d.domNode),f},{})},h}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function l(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(h+"-")===0})}var c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},h.prototype.remove=function(d){var f=l(d,this.keyName);f.forEach(function(p){d.classList.remove(p)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var f=l(d,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(d,p)?p:""},h}(s.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function l(u){var h=u.split("-"),d=h.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return h[0]+d}var c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},h.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[l(this.keyName)]=f,!0):!1},h.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var f=d.style[l(this.keyName)];return this.canAdd(d,f)?f:""},h}(s.default);n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){s(this,c),this.quill=u,this.options=h,this.modules={}}return a(c,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function b(y,j){for(var w=0;w<j.length;w++){var x=j[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,j,w){return j&&b(y.prototype,j),w&&b(y,w),y}}(),s=function b(y,j,w){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,j);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,j,w)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(w)}},l=i(0),c=d(l),u=i(7),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function p(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function g(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var m="\uFEFF",v=function(b){g(y,b);function y(j){f(this,y);var w=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,j));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(x){w.contentNode.appendChild(x)}),w.leftGuard=document.createTextNode(m),w.rightGuard=document.createTextNode(m),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return a(y,[{key:"index",value:function(w,x){return w===this.leftGuard?0:w===this.rightGuard?1:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,w,x)}},{key:"restore",value:function(w){var x=void 0,S=void 0,N=w.data.split(m).join("");if(w===this.leftGuard)if(this.prev instanceof h.default){var _=this.prev.length();this.prev.insertAt(_,N),x={startNode:this.prev.domNode,startOffset:_+N.length}}else S=document.createTextNode(N),this.parent.insertBefore(c.default.create(S),this),x={startNode:S,startOffset:N.length};else w===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,N),x={startNode:this.next.domNode,startOffset:N.length}):(S=document.createTextNode(N),this.parent.insertBefore(c.default.create(S),this.next),x={startNode:S,startOffset:N.length}));return w.data=m,x}},{key:"update",value:function(w,x){var S=this;w.forEach(function(N){if(N.type==="characterData"&&(N.target===S.leftGuard||N.target===S.rightGuard)){var _=S.restore(N.target);_&&(x.range=_)}})}}]),y}(c.default.Embed);n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",c),h=new s.default.Attributor.Class("align","ql-align",c),d=new s.default.Attributor.Style("align","text-align",c);n.AlignAttribute=u,n.AlignClass=h,n.AlignStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),s=c(a),l=i(26);function c(d){return d&&d.__esModule?d:{default:d}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new l.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}var c={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",c),h=new s.default.Attributor.Class("direction","ql-direction",c),d=new s.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=u,n.DirectionClass=h,n.DirectionStyle=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function b(y,j){for(var w=0;w<j.length;w++){var x=j[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,j,w){return j&&b(y.prototype,j),w&&b(y,w),y}}(),s=function b(y,j,w){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,j);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:b(S,j,w)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(w)}},l=i(0),c=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function d(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function f(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",p),m=function(b){f(y,b);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(w){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),y}(c.default.Attributor.Style),v=new m("font","font-family",p);n.FontStyle=v,n.FontClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),s=l(a);function l(h){return h&&h.__esModule?h:{default:h}}var c=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function j(w,x){for(var S=0;S<x.length;S++){var N=x[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,x,S){return x&&j(w.prototype,x),S&&j(w,S),w}}(),s=i(0),l=f(s),c=i(5),u=f(c),h=i(9),d=f(h);function f(j){return j&&j.__esModule?j:{default:j}}function p(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function g(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function m(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var v=function(j){m(w,j);function w(x,S){p(this,w);var N=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,S));return N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(u.default.events.EDITOR_CHANGE,function(_,C,E,O){_!==u.default.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||O===u.default.sources.USER?N.record(C,E):N.transform(C))}),N.quill.keyboard.addBinding({key:"Z",shortKey:!0},N.undo.bind(N)),N.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},N.redo.bind(N)),/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"Y",shortKey:!0},N.redo.bind(N)),N}return a(w,[{key:"change",value:function(S,N){if(this.stack[S].length!==0){var _=this.stack[S].pop();this.stack[N].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[S],u.default.sources.USER),this.ignoreChange=!1;var C=y(_[S]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,N){if(S.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(N),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var E=this.stack.undo.pop();_=_.compose(E.undo),S=E.redo.compose(S)}else this.lastRecorded=C;this.stack.undo.push({redo:S,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(N){N.undo=S.transform(N.undo,!0),N.redo=S.transform(N.redo,!0)}),this.stack.redo.forEach(function(N){N.undo=S.transform(N.undo,!0),N.redo=S.transform(N.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(d.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(j){var w=j.ops[j.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(x){return l.default.query(x,l.default.Scope.BLOCK)!=null}):!1}function y(j){var w=j.reduce(function(S,N){return S+=N.delete||0,S},0),x=j.length()-w;return b(j)&&(x-=1),x}n.default=v,n.getLastChangeIndex=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function L(z,K){for(var W=0;W<K.length;W++){var B=K[W];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(z,B.key,B)}}return function(z,K,W){return K&&L(z.prototype,K),W&&L(z,W),z}}(),s=function L(z,K,W){z===null&&(z=Function.prototype);var B=Object.getOwnPropertyDescriptor(z,K);if(B===void 0){var H=Object.getPrototypeOf(z);return H===null?void 0:L(H,K,W)}else{if("value"in B)return B.value;var q=B.get;return q===void 0?void 0:q.call(W)}},l=i(3),c=C(l),u=i(2),h=C(u),d=i(8),f=C(d),p=i(23),g=C(p),m=i(34),v=C(m),b=i(59),y=C(b),j=i(60),w=C(j),x=i(28),S=C(x),N=i(61),_=C(N);function C(L){return L&&L.__esModule?L:{default:L}}function E(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function O(L,z){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:L}function A(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(L,z):L.__proto__=z)}var k=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],T=["1","2","3",!1],R=["small",!1,"large","huge"],U=function(L){A(z,L);function z(K,W){E(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,W)),H=function q(V){if(!document.body.contains(K.root))return document.body.removeEventListener("click",q);B.tooltip!=null&&!B.tooltip.root.contains(V.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(Y){Y.container.contains(V.target)||Y.close()})};return K.emitter.listenDOM("click",document.body,H),B}return a(z,[{key:"addModule",value:function(W){var B=s(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(W,B){W.forEach(function(H){var q=H.getAttribute("class")||"";q.split(/\s+/).forEach(function(V){if(V.startsWith("ql-")&&(V=V.slice(3),B[V]!=null))if(V==="direction")H.innerHTML=B[V][""]+B[V].rtl;else if(typeof B[V]=="string")H.innerHTML=B[V];else{var Y=H.value||"";Y!=null&&B[V][Y]&&(H.innerHTML=B[V][Y])}})})}},{key:"buildPickers",value:function(W,B){var H=this;this.pickers=W.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&M(V,k),new w.default(V,B.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var Y=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&M(V,$,Y==="background"?"#ffffff":"#000000"),new y.default(V,B[Y])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?M(V,I):V.classList.contains("ql-header")?M(V,T):V.classList.contains("ql-size")&&M(V,R)),new S.default(V)});var q=function(){H.pickers.forEach(function(Y){Y.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,q)}}]),z}(v.default);U.DEFAULTS=(0,c.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var W=new FileReader;W.onload=function(B){var H=z.quill.getSelection(!0);z.quill.updateContents(new h.default().retain(H.index).delete(H.length).insert({image:B.target.result}),f.default.sources.USER),z.quill.setSelection(H.index+1,f.default.sources.SILENT),K.value=""},W.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(L){A(z,L);function z(K,W){E(this,z);var B=O(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,K,W));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return a(z,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(B){g.default.match(B,"enter")?(W.save(),B.preventDefault()):g.default.match(B,"escape")&&(W.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,f.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":W=F(W);case"formula":{if(!W)break;var H=this.quill.getSelection(!0);if(H!=null){var q=H.index+H.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),W,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",f.default.sources.USER),this.quill.setSelection(q+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(_.default);function F(L){var z=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":L}function M(L,z){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(W){var B=document.createElement("option");W===K?B.setAttribute("selected","selected"):B.setAttribute("value",W),L.appendChild(B)})}n.BaseTooltip=D,n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},s.prototype.contains=function(l){for(var c,u=this.iterator();c=u();)if(c===l)return!0;return!1},s.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},s.prototype.offset=function(l){for(var c=0,u=this.head;u!=null;){if(u===l)return c;c+=u.length(),u=u.next}return-1},s.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},s.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},s.prototype.find=function(l,c){c===void 0&&(c=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(l<d||c&&l===d&&(u.next==null||u.next.length()!==0))return[u,l];l-=d}return[null,0]},s.prototype.forEach=function(l){for(var c,u=this.iterator();c=u();)l(c)},s.prototype.forEachAt=function(l,c,u){if(!(c<=0))for(var h=this.find(l),d=h[0],f=h[1],p,g=l-f,m=this.iterator(d);(p=m())&&g<l+c;){var v=p.length();l>g?u(p,l-g,Math.min(c,g+v-l)):u(p,0,Math.min(v,l+c-g)),g+=v}},s.prototype.map=function(l){return this.reduce(function(c,u){return c.push(l(u)),c},[])},s.prototype.reduce=function(l,c){for(var u,h=this.iterator();u=h();)c=l(c,u);return c},s}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var g in p)p.hasOwnProperty(g)&&(f[g]=p[g])};return function(f,p){d(f,p);function g(){this.constructor=f}f.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){a(f,d);function f(p){var g=d.call(this,p)||this;return g.scroll=g,g.observer=new MutationObserver(function(m){g.update(m)}),g.observer.observe(g.domNode,c),g.attach(),g}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,g){this.update(),p===0&&g===this.length()?this.children.forEach(function(m){m.remove()}):d.prototype.deleteAt.call(this,p,g)},f.prototype.formatAt=function(p,g,m,v){this.update(),d.prototype.formatAt.call(this,p,g,m,v)},f.prototype.insertAt=function(p,g,m){this.update(),d.prototype.insertAt.call(this,p,g,m)},f.prototype.optimize=function(p,g){var m=this;p===void 0&&(p=[]),g===void 0&&(g={}),d.prototype.optimize.call(this,g);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)p.push(v.pop());for(var b=function(x,S){S===void 0&&(S=!0),!(x==null||x===m)&&x.domNode.parentNode!=null&&(x.domNode[l.DATA_KEY].mutations==null&&(x.domNode[l.DATA_KEY].mutations=[]),S&&b(x.parent))},y=function(x){x.domNode[l.DATA_KEY]==null||x.domNode[l.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(y),x.optimize(g))},j=p,w=0;j.length>0;w+=1){if(w>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(j.forEach(function(x){var S=l.find(x.target,!0);S!=null&&(S.domNode===x.target&&(x.type==="childList"?(b(l.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(N){var _=l.find(N,!1);b(_,!1),_ instanceof s.default&&_.children.forEach(function(C){b(C,!1)})})):x.type==="attributes"&&b(S.prev)),b(S))}),this.children.forEach(y),j=[].slice.call(this.observer.takeRecords()),v=j.slice();v.length>0;)p.push(v.pop())}},f.prototype.update=function(p,g){var m=this;g===void 0&&(g={}),p=p||this.observer.takeRecords(),p.map(function(v){var b=l.find(v.target,!0);return b==null?null:b.domNode[l.DATA_KEY].mutations==null?(b.domNode[l.DATA_KEY].mutations=[v],b):(b.domNode[l.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===m||v.domNode[l.DATA_KEY]==null||v.update(v.domNode[l.DATA_KEY].mutations||[],g)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,g),this.optimize(p,g)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);n.default=h},function(r,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])};return function(d,f){h(d,f);function p(){this.constructor=d}d.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),l=i(1);function c(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var f in h)if(h[f]!==d[f])return!1;return!0}var u=function(h){a(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return h.formats.call(this,f)},d.prototype.format=function(f,p){var g=this;f===this.statics.blotName&&!p?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(d.blotName,!0)),g.attributes.copy(m)}),this.unwrap()):h.prototype.format.call(this,f,p)},d.prototype.formatAt=function(f,p,g,m){if(this.formats()[g]!=null||l.query(g,l.Scope.ATTRIBUTE)){var v=this.isolate(f,p);v.format(g,m)}else h.prototype.formatAt.call(this,f,p,g,m)},d.prototype.optimize=function(f){h.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var g=this.next;g instanceof d&&g.prev===this&&c(p,g.formats())&&(g.moveChildren(this),g.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),l=i(1),c=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var f=l.query(h.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},h.prototype.format=function(d,f){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(h.blotName):u.prototype.format.call(this,d,f))},h.prototype.formatAt=function(d,f,p,g){l.query(p,l.Scope.BLOCK)!=null?this.format(p,g):u.prototype.formatAt.call(this,d,f,p,g)},h.prototype.insertAt=function(d,f,p){if(p==null||l.query(f,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,p);else{var g=this.split(d),m=l.create(f,p);g.parent.insertBefore(m,g)}},h.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},h.blotName="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){c(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),l=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){c.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,f,p){h===0&&d===this.length()?this.format(f,p):c.prototype.formatAt.call(this,h,d,f,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){u(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),l=i(1),c=function(u){a(h,u);function h(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},h.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},h.prototype.index=function(d,f){return this.domNode===d?f:-1},h.prototype.insertAt=function(d,f,p){p==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,p)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,f){return[this.domNode,d]},h.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var p=l.create(this.domNode.splitText(d));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},h.prototype.update=function(d,f){var p=this;d.some(function(g){return g.type==="characterData"&&g.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=l.Scope.INLINE_BLOT,h}(s.default);n.default=c},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:s.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=l.length;var h=u.indexOf(l,c);return h!==-1&&h===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],f,p=0;p<h;p++)if(f=u[p],c.call(d,f,p,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,s=0;function l(w,x,S){if(w==x)return w?[[s,w]]:[];(S<0||w.length<S)&&(S=null);var N=d(w,x),_=w.substring(0,N);w=w.substring(N),x=x.substring(N),N=f(w,x);var C=w.substring(w.length-N);w=w.substring(0,w.length-N),x=x.substring(0,x.length-N);var E=c(w,x);return _&&E.unshift([s,_]),C&&E.push([s,C]),g(E),S!=null&&(E=b(E,S)),E=y(E),E}function c(w,x){var S;if(!w)return[[a,x]];if(!x)return[[i,w]];var N=w.length>x.length?w:x,_=w.length>x.length?x:w,C=N.indexOf(_);if(C!=-1)return S=[[a,N.substring(0,C)],[s,_],[a,N.substring(C+_.length)]],w.length>x.length&&(S[0][0]=S[2][0]=i),S;if(_.length==1)return[[i,w],[a,x]];var E=p(w,x);if(E){var O=E[0],A=E[1],k=E[2],$=E[3],I=E[4],T=l(O,k),R=l(A,$);return T.concat([[s,I]],R)}return u(w,x)}function u(w,x){for(var S=w.length,N=x.length,_=Math.ceil((S+N)/2),C=_,E=2*_,O=new Array(E),A=new Array(E),k=0;k<E;k++)O[k]=-1,A[k]=-1;O[C+1]=0,A[C+1]=0;for(var $=S-N,I=$%2!=0,T=0,R=0,U=0,D=0,F=0;F<_;F++){for(var M=-F+T;M<=F-R;M+=2){var L=C+M,z;M==-F||M!=F&&O[L-1]<O[L+1]?z=O[L+1]:z=O[L-1]+1;for(var K=z-M;z<S&&K<N&&w.charAt(z)==x.charAt(K);)z++,K++;if(O[L]=z,z>S)R+=2;else if(K>N)T+=2;else if(I){var W=C+$-M;if(W>=0&&W<E&&A[W]!=-1){var B=S-A[W];if(z>=B)return h(w,x,z,K)}}}for(var H=-F+U;H<=F-D;H+=2){var W=C+H,B;H==-F||H!=F&&A[W-1]<A[W+1]?B=A[W+1]:B=A[W-1]+1;for(var q=B-H;B<S&&q<N&&w.charAt(S-B-1)==x.charAt(N-q-1);)B++,q++;if(A[W]=B,B>S)D+=2;else if(q>N)U+=2;else if(!I){var L=C+$-H;if(L>=0&&L<E&&O[L]!=-1){var z=O[L],K=C+z-L;if(B=S-B,z>=B)return h(w,x,z,K)}}}}return[[i,w],[a,x]]}function h(w,x,S,N){var _=w.substring(0,S),C=x.substring(0,N),E=w.substring(S),O=x.substring(N),A=l(_,C),k=l(E,O);return A.concat(k)}function d(w,x){if(!w||!x||w.charAt(0)!=x.charAt(0))return 0;for(var S=0,N=Math.min(w.length,x.length),_=N,C=0;S<_;)w.substring(C,_)==x.substring(C,_)?(S=_,C=S):N=_,_=Math.floor((N-S)/2+S);return _}function f(w,x){if(!w||!x||w.charAt(w.length-1)!=x.charAt(x.length-1))return 0;for(var S=0,N=Math.min(w.length,x.length),_=N,C=0;S<_;)w.substring(w.length-_,w.length-C)==x.substring(x.length-_,x.length-C)?(S=_,C=S):N=_,_=Math.floor((N-S)/2+S);return _}function p(w,x){var S=w.length>x.length?w:x,N=w.length>x.length?x:w;if(S.length<4||N.length*2<S.length)return null;function _(R,U,D){for(var F=R.substring(D,D+Math.floor(R.length/4)),M=-1,L="",z,K,W,B;(M=U.indexOf(F,M+1))!=-1;){var H=d(R.substring(D),U.substring(M)),q=f(R.substring(0,D),U.substring(0,M));L.length<q+H&&(L=U.substring(M-q,M)+U.substring(M,M+H),z=R.substring(0,D-q),K=R.substring(D+H),W=U.substring(0,M-q),B=U.substring(M+H))}return L.length*2>=R.length?[z,K,W,B,L]:null}var C=_(S,N,Math.ceil(S.length/4)),E=_(S,N,Math.ceil(S.length/2)),O;if(!C&&!E)return null;E?C?O=C[4].length>E[4].length?C:E:O=E:O=C;var A,k,$,I;w.length>x.length?(A=O[0],k=O[1],$=O[2],I=O[3]):($=O[0],I=O[1],A=O[2],k=O[3]);var T=O[4];return[A,k,$,I,T]}function g(w){w.push([s,""]);for(var x=0,S=0,N=0,_="",C="",E;x<w.length;)switch(w[x][0]){case a:N++,C+=w[x][1],x++;break;case i:S++,_+=w[x][1],x++;break;case s:S+N>1?(S!==0&&N!==0&&(E=d(C,_),E!==0&&(x-S-N>0&&w[x-S-N-1][0]==s?w[x-S-N-1][1]+=C.substring(0,E):(w.splice(0,0,[s,C.substring(0,E)]),x++),C=C.substring(E),_=_.substring(E)),E=f(C,_),E!==0&&(w[x][1]=C.substring(C.length-E)+w[x][1],C=C.substring(0,C.length-E),_=_.substring(0,_.length-E))),S===0?w.splice(x-N,S+N,[a,C]):N===0?w.splice(x-S,S+N,[i,_]):w.splice(x-S-N,S+N,[i,_],[a,C]),x=x-S-N+(S?1:0)+(N?1:0)+1):x!==0&&w[x-1][0]==s?(w[x-1][1]+=w[x][1],w.splice(x,1)):x++,N=0,S=0,_="",C="";break}w[w.length-1][1]===""&&w.pop();var O=!1;for(x=1;x<w.length-1;)w[x-1][0]==s&&w[x+1][0]==s&&(w[x][1].substring(w[x][1].length-w[x-1][1].length)==w[x-1][1]?(w[x][1]=w[x-1][1]+w[x][1].substring(0,w[x][1].length-w[x-1][1].length),w[x+1][1]=w[x-1][1]+w[x+1][1],w.splice(x-1,1),O=!0):w[x][1].substring(0,w[x+1][1].length)==w[x+1][1]&&(w[x-1][1]+=w[x+1][1],w[x][1]=w[x][1].substring(w[x+1][1].length)+w[x+1][1],w.splice(x+1,1),O=!0)),x++;O&&g(w)}var m=l;m.INSERT=a,m.DELETE=i,m.EQUAL=s,r.exports=m;function v(w,x){if(x===0)return[s,w];for(var S=0,N=0;N<w.length;N++){var _=w[N];if(_[0]===i||_[0]===s){var C=S+_[1].length;if(x===C)return[N+1,w];if(x<C){w=w.slice();var E=x-S,O=[_[0],_[1].slice(0,E)],A=[_[0],_[1].slice(E)];return w.splice(N,1,O,A),[N+1,w]}else S=C}}throw new Error("cursor_pos is out of bounds!")}function b(w,x){var S=v(w,x),N=S[1],_=S[0],C=N[_],E=N[_+1];if(C==null)return w;if(C[0]!==s)return w;if(E!=null&&C[1]+E[1]===E[1]+C[1])return N.splice(_,2,E,C),j(N,_,2);if(E!=null&&E[1].indexOf(C[1])===0){N.splice(_,2,[E[0],C[1]],[0,C[1]]);var O=E[1].slice(C[1].length);return O.length>0&&N.splice(_+2,0,[E[0],O]),j(N,_,3)}else return w}function y(w){for(var x=!1,S=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},N=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},_=2;_<w.length;_+=1)w[_-2][0]===s&&N(w[_-2][1])&&w[_-1][0]===i&&S(w[_-1][1])&&w[_][0]===a&&S(w[_][1])&&(x=!0,w[_-1][1]=w[_-2][1].slice(-1)+w[_-1][1],w[_][1]=w[_-2][1].slice(-1)+w[_][1],w[_-2][1]=w[_-2][1].slice(0,-1));if(!x)return w;for(var C=[],_=0;_<w.length;_+=1)w[_][1].length>0&&C.push(w[_]);return C}function j(w,x,S){for(var N=x+S-1;N>=0&&N>=x-1;N--)if(N+1<w.length){var _=w[N],C=w[N+1];_[0]===C[1]&&w.splice(N,2,[_[0],_[1]+C[1]])}return w}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var s=[];for(var l in a)s.push(l);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:s,n.supported=a;function a(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=s;function s(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function l(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],d,f;if(this._eventsCount===0)return h;for(f in d=this._events)i.call(d,f)&&h.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},c.prototype.listeners=function(h,d){var f=a?a+h:h,p=this._events[f];if(d)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var g=0,m=p.length,v=new Array(m);g<m;g++)v[g]=p[g].fn;return v},c.prototype.emit=function(h,d,f,p,g,m){var v=a?a+h:h;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,j,w;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,g),!0;case 6:return b.fn.call(b.context,d,f,p,g,m),!0}for(w=1,j=new Array(y-1);w<y;w++)j[w-1]=arguments[w];b.fn.apply(b.context,j)}else{var x=b.length,S;for(w=0;w<x;w++)switch(b[w].once&&this.removeListener(h,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,p);break;default:if(!j)for(S=1,j=new Array(y-1);S<y;S++)j[S-1]=arguments[S];b[w].fn.apply(b[w].context,j)}}return!0},c.prototype.on=function(h,d,f){var p=new l(d,f||this),g=a?a+h:h;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},c.prototype.once=function(h,d,f){var p=new l(d,f||this,!0),g=a?a+h:h;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},c.prototype.removeListener=function(h,d,f,p){var g=a?a+h:h;if(!this._events[g])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var m=this._events[g];if(m.fn)m.fn===d&&(!p||m.once)&&(!f||m.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var v=0,b=[],y=m.length;v<y;v++)(m[v].fn!==d||p&&!m[v].once||f&&m[v].context!==f)&&b.push(m[v]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},c.prototype.removeAllListeners=function(h){var d;return h?(d=a?a+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},s=function(){function Q(ee,se){var ce=[],te=!0,ve=!1,je=void 0;try{for(var we=ee[Symbol.iterator](),rt;!(te=(rt=we.next()).done)&&(ce.push(rt.value),!(se&&ce.length===se));te=!0);}catch(Ot){ve=!0,je=Ot}finally{try{!te&&we.return&&we.return()}finally{if(ve)throw je}}return ce}return function(ee,se){if(Array.isArray(ee))return ee;if(Symbol.iterator in Object(ee))return Q(ee,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function Q(ee,se){for(var ce=0;ce<se.length;ce++){var te=se[ce];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ee,te.key,te)}}return function(ee,se,ce){return se&&Q(ee.prototype,se),ce&&Q(ee,ce),ee}}(),c=i(3),u=A(c),h=i(2),d=A(h),f=i(0),p=A(f),g=i(5),m=A(g),v=i(10),b=A(v),y=i(9),j=A(y),w=i(36),x=i(37),S=i(13),N=A(S),_=i(26),C=i(38),E=i(39),O=i(40);function A(Q){return Q&&Q.__esModule?Q:{default:Q}}function k(Q,ee,se){return ee in Q?Object.defineProperty(Q,ee,{value:se,enumerable:!0,configurable:!0,writable:!0}):Q[ee]=se,Q}function $(Q,ee){if(!(Q instanceof ee))throw new TypeError("Cannot call a class as a function")}function I(Q,ee){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee&&(typeof ee=="object"||typeof ee=="function")?ee:Q}function T(Q,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);Q.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,ee):Q.__proto__=ee)}var R=(0,b.default)("quill:clipboard"),U="__ql-matcher",D=[[Node.TEXT_NODE,he],[Node.TEXT_NODE,ie],["br",J],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,ge],["li",ne],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",X]],F=[w.AlignAttribute,C.DirectionAttribute].reduce(function(Q,ee){return Q[ee.keyName]=ee,Q},{}),M=[w.AlignStyle,x.BackgroundStyle,_.ColorStyle,C.DirectionStyle,E.FontStyle,O.SizeStyle].reduce(function(Q,ee){return Q[ee.keyName]=ee,Q},{}),L=function(Q){T(ee,Q);function ee(se,ce){$(this,ee);var te=I(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,se,ce));return te.quill.root.addEventListener("paste",te.onPaste.bind(te)),te.container=te.quill.addContainer("ql-clipboard"),te.container.setAttribute("contenteditable",!0),te.container.setAttribute("tabindex",-1),te.matchers=[],D.concat(te.options.matchers).forEach(function(ve){var je=s(ve,2),we=je[0],rt=je[1];!ce.matchVisual&&rt===ae||te.addMatcher(we,rt)}),te}return l(ee,[{key:"addMatcher",value:function(ce,te){this.matchers.push([ce,te])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var te=this.quill.getFormat(this.quill.selection.savedRange.index);if(te[N.default.blotName]){var ve=this.container.innerText;return this.container.innerHTML="",new d.default().insert(ve,k({},N.default.blotName,te[N.default.blotName]))}var je=this.prepareMatching(),we=s(je,2),rt=we[0],Ot=we[1],Be=H(this.container,rt,Ot);return W(Be,`
`)&&Be.ops[Be.ops.length-1].attributes==null&&(Be=Be.compose(new d.default().retain(Be.length()-1).delete(1))),R.log("convert",this.container.innerHTML,Be),this.container.innerHTML="",Be}},{key:"dangerouslyPasteHTML",value:function(ce,te){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),te),this.quill.setSelection(0,m.default.sources.SILENT);else{var je=this.convert(te);this.quill.updateContents(new d.default().retain(ce).concat(je),ve),this.quill.setSelection(ce+je.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var te=this;if(!(ce.defaultPrevented||!this.quill.isEnabled())){var ve=this.quill.getSelection(),je=new d.default().retain(ve.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){je=je.concat(te.convert()).delete(ve.length),te.quill.updateContents(je,m.default.sources.USER),te.quill.setSelection(je.length()-ve.length,m.default.sources.SILENT),te.quill.scrollingContainer.scrollTop=we,te.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,te=[],ve=[];return this.matchers.forEach(function(je){var we=s(je,2),rt=we[0],Ot=we[1];switch(rt){case Node.TEXT_NODE:ve.push(Ot);break;case Node.ELEMENT_NODE:te.push(Ot);break;default:[].forEach.call(ce.container.querySelectorAll(rt),function(Be){Be[U]=Be[U]||[],Be[U].push(Ot)});break}}),[te,ve]}}]),ee}(j.default);L.DEFAULTS={matchers:[],matchVisual:!0};function z(Q,ee,se){return(typeof ee>"u"?"undefined":a(ee))==="object"?Object.keys(ee).reduce(function(ce,te){return z(ce,te,ee[te])},Q):Q.reduce(function(ce,te){return te.attributes&&te.attributes[ee]?ce.push(te):ce.insert(te.insert,(0,u.default)({},k({},ee,se),te.attributes))},new d.default)}function K(Q){if(Q.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return Q[ee]||(Q[ee]=window.getComputedStyle(Q))}function W(Q,ee){for(var se="",ce=Q.ops.length-1;ce>=0&&se.length<ee.length;--ce){var te=Q.ops[ce];if(typeof te.insert!="string")break;se=te.insert+se}return se.slice(-1*ee.length)===ee}function B(Q){if(Q.childNodes.length===0)return!1;var ee=K(Q);return["block","list-item"].indexOf(ee.display)>-1}function H(Q,ee,se){return Q.nodeType===Q.TEXT_NODE?se.reduce(function(ce,te){return te(Q,ce)},new d.default):Q.nodeType===Q.ELEMENT_NODE?[].reduce.call(Q.childNodes||[],function(ce,te){var ve=H(te,ee,se);return te.nodeType===Q.ELEMENT_NODE&&(ve=ee.reduce(function(je,we){return we(te,je)},ve),ve=(te[U]||[]).reduce(function(je,we){return we(te,je)},ve)),ce.concat(ve)},new d.default):new d.default}function q(Q,ee,se){return z(se,Q,!0)}function V(Q,ee){var se=p.default.Attributor.Attribute.keys(Q),ce=p.default.Attributor.Class.keys(Q),te=p.default.Attributor.Style.keys(Q),ve={};return se.concat(ce).concat(te).forEach(function(je){var we=p.default.query(je,p.default.Scope.ATTRIBUTE);we!=null&&(ve[we.attrName]=we.value(Q),ve[we.attrName])||(we=F[je],we!=null&&(we.attrName===je||we.keyName===je)&&(ve[we.attrName]=we.value(Q)||void 0),we=M[je],we!=null&&(we.attrName===je||we.keyName===je)&&(we=M[je],ve[we.attrName]=we.value(Q)||void 0))}),Object.keys(ve).length>0&&(ee=z(ee,ve)),ee}function Y(Q,ee){var se=p.default.query(Q);if(se==null)return ee;if(se.prototype instanceof p.default.Embed){var ce={},te=se.value(Q);te!=null&&(ce[se.blotName]=te,ee=new d.default().insert(ce,se.formats(Q)))}else typeof se.formats=="function"&&(ee=z(ee,se.blotName,se.formats(Q)));return ee}function J(Q,ee){return W(ee,`
`)||ee.insert(`
`),ee}function X(){return new d.default}function ne(Q,ee){var se=p.default.query(Q);if(se==null||se.blotName!=="list-item"||!W(ee,`
`))return ee;for(var ce=-1,te=Q.parentNode;!te.classList.contains("ql-clipboard");)(p.default.query(te)||{}).blotName==="list"&&(ce+=1),te=te.parentNode;return ce<=0?ee:ee.compose(new d.default().retain(ee.length()-1).retain(1,{indent:ce}))}function ie(Q,ee){return W(ee,`
`)||(B(Q)||ee.length()>0&&Q.nextSibling&&B(Q.nextSibling))&&ee.insert(`
`),ee}function ae(Q,ee){if(B(Q)&&Q.nextElementSibling!=null&&!W(ee,`

`)){var se=Q.offsetHeight+parseFloat(K(Q).marginTop)+parseFloat(K(Q).marginBottom);Q.nextElementSibling.offsetTop>Q.offsetTop+se*1.5&&ee.insert(`
`)}return ee}function ge(Q,ee){var se={},ce=Q.style||{};return ce.fontStyle&&K(Q).fontStyle==="italic"&&(se.italic=!0),ce.fontWeight&&(K(Q).fontWeight.startsWith("bold")||parseInt(K(Q).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(ee=z(ee,se)),parseFloat(ce.textIndent||0)>0&&(ee=new d.default().insert("	").concat(ee)),ee}function he(Q,ee){var se=Q.data;if(Q.parentNode.tagName==="O:P")return ee.insert(se.trim());if(se.trim().length===0&&Q.parentNode.classList.contains("ql-clipboard"))return ee;if(!K(Q.parentNode).whiteSpace.startsWith("pre")){var ce=function(ve,je){return je=je.replace(/[^\u00a0]/g,""),je.length<1&&ve?" ":je};se=se.replace(/\r\n/g," ").replace(/\n/g," "),se=se.replace(/\s\s+/g,ce.bind(ce,!0)),(Q.previousSibling==null&&B(Q.parentNode)||Q.previousSibling!=null&&B(Q.previousSibling))&&(se=se.replace(/^\s+/,ce.bind(ce,!1))),(Q.nextSibling==null&&B(Q.parentNode)||Q.nextSibling!=null&&B(Q.nextSibling))&&(se=se.replace(/\s+$/,ce.bind(ce,!1)))}return ee.insert(se)}n.default=L,n.matchAttributor=V,n.matchBlot=Y,n.matchNewline=ie,n.matchSpacing=ae,n.matchText=he},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&g(m.prototype,v),b&&g(m,b),m}}(),s=function g(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:g(j,v,b)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(b)}},l=i(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"optimize",value:function(b){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function O(A,k){var $=[],I=!0,T=!1,R=void 0;try{for(var U=A[Symbol.iterator](),D;!(I=(D=U.next()).done)&&($.push(D.value),!(k&&$.length===k));I=!0);}catch(F){T=!0,R=F}finally{try{!I&&U.return&&U.return()}finally{if(T)throw R}}return $}return function(A,k){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return O(A,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(A,k){for(var $=0;$<k.length;$++){var I=k[$];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,k,$){return k&&O(A.prototype,k),$&&O(A,$),A}}(),l=i(2),c=b(l),u=i(0),h=b(u),d=i(5),f=b(d),p=i(10),g=b(p),m=i(9),v=b(m);function b(O){return O&&O.__esModule?O:{default:O}}function y(O,A,k){return A in O?Object.defineProperty(O,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[A]=k,O}function j(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function w(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function x(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var S=(0,g.default)("quill:toolbar"),N=function(O){x(A,O);function A(k,$){j(this,A);var I=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,k,$));if(Array.isArray(I.options.container)){var T=document.createElement("div");C(T,I.options.container),k.container.parentNode.insertBefore(T,k.container),I.container=T}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var R;return R=S.error("Container required for toolbar",I.options),w(I,R)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(U){I.addHandler(U,I.options.handlers[U])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(U){I.attach(U)}),I.quill.on(f.default.events.EDITOR_CHANGE,function(U,D){U===f.default.events.SELECTION_CHANGE&&I.update(D)}),I.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var U=I.quill.selection.getRange(),D=a(U,1),F=D[0];I.update(F)}),I}return s(A,[{key:"addHandler",value:function($,I){this.handlers[$]=I}},{key:"attach",value:function($){var I=this,T=[].find.call($.classList,function(U){return U.indexOf("ql-")===0});if(T){if(T=T.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[T]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[T]==null){S.warn("ignoring attaching to disabled format",T,$);return}if(h.default.query(T)==null){S.warn("ignoring attaching to nonexistent format",T,$);return}}var R=$.tagName==="SELECT"?"change":"click";$.addEventListener(R,function(U){var D=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var F=$.options[$.selectedIndex];F.hasAttribute("selected")?D=!1:D=F.value||!1}else $.classList.contains("ql-active")?D=!1:D=$.value||!$.hasAttribute("value"),U.preventDefault();I.quill.focus();var M=I.quill.selection.getRange(),L=a(M,1),z=L[0];if(I.handlers[T]!=null)I.handlers[T].call(I,D);else if(h.default.query(T).prototype instanceof h.default.Embed){if(D=prompt("Enter "+T),!D)return;I.quill.updateContents(new c.default().retain(z.index).delete(z.length).insert(y({},T,D)),f.default.sources.USER)}else I.quill.format(T,D,f.default.sources.USER);I.update(z)}),this.controls.push([T,$])}}},{key:"update",value:function($){var I=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(T){var R=a(T,2),U=R[0],D=R[1];if(D.tagName==="SELECT"){var F=void 0;if($==null)F=null;else if(I[U]==null)F=D.querySelector("option[selected]");else if(!Array.isArray(I[U])){var M=I[U];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),F=D.querySelector('option[value="'+M+'"]')}F==null?(D.value="",D.selectedIndex=-1):F.selected=!0}else if($==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var L=I[U]===D.getAttribute("value")||I[U]!=null&&I[U].toString()===D.getAttribute("value")||I[U]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",L)}else D.classList.toggle("ql-active",I[U]!=null)})}}]),A}(v.default);N.DEFAULTS={};function _(O,A,k){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+A),k!=null&&($.value=k),O.appendChild($)}function C(O,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(k){var $=document.createElement("span");$.classList.add("ql-formats"),k.forEach(function(I){if(typeof I=="string")_($,I);else{var T=Object.keys(I)[0],R=I[T];Array.isArray(R)?E($,T,R):_($,T,R)}}),O.appendChild($)})}function E(O,A,k){var $=document.createElement("select");$.classList.add("ql-"+A),k.forEach(function(I){var T=document.createElement("option");I!==!1?T.setAttribute("value",I):T.setAttribute("selected","selected"),$.appendChild(T)}),O.appendChild($)}N.DEFAULTS={container:null,handlers:{clean:function(){var A=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(I){h.default.query(I,h.default.Scope.INLINE)!=null&&A.quill.format(I,!1)})}else this.quill.removeFormat(k,f.default.sources.USER)},direction:function(A){var k=this.quill.getFormat().align;A==="rtl"&&k==null?this.quill.format("align","right",f.default.sources.USER):!A&&k==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",A,f.default.sources.USER)},indent:function(A){var k=this.quill.getSelection(),$=this.quill.getFormat(k),I=parseInt($.indent||0);if(A==="+1"||A==="-1"){var T=A==="+1"?1:-1;$.direction==="rtl"&&(T*=-1),this.quill.format("indent",I+T,f.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,f.default.sources.USER)},list:function(A){var k=this.quill.getSelection(),$=this.quill.getFormat(k);A==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",A,f.default.sources.USER)}}},n.default=N,n.addControls=C},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&g(m.prototype,v),b&&g(m,b),m}}(),s=function g(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:g(j,v,b)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(b)}},l=i(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(v,b){h(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return y.label.innerHTML=b,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(j){j.classList.add("ql-primary")}),y}return a(m,[{key:"buildItem",value:function(b){var y=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,b);return y.style.backgroundColor=b.getAttribute("value")||"",y}},{key:"selectItem",value:function(b,y){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,b,y);var j=this.label.querySelector(".ql-color-label"),w=b&&b.getAttribute("data-value")||"";j&&(j.tagName==="line"?j.style.stroke=w:j.style.fill=w)}}]),m}(c.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&g(m.prototype,v),b&&g(m,b),m}}(),s=function g(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:g(j,v,b)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(b)}},l=i(28),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(v,b){h(this,m);var y=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(j){j.innerHTML=b[j.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(m,[{key:"selectItem",value:function(b,y){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,b,y),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),m}(c.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(u,h){for(var d=0;d<h.length;d++){var f=h[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,h,d){return h&&c(u.prototype,h),d&&c(u,d),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(u,h){var d=this;s(this,c),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,f=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),m=0;if(g.right>p.right&&(m=p.right-g.right,this.root.style.left=d+m+"px"),g.left<p.left&&(m=p.left-g.left,this.root.style.left=d+m+"px"),g.bottom>p.bottom){var v=g.bottom-g.top,b=h.bottom-h.top+v;this.root.style.top=f-b+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(O,A){var k=[],$=!0,I=!1,T=void 0;try{for(var R=O[Symbol.iterator](),U;!($=(U=R.next()).done)&&(k.push(U.value),!(A&&k.length===A));$=!0);}catch(D){I=!0,T=D}finally{try{!$&&R.return&&R.return()}finally{if(I)throw T}}return k}return function(O,A){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function E(O,A,k){O===null&&(O=Function.prototype);var $=Object.getOwnPropertyDescriptor(O,A);if($===void 0){var I=Object.getPrototypeOf(O);return I===null?void 0:E(I,A,k)}else{if("value"in $)return $.value;var T=$.get;return T===void 0?void 0:T.call(k)}},l=function(){function E(O,A){for(var k=0;k<A.length;k++){var $=A[k];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(O,$.key,$)}}return function(O,A,k){return A&&E(O.prototype,A),k&&E(O,k),O}}(),c=i(3),u=j(c),h=i(8),d=j(h),f=i(43),p=j(f),g=i(27),m=j(g),v=i(15),b=i(41),y=j(b);function j(E){return E&&E.__esModule?E:{default:E}}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function x(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function S(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var N=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(E){S(O,E);function O(A,k){w(this,O),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=N);var $=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,k));return $.quill.container.classList.add("ql-snow"),$}return l(O,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),y.default),this.tooltip=new C(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,I){k.handlers.link.call(k,!I.format.link)})}}]),O}(p.default);_.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var A=this.quill.getSelection();if(A==null||A.length==0)return;var k=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var $=this.quill.theme.tooltip;$.edit("link",k)}else this.quill.format("link",!1)}}}}});var C=function(E){S(O,E);function O(A,k){w(this,O);var $=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,k));return $.preview=$.root.querySelector("a.ql-preview"),$}return l(O,[{key:"listen",value:function(){var k=this;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(k.linkRange!=null){var I=k.linkRange;k.restoreFocus(),k.quill.formatText(I,"link",!1,d.default.sources.USER),delete k.linkRange}$.preventDefault(),k.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function($,I,T){if($!=null){if($.length===0&&T===d.default.sources.USER){var R=k.quill.scroll.descendant(m.default,$.index),U=a(R,2),D=U[0],F=U[1];if(D!=null){k.linkRange=new v.Range($.index-F,D.length());var M=m.default.formats(D.domNode);k.preview.textContent=M,k.preview.setAttribute("href",M),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(f.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),s=te(a),l=i(36),c=i(38),u=i(64),h=i(65),d=te(h),f=i(66),p=te(f),g=i(67),m=te(g),v=i(37),b=i(26),y=i(39),j=i(40),w=i(56),x=te(w),S=i(68),N=te(S),_=i(27),C=te(_),E=i(69),O=te(E),A=i(70),k=te(A),$=i(71),I=te($),T=i(72),R=te(T),U=i(73),D=te(U),F=i(13),M=te(F),L=i(74),z=te(L),K=i(75),W=te(K),B=i(57),H=te(B),q=i(41),V=te(q),Y=i(28),J=te(Y),X=i(59),ne=te(X),ie=i(60),ae=te(ie),ge=i(61),he=te(ge),Q=i(108),ee=te(Q),se=i(62),ce=te(se);function te(ve){return ve&&ve.__esModule?ve:{default:ve}}s.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":j.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":j.SizeStyle},!0),s.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":y.FontClass,"formats/size":j.SizeClass,"formats/blockquote":d.default,"formats/code-block":M.default,"formats/header":p.default,"formats/list":m.default,"formats/bold":x.default,"formats/code":F.Code,"formats/italic":N.default,"formats/link":C.default,"formats/script":O.default,"formats/strike":k.default,"formats/underline":I.default,"formats/image":R.default,"formats/video":D.default,"formats/list/item":g.ListItem,"modules/formula":z.default,"modules/syntax":W.default,"modules/toolbar":H.default,"themes/bubble":ee.default,"themes/snow":ce.default,"ui/icons":V.default,"ui/picker":J.default,"ui/icon-picker":ae.default,"ui/color-picker":ne.default,"ui/tooltip":he.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function m(v,b){for(var y=0;y<b.length;y++){var j=b[y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(v,j.key,j)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),s=function m(v,b,y){v===null&&(v=Function.prototype);var j=Object.getOwnPropertyDescriptor(v,b);if(j===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,b,y)}else{if("value"in j)return j.value;var x=j.get;return x===void 0?void 0:x.call(y)}},l=i(0),c=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function f(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){f(v,m);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"add",value:function(y,j){if(j==="+1"||j==="-1"){var w=this.value(y)||0;j=j==="+1"?w+1:w-1}return j===0?(this.remove(y),!0):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,y,j)}},{key:"canAdd",value:function(y,j){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,y,j)||s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,y,parseInt(j))}},{key:"value",value:function(y){return parseInt(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y))||void 0}}]),v}(c.default.Attributor.Class),g=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="blockquote",d.tagName="blockquote",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(g,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,m,v){return m&&p(g.prototype,m),v&&p(g,v),g}}(),s=i(4),l=c(s);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function d(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var f=function(p){d(g,p);function g(){return u(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),g}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function w(x,S){for(var N=0;N<S.length;N++){var _=S[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,S,N){return S&&w(x.prototype,S),N&&w(x,N),x}}(),s=function w(x,S,N){x===null&&(x=Function.prototype);var _=Object.getOwnPropertyDescriptor(x,S);if(_===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:w(C,S,N)}else{if("value"in _)return _.value;var E=_.get;return E===void 0?void 0:E.call(N)}},l=i(0),c=p(l),u=i(4),h=p(u),d=i(25),f=p(d);function p(w){return w&&w.__esModule?w:{default:w}}function g(w,x,S){return x in w?Object.defineProperty(w,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[x]=S,w}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function v(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function b(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var y=function(w){b(x,w);function x(){return m(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(N,_){N===j.blotName&&!_?this.replaceWith(c.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,N,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(N,_){return this.parent.isolate(this.offset(this.parent),this.length()),N===this.parent.statics.blotName?(this.parent.replaceWith(N,_),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,N,_))}}],[{key:"formats",value:function(N){return N.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,N)}}]),x}(h.default);y.blotName="list-item",y.tagName="LI";var j=function(w){b(x,w),a(x,null,[{key:"create",value:function(N){var _=N==="ordered"?"OL":"UL",C=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,_);return(N==="checked"||N==="unchecked")&&C.setAttribute("data-checked",N==="checked"),C}},{key:"formats",value:function(N){if(N.tagName==="OL")return"ordered";if(N.tagName==="UL")return N.hasAttribute("data-checked")?N.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(S){m(this,x);var N=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S)),_=function(E){if(E.target.parentNode===S){var O=N.statics.formats(S),A=c.default.find(E.target);O==="checked"?A.format("list","unchecked"):O==="unchecked"&&A.format("list","checked")}};return S.addEventListener("touchstart",_),S.addEventListener("mousedown",_),N}return a(x,[{key:"format",value:function(N,_){this.children.length>0&&this.children.tail.format(N,_)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(N,_){if(N instanceof y)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,N,_);else{var C=_==null?this.length():_.offset(this),E=this.split(C);E.parent.insertBefore(N,E)}}},{key:"optimize",value:function(N){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,N);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(N){if(N.statics.blotName!==this.statics.blotName){var _=c.default.create(this.statics.defaultChild);N.moveChildren(_),this.appendChild(_)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,N)}}]),x}(f.default);j.blotName="list",j.scope=c.default.Scope.BLOCK_BLOT,j.tagName=["OL","UL"],j.defaultChild="list-item",j.allowedChildren=[y],n.ListItem=y,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="italic",d.tagName=["EM","I"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&g(m.prototype,v),b&&g(m,b),m}}(),s=function g(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:g(j,v,b)}else{if("value"in y)return y.value;var w=y.get;return w===void 0?void 0:w.call(b)}},l=i(6),c=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function d(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p=function(g){f(m,g);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),m}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="strike",d.tagName="S",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=l(a);function l(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function h(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var d=function(f){h(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);d.blotName="underline",d.tagName="U",n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,y){for(var j=0;j<y.length;j++){var w=y[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,j){return y&&v(b.prototype,y),j&&v(b,j),b}}(),s=function v(b,y,j){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,y,j)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(j)}},l=i(0),c=h(l),u=i(27);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g=["alt","height","width"],m=function(v){p(b,v);function b(){return d(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(j,w){g.indexOf(j)>-1?w?this.domNode.setAttribute(j,w):this.domNode.removeAttribute(j):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,w)}}],[{key:"create",value:function(j){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return typeof j=="string"&&w.setAttribute("src",this.sanitize(j)),w}},{key:"formats",value:function(j){return g.reduce(function(w,x){return j.hasAttribute(x)&&(w[x]=j.getAttribute(x)),w},{})}},{key:"match",value:function(j){return/\.(jpe?g|gif|png)$/.test(j)||/^data:image\/.+;base64/.test(j)}},{key:"sanitize",value:function(j){return(0,u.sanitize)(j,["http","https","data"])?j:"//:0"}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b}(c.default.Embed);m.blotName="image",m.tagName="IMG",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,y){for(var j=0;j<y.length;j++){var w=y[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,y,j){return y&&v(b.prototype,y),j&&v(b,j),b}}(),s=function v(b,y,j){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,y);if(w===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:v(x,y,j)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(j)}},l=i(4),c=i(27),u=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g=["height","width"],m=function(v){p(b,v);function b(){return d(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(j,w){g.indexOf(j)>-1?w?this.domNode.setAttribute(j,w):this.domNode.removeAttribute(j):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,j,w)}}],[{key:"create",value:function(j){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,j);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(j)),w}},{key:"formats",value:function(j){return g.reduce(function(w,x){return j.hasAttribute(x)&&(w[x]=j.getAttribute(x)),w},{})}},{key:"sanitize",value:function(j){return u.default.sanitize(j)}},{key:"value",value:function(j){return j.getAttribute("src")}}]),b}(l.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function j(w,x){for(var S=0;S<x.length;S++){var N=x[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,N.key,N)}}return function(w,x,S){return x&&j(w.prototype,x),S&&j(w,S),w}}(),s=function j(w,x,S){w===null&&(w=Function.prototype);var N=Object.getOwnPropertyDescriptor(w,x);if(N===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:j(_,x,S)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(S)}},l=i(35),c=p(l),u=i(5),h=p(u),d=i(9),f=p(d);function p(j){return j&&j.__esModule?j:{default:j}}function g(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function m(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function v(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var b=function(j){v(w,j);function w(){return g(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(S){var N=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,N,{throwOnError:!1,errorColor:"#f00"}),N.setAttribute("data-value",S)),N}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),w}(c.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var y=function(j){v(w,j),a(w,null,[{key:"register",value:function(){h.default.register(b,!0)}}]);function w(){g(this,w);var x=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return w}(f.default);n.FormulaBlot=b,n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function S(N,_){for(var C=0;C<_.length;C++){var E=_[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,_,C){return _&&S(N.prototype,_),C&&S(N,C),N}}(),s=function S(N,_,C){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,_);if(E===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:S(O,_,C)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(C)}},l=i(0),c=m(l),u=i(5),h=m(u),d=i(9),f=m(d),p=i(13),g=m(p);function m(S){return S&&S.__esModule?S:{default:S}}function v(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function b(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function y(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var j=function(S){y(N,S);function N(){return v(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),N}(g.default);j.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),x=function(S){y(N,S),a(N,null,[{key:"register",value:function(){h.default.register(w,!0),h.default.register(j,!0)}}]);function N(_,C){v(this,N);var E=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,_,C));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return E.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){E.highlight(),O=null},E.options.interval)}),E.highlight(),E}return a(N,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(j).forEach(function(O){O.highlight(C.options.highlight)}),this.quill.update(h.default.sources.SILENT),E!=null&&this.quill.setSelection(E,h.default.sources.SILENT)}}}]),N}(f.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var N=window.hljs.highlightAuto(S);return N.value}}(),interval:1e3},n.CodeBlock=j,n.CodeToken=w,n.default=x},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function N(_,C,E){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,C);if(O===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:N(A,C,E)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(E)}},s=function(){function N(_,C){for(var E=0;E<C.length;E++){var O=C[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,C,E){return C&&N(_.prototype,C),E&&N(_,E),_}}(),l=i(3),c=v(l),u=i(8),h=v(u),d=i(43),f=v(d),p=i(15),g=i(41),m=v(g);function v(N){return N&&N.__esModule?N:{default:N}}function b(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function y(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function j(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(N){j(_,N);function _(C,E){b(this,_),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=w);var O=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,E));return O.quill.container.classList.add("ql-bubble"),O}return s(_,[{key:"extendToolbar",value:function(E){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),m.default)}}]),_}(f.default);x.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(N){j(_,N);function _(C,E){b(this,_);var O=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,E));return O.quill.on(h.default.events.EDITOR_CHANGE,function(A,k,$,I){if(A===h.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&I===h.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var T=O.quill.getLines(k.index,k.length);if(T.length===1)O.position(O.quill.getBounds(k));else{var R=T[T.length-1],U=O.quill.getIndex(R),D=Math.min(R.length()-1,k.index+k.length-U),F=O.quill.getBounds(new p.Range(U,D));O.position(F)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return s(_,[{key:"listen",value:function(){var E=this;a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var O=E.quill.getSelection();O!=null&&E.position(E.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var O=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,E),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",O===0)return O;A.style.marginLeft=-1*O-A.offsetWidth/2+"px"}}]),_}(d.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=x},function(r,n,i){r.exports=i(63)}]).default})})(M1);var z1=M1.exports;const On=ze(z1);var uC=ar&&ar.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xl=ar&&ar.__assign||function(){return xl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xl.apply(this,arguments)},dC=ar&&ar.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,i++)n[i]=a[s];return n},Hc=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Cr=Hc(P),fC=Hc(Rx),Ba=Hc(I1),bg=Hc(z1),hC=function(e){uC(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,s,l,c){var u,h,d,f;a==="text-change"?(h=(u=n).onEditorChangeText)===null||h===void 0||h.call(u,n.editor.root.innerHTML,s,c,n.unprivilegedEditor):a==="selection-change"&&((f=(d=n).onEditorChangeSelection)===null||f===void 0||f.call(d,s,c,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(Cr.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Cr.default.Children.count(r.children)){var i=Cr.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),l=(a=r.value,a??"");this.isEqualValue(l,s)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),dC(this.cleanProps,this.dirtyProps).some(function(c){return!Ba.default(r[c],i.props[c])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!Ba.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,a=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),xg(function(){return i.setEditorSelection(u,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new bg.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Ba.default(r.ops,n.ops):Ba.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),xg(function(){return i.setEditorSelection(r,a)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=fC.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,s=this.state.generation,l={key:s,ref:function(c){r.editingArea=c}};return Cr.default.Children.count(i)?Cr.default.cloneElement(Cr.default.Children.only(i),l):a?Cr.default.createElement("pre",xl({},l)):Cr.default.createElement("div",xl({},l))},t.prototype.render=function(){var r;return Cr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,a){var s,l;if(this.editor){var c=this.isDelta(this.value)?a.getContents():a.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(s=this.props).onChange)===null||l===void 0||l.call(s,r,n,i,a))}},t.prototype.onEditorChangeSelection=function(r,n,i){var a,s,l,c,u,h;if(this.editor){var d=this.getEditorSelection(),f=!d&&r,p=d&&!r;Ba.default(r,d)||(this.selection=r,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,r,n,i),f?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,i):p&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=bg.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Cr.default.Component);function xg(e){Promise.resolve().then(e)}var cs=hC;const pC=ze(cs);function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R1(e,t,r){return t&&Sg(e.prototype,t),r&&Sg(e,r),e}function sf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wl(){return wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function mC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}function An(e){return An=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},An(e)}function lf(e,t){return lf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lf(e,t)}function gC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cf(e)}function yC(e){var t=gC();return function(){var n=An(e),i;if(t){var a=An(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vC(this,i)}}function bC(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=An(e),e!==null););return e}function $i(){return typeof Reflect<"u"&&Reflect.get?$i=Reflect.get:$i=function(t,r,n){var i=bC(t,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?t:n):a.value}},$i.apply(this,arguments)}function xC(e,t){if(e){if(typeof e=="string")return Ng(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ng(e,t)}}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wC(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xC(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,l;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){s=!0,l=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}}}}var Jr={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function jC(e,t,r){var n=e;return Object.keys(t).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=t[i]:delete n.dataset[i]}),n}function SC(e,t,r,n){return t.reduce(function(i,a){var s;if(r&&n){var l=new RegExp("^".concat(a,"|\\s").concat(a),"g"),c=(e.match(l)||[]).pop();if(!c)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};s=c!==a?e.lastIndexOf(c)+c.length-a.length:0}else s=e.lastIndexOf(a);return s>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:s}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function NC(e,t){return t.test(e)}function OC(e,t,r,n){if(e===-1)return!1;if(!r)return!0;var i=e?t[e-1]:n;return!i||!!i.match(/\s/)}var _C=On.import("blots/embed"),Wc=function(e){mC(r,e);var t=yC(r);function r(n,i){var a;return L1(this,r),a=t.call(this,n,i),sf(cf(a),"hoverHandler",void 0),sf(cf(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return R1(r,[{key:"attach",value:function(){$i(An(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){$i(An(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var s=i.buildEvent("mention-clicked",a);window.dispatchEvent(s),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var s=i.buildEvent("mention-hovered",a);window.dispatchEvent(s),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var s=new Event(i,{bubbles:!0,cancelable:!0});return s.value=wl({},this.domNode.dataset),s.event=a,s}}],[{key:"create",value:function(i){var a=$i(An(r),"create",this).call(this),s=document.createElement("span");return s.className="ql-mention-denotation-char",s.innerHTML=i.denotationChar,a.appendChild(s),a.innerHTML+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var s=i;return Object.keys(a).forEach(function(l){s.dataset[l]=a[l]}),s}},{key:"value",value:function(i){return i.dataset}}]),r}(_C);Wc.blotName="mention";Wc.tagName="span";Wc.className="mention";On.register(Wc);var EC=function(){function e(t,r){var n=this;L1(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(u){return"".concat(u.value)},renderLoading:function(){return null},onSelect:function(u,h){h(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[Jr.ENTER]},wl(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",function(){setTimeout(function(){var c=t.getSelection();n.onSelectionChange(c)})}),t.keyboard.addBinding({key:Jr.TAB},this.selectHandler.bind(this)),t.keyboard.bindings[Jr.TAB].unshift(t.keyboard.bindings[Jr.TAB].pop());var a=wC(this.options.selectKeys),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(c){a.e(c)}finally{a.f()}t.keyboard.bindings[Jr.ENTER].unshift(t.keyboard.bindings[Jr.ENTER].pop()),t.keyboard.addBinding({key:Jr.ESCAPE},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:Jr.UP},this.upHandler.bind(this)),t.keyboard.addBinding({key:Jr.DOWN},this.downHandler.bind(this))}return R1(e,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");if(!(this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true")&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r)){var i=this.mentionList.childNodes[this.itemIndex].offsetHeight,a=this.mentionList.childNodes[this.itemIndex].offsetTop,s=this.mentionContainer.scrollTop,l=s+this.mentionContainer.offsetHeight;a<s?this.mentionContainer.scrollTop=a:a>l-i&&(this.mentionContainer.scrollTop+=a-l+i)}}},{key:"getItemData",value:function(){var r=this.mentionList.childNodes[this.itemIndex].dataset.link,n=typeof r<"u",i=this.mentionList.childNodes[this.itemIndex].dataset.target;return n&&(this.mentionList.childNodes[this.itemIndex].dataset.value='<a href="'.concat(r,'" target=').concat(i||this.options.linkTarget,">").concat(this.mentionList.childNodes[this.itemIndex].dataset.value)),this.mentionList.childNodes[this.itemIndex].dataset}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.getItemData();n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,s)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var s=jg(jg({},this.options),i);s.showDenotationChar||(a.denotationChar="");var l;n?l=this.cursorPos:(l=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,On.sources.USER));var c=this.quill.insertEmbed(l,s.blotName,a,On.sources.USER);return s.spaceAfterInsert?(this.quill.insertText(l+1," ",On.sources.USER),this.quill.setSelection(l+2,On.sources.USER)):this.quill.setSelection(l+1,On.sources.USER),this.hideMentionList(),c}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",n.innerHTML=this.options.renderLoading(),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerHTML="";for(var a=-1,s=0;s<n.length;s+=1){var l=document.createElement("li");l.id="quill-mention-item-"+s,l.className=this.options.listItemClass?this.options.listItemClass:"",n[s].disabled?(l.className+=" disabled",l.setAttribute("aria-hidden","true")):a===-1&&(a=s),l.dataset.index=s,l.innerHTML=this.options.renderItem(n[s],i),n[s].disabled?l.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(l.onmouseenter=this.onItemMouseEnter.bind(this),l.onmouseup=this.onItemClick.bind(this),l.onmousedown=this.onItemMouseDown.bind(this)),l.dataset.denotationChar=r,this.mentionList.appendChild(jC(l,n[s],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var c=0;this.mentionContainer.style.right="".concat(c,"px")}else l+=i.left;if(this.containerRightIsNotVisible(l,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,h=n.width;l=h-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?s=-1*(a+this.options.offsetTop):s=i.top-(a+this.options.offsetTop),s+n.top<=0){var d=this.options.offsetTop;this.options.fixMentionsToQuill?d+=n.height:d+=i.bottom,s=d}}else if(this.options.fixMentionsToQuill?s+=n.height:s+=i.bottom,this.containerBottomIsNotVisible(s,n)){var f=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(f+=i.top),s=f-a}s>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},s=this.options.fixMentionsToQuill?n:a,l=this.options.offsetTop,c=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=s.right;this.mentionContainer.style.right="".concat(u,"px")}else c+=s.left,c+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(c-=c+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var h=s.top,d=document.documentElement.clientHeight-(s.top+s.height),f=this.mentionContainer.offsetHeight<=d,p=this.mentionContainer.offsetHeight<=h,g;this.options.defaultMenuOrientation==="top"&&p?g="top":this.options.defaultMenuOrientation==="bottom"&&f?g="bottom":g=d>h?"bottom":"top",g==="bottom"?(l=s.top+s.height,f||(this.mentionContainer.style.height=d-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(m){r.mentionContainer.classList.add("".concat(m,"-bottom")),r.mentionContainer.classList.remove("".concat(m,"-top"))})):(l=s.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=h-3+"px",l=3),this.options.mentionContainerClass.split(" ").forEach(function(m){r.mentionContainer.classList.add("".concat(m,"-top")),r.mentionContainer.classList.remove("".concat(m,"-bottom"))})),this.mentionContainer.style.top="".concat(l,"px"),this.mentionContainer.style.left="".concat(c,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),s=a?this.quill.getText(a-1,a):"",l=SC(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),c=l.mentionChar,u=l.mentionCharIndex;if(OC(u,i,this.options.isolateCharacter,s)){var h=this.cursorPos-(i.length-u);this.mentionCharPos=h;var d=i.substring(u+c.length);if(d.length>=this.options.minChars&&NC(d,this.getAllowedCharsRegex(c))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var f={abandoned:!1};this.existingSourceExecutionToken=f,this.options.source(d,function(p,g){f.abandoned||(r.existingSourceExecutionToken=null,r.renderList(c,p,g))},c)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),e}();On.register("modules/mention",EC);function D1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=D1(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function AC(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=D1(t))&&(n&&(n+=" "),n+=r);return n}const kC={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function PC(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})}var TC=Object.defineProperty,Og=Object.getOwnPropertySymbols,CC=Object.prototype.hasOwnProperty,$C=Object.prototype.propertyIsEnumerable,_g=(e,t,r)=>t in e?TC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Eg=(e,t)=>{for(var r in t||(t={}))CC.call(t,r)&&_g(e,r,t[r]);if(Og)for(var r of Og(t))$C.call(t,r)&&_g(e,r,t[r]);return e};function IC(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:Eg({},e.focusRing==="always"||e.focusRing==="auto"?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:Eg({},e.focusRing==="auto"||e.focusRing==="never"?e.focusRingStyles.resetStyles(e):null)})}function us(e){return t=>typeof e.primaryShade=="number"?e.primaryShade:e.primaryShade[t||e.colorScheme]}function sp(e){const t=us(e);return(r,n,i=!0,a=!0)=>{if(typeof r=="string"&&r.includes(".")){const[l,c]=r.split("."),u=parseInt(c,10);if(l in e.colors&&u>=0&&u<10)return e.colors[l][typeof n=="number"&&!a?n:u]}const s=typeof n=="number"?n:t();return r in e.colors?e.colors[r][s]:i?e.colors[e.primaryColor][s]:r}}function B1(e){let t="";for(let r=1;r<e.length-1;r+=1)t+=`${e[r]} ${r/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function MC(e,...t){return`linear-gradient(${e}deg, ${B1(t)})`}function zC(...e){return`radial-gradient(circle, ${B1(e)})`}function F1(e){const t=sp(e),r=us(e);return n=>{const i={from:(n==null?void 0:n.from)||e.defaultGradient.from,to:(n==null?void 0:n.to)||e.defaultGradient.to,deg:(n==null?void 0:n.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,r(),!1)} 0%, ${t(i.to,r(),!1)} 100%)`}}function lp(e){if(typeof e.size=="number")return e.size;const t=e.sizes[e.size];return t!==void 0?t:e.size||e.sizes.md}function LC(e){return t=>`@media (min-width: ${lp({size:t,sizes:e.breakpoints})}px)`}function RC(e){return t=>`@media (max-width: ${lp({size:t,sizes:e.breakpoints})-1}px)`}function DC(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)}function BC(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const r=parseInt(t,16),n=r>>16&255,i=r>>8&255,a=r&255;return{r:n,g:i,b:a,a:1}}function FC(e){const[t,r,n,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:r,b:n,a:i||1}}function cp(e){return DC(e)?BC(e):e.startsWith("rgb")?FC(e):{r:0,g:0,b:0,a:1}}function Si(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r,g:n,b:i}=cp(e);return`rgba(${r}, ${n}, ${i}, ${t})`}function qC(e=0){return{position:"absolute",top:e,right:e,left:e,bottom:e}}function UC(e,t){const{r,g:n,b:i,a}=cp(e),s=1-t,l=c=>Math.round(c*s);return`rgba(${l(r)}, ${l(n)}, ${l(i)}, ${a})`}function HC(e,t){const{r,g:n,b:i,a}=cp(e),s=l=>Math.round(l+(255-l)*t);return`rgba(${s(r)}, ${s(n)}, ${s(i)}, ${a})`}function WC(e){return t=>{if(typeof t=="number")return t;const r=typeof e.defaultRadius=="number"?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||r}}function VC(e,t){if(typeof e=="string"&&e.includes(".")){const[r,n]=e.split("."),i=parseInt(n,10);if(r in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:r,shade:i}}return{isSplittedColor:!1}}function GC(e){const t=sp(e),r=us(e),n=F1(e);return({variant:i,color:a,gradient:s,primaryFallback:l})=>{const c=VC(a,e);switch(i){case"light":return{border:"transparent",background:Si(t(a,e.colorScheme==="dark"?8:0,l,!1),e.colorScheme==="dark"?.2:1),color:a==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(a,e.colorScheme==="dark"?2:r("light")),hover:Si(t(a,e.colorScheme==="dark"?7:1,l,!1),e.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:a==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(a,e.colorScheme==="dark"?2:r("light")),hover:Si(t(a,e.colorScheme==="dark"?8:0,l,!1),e.colorScheme==="dark"?.2:1)};case"outline":return{border:t(a,e.colorScheme==="dark"?5:r("light")),background:"transparent",color:t(a,e.colorScheme==="dark"?5:r("light")),hover:e.colorScheme==="dark"?Si(t(a,5,l,!1),.05):Si(t(a,0,l,!1),.35)};case"default":return{border:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4],background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,color:e.colorScheme==="dark"?e.white:e.black,hover:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(a,r()),hover:null};case"transparent":return{border:"transparent",color:a==="dark"?e.colorScheme==="dark"?e.colors.dark[0]:e.colors.dark[9]:t(a,e.colorScheme==="dark"?2:r("light")),background:"transparent",hover:null};case"gradient":return{background:n(s),color:e.white,border:"transparent",hover:null};default:{const u=r(),h=c.isSplittedColor?c.shade:u,d=c.isSplittedColor?c.key:a;return{border:"transparent",background:t(d,h,l),color:e.white,hover:t(d,h===9?8:h+1)}}}}}function KC(e){return t=>{const r=us(e)(t);return e.colors[e.primaryColor][r]}}function YC(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}}function XC(e){return()=>({userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]})}const gt={fontStyles:PC,themeColor:sp,focusStyles:IC,linearGradient:MC,radialGradient:zC,smallerThan:RC,largerThan:LC,rgba:Si,size:lp,cover:qC,darken:UC,lighten:HC,radius:WC,variant:GC,primaryShade:us,hover:YC,gradient:F1,primaryColor:KC,placeholderStyles:XC};var ZC=Object.defineProperty,JC=Object.defineProperties,QC=Object.getOwnPropertyDescriptors,Ag=Object.getOwnPropertySymbols,e3=Object.prototype.hasOwnProperty,t3=Object.prototype.propertyIsEnumerable,kg=(e,t,r)=>t in e?ZC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r3=(e,t)=>{for(var r in t||(t={}))e3.call(t,r)&&kg(e,r,t[r]);if(Ag)for(var r of Ag(t))t3.call(t,r)&&kg(e,r,t[r]);return e},n3=(e,t)=>JC(e,QC(t));function i3(e){return n3(r3({},e),{fn:{fontStyles:gt.fontStyles(e),themeColor:gt.themeColor(e),focusStyles:gt.focusStyles(e),largerThan:gt.largerThan(e),smallerThan:gt.smallerThan(e),radialGradient:gt.radialGradient,linearGradient:gt.linearGradient,gradient:gt.gradient(e),rgba:gt.rgba,size:gt.size,cover:gt.cover,lighten:gt.lighten,darken:gt.darken,primaryShade:gt.primaryShade(e),radius:gt.radius(e),variant:gt.variant(e),hover:gt.hover,primaryColor:gt.primaryColor(e),placeholderStyles:gt.placeholderStyles(e)}})}const a3={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:kC,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor][e.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor][typeof e.primaryShade=="object"?e.primaryShade[e.colorScheme]:e.primaryShade]})}},q1=i3(a3);var o3=!1;function s3(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function l3(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var c3=function(){function e(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!o3:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l3(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=s3(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},e}(),It="-ms-",jl="-moz-",Fe="-webkit-",U1="comm",up="rule",dp="decl",u3="@import",H1="@keyframes",d3="@layer",f3=Math.abs,Vc=String.fromCharCode,h3=Object.assign;function p3(e,t){return Pt(e,0)^45?(((t<<2^Pt(e,0))<<2^Pt(e,1))<<2^Pt(e,2))<<2^Pt(e,3):0}function W1(e){return e.trim()}function m3(e,t){return(e=t.exec(e))?e[0]:e}function Ue(e,t,r){return e.replace(t,r)}function uf(e,t){return e.indexOf(t)}function Pt(e,t){return e.charCodeAt(t)|0}function bo(e,t,r){return e.slice(t,r)}function Ir(e){return e.length}function fp(e){return e.length}function Ts(e,t){return t.push(e),e}function g3(e,t){return e.map(t).join("")}var Gc=1,Bi=1,V1=0,Xt=0,ft=0,wa="";function Kc(e,t,r,n,i,a,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Gc,column:Bi,length:s,return:""}}function Fa(e,t){return h3(Kc("",null,null,"",null,null,0),e,{length:-e.length},t)}function v3(){return ft}function y3(){return ft=Xt>0?Pt(wa,--Xt):0,Bi--,ft===10&&(Bi=1,Gc--),ft}function sr(){return ft=Xt<V1?Pt(wa,Xt++):0,Bi++,ft===10&&(Bi=1,Gc++),ft}function Dr(){return Pt(wa,Xt)}function il(){return Xt}function ds(e,t){return bo(wa,e,t)}function xo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G1(e){return Gc=Bi=1,V1=Ir(wa=e),Xt=0,[]}function K1(e){return wa="",e}function al(e){return W1(ds(Xt-1,df(e===91?e+2:e===40?e+1:e)))}function b3(e){for(;(ft=Dr())&&ft<33;)sr();return xo(e)>2||xo(ft)>3?"":" "}function x3(e,t){for(;--t&&sr()&&!(ft<48||ft>102||ft>57&&ft<65||ft>70&&ft<97););return ds(e,il()+(t<6&&Dr()==32&&sr()==32))}function df(e){for(;sr();)switch(ft){case e:return Xt;case 34:case 39:e!==34&&e!==39&&df(ft);break;case 40:e===41&&df(e);break;case 92:sr();break}return Xt}function w3(e,t){for(;sr()&&e+ft!==47+10;)if(e+ft===42+42&&Dr()===47)break;return"/*"+ds(t,Xt-1)+"*"+Vc(e===47?e:sr())}function j3(e){for(;!xo(Dr());)sr();return ds(e,Xt)}function S3(e){return K1(ol("",null,null,null,[""],e=G1(e),0,[0],e))}function ol(e,t,r,n,i,a,s,l,c){for(var u=0,h=0,d=s,f=0,p=0,g=0,m=1,v=1,b=1,y=0,j="",w=i,x=a,S=n,N=j;v;)switch(g=y,y=sr()){case 40:if(g!=108&&Pt(N,d-1)==58){uf(N+=Ue(al(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:N+=al(y);break;case 9:case 10:case 13:case 32:N+=b3(g);break;case 92:N+=x3(il()-1,7);continue;case 47:switch(Dr()){case 42:case 47:Ts(N3(w3(sr(),il()),t,r),c);break;default:N+="/"}break;case 123*m:l[u++]=Ir(N)*b;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+h:b==-1&&(N=Ue(N,/\f/g,"")),p>0&&Ir(N)-d&&Ts(p>32?Tg(N+";",n,r,d-1):Tg(Ue(N," ","")+";",n,r,d-2),c);break;case 59:N+=";";default:if(Ts(S=Pg(N,t,r,u,h,i,l,j,w=[],x=[],d),a),y===123)if(h===0)ol(N,t,S,S,w,a,d,l,x);else switch(f===99&&Pt(N,3)===110?100:f){case 100:case 108:case 109:case 115:ol(e,S,S,n&&Ts(Pg(e,S,S,0,0,i,l,j,i,w=[],d),x),i,x,d,l,n?w:x);break;default:ol(N,S,S,S,[""],x,0,l,x)}}u=h=p=0,m=b=1,j=N="",d=s;break;case 58:d=1+Ir(N),p=g;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&y3()==125)continue}switch(N+=Vc(y),y*m){case 38:b=h>0?1:(N+="\f",-1);break;case 44:l[u++]=(Ir(N)-1)*b,b=1;break;case 64:Dr()===45&&(N+=al(sr())),f=Dr(),h=d=Ir(j=N+=j3(il())),y++;break;case 45:g===45&&Ir(N)==2&&(m=0)}}return a}function Pg(e,t,r,n,i,a,s,l,c,u,h){for(var d=i-1,f=i===0?a:[""],p=fp(f),g=0,m=0,v=0;g<n;++g)for(var b=0,y=bo(e,d+1,d=f3(m=s[g])),j=e;b<p;++b)(j=W1(m>0?f[b]+" "+y:Ue(y,/&\f/g,f[b])))&&(c[v++]=j);return Kc(e,t,r,i===0?up:l,c,u,h)}function N3(e,t,r){return Kc(e,t,r,U1,Vc(v3()),bo(e,2,-2),0)}function Tg(e,t,r,n){return Kc(e,t,r,dp,bo(e,0,n),bo(e,n+1,-1),n)}function Ii(e,t){for(var r="",n=fp(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function O3(e,t,r,n){switch(e.type){case d3:if(e.children.length)break;case u3:case dp:return e.return=e.return||e.value;case U1:return"";case H1:return e.return=e.value+"{"+Ii(e.children,n)+"}";case up:e.value=e.props.join(",")}return Ir(r=Ii(e.children,n))?e.return=e.value+"{"+r+"}":""}function _3(e){var t=fp(e);return function(r,n,i,a){for(var s="",l=0;l<t;l++)s+=e[l](r,n,i,a)||"";return s}}function E3(e){return function(t){t.root||(t=t.return)&&e(t)}}function A3(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var k3=function(t,r,n){for(var i=0,a=0;i=a,a=Dr(),i===38&&a===12&&(r[n]=1),!xo(a);)sr();return ds(t,Xt)},P3=function(t,r){var n=-1,i=44;do switch(xo(i)){case 0:i===38&&Dr()===12&&(r[n]=1),t[n]+=k3(Xt-1,r,n);break;case 2:t[n]+=al(i);break;case 4:if(i===44){t[++n]=Dr()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Vc(i)}while(i=sr());return t},T3=function(t,r){return K1(P3(G1(t),r))},Cg=new WeakMap,C3=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Cg.get(n))&&!i){Cg.set(t,!0);for(var a=[],s=T3(r,a),l=n.props,c=0,u=0;c<s.length;c++)for(var h=0;h<l.length;h++,u++)t.props[u]=a[c]?s[c].replace(/&\f/g,l[h]):l[h]+" "+s[c]}}},$3=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Y1(e,t){switch(p3(e,t)){case 5103:return Fe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+e+jl+e+It+e+e;case 6828:case 4268:return Fe+e+It+e+e;case 6165:return Fe+e+It+"flex-"+e+e;case 5187:return Fe+e+Ue(e,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+It+"flex-$1$2")+e;case 5443:return Fe+e+It+"flex-item-"+Ue(e,/flex-|-self/,"")+e;case 4675:return Fe+e+It+"flex-line-pack"+Ue(e,/align-content|flex-|-self/,"")+e;case 5548:return Fe+e+It+Ue(e,"shrink","negative")+e;case 5292:return Fe+e+It+Ue(e,"basis","preferred-size")+e;case 6060:return Fe+"box-"+Ue(e,"-grow","")+Fe+e+It+Ue(e,"grow","positive")+e;case 4554:return Fe+Ue(e,/([^-])(transform)/g,"$1"+Fe+"$2")+e;case 6187:return Ue(Ue(Ue(e,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),e,"")+e;case 5495:case 3959:return Ue(e,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Ue(Ue(e,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+e+e;case 4095:case 3583:case 4068:case 2532:return Ue(e,/(.+)-inline(.+)/,Fe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ir(e)-1-t>6)switch(Pt(e,t+1)){case 109:if(Pt(e,t+4)!==45)break;case 102:return Ue(e,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+jl+(Pt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uf(e,"stretch")?Y1(Ue(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Pt(e,t+1)!==115)break;case 6444:switch(Pt(e,Ir(e)-3-(~uf(e,"!important")&&10))){case 107:return Ue(e,":",":"+Fe)+e;case 101:return Ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(Pt(e,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch(Pt(e,t+11)){case 114:return Fe+e+It+Ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fe+e+It+Ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fe+e+It+Ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Fe+e+It+e+e}return e}var I3=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case dp:t.return=Y1(t.value,t.length);break;case H1:return Ii([Fa(t,{value:Ue(t.value,"@","@"+Fe)})],i);case up:if(t.length)return g3(t.props,function(a){switch(m3(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ii([Fa(t,{props:[Ue(a,/:(read-\w+)/,":"+jl+"$1")]})],i);case"::placeholder":return Ii([Fa(t,{props:[Ue(a,/:(plac\w+)/,":"+Fe+"input-$1")]}),Fa(t,{props:[Ue(a,/:(plac\w+)/,":"+jl+"$1")]}),Fa(t,{props:[Ue(a,/:(plac\w+)/,It+"input-$1")]})],i)}return""})}},M3=[I3],z3=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=t.stylisPlugins||M3,a={},s,l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)a[v[b]]=!0;l.push(m)});var c,u=[C3,$3];{var h,d=[O3,E3(function(m){h.insert(m)})],f=_3(u.concat(i,d)),p=function(v){return Ii(S3(v),f)};c=function(v,b,y,j){h=y,p(v?v+"{"+b.styles+"}":b.styles),j&&(g.inserted[b.name]=!0)}}var g={key:r,sheet:new c3({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:c};return g.sheet.hydrate(l),g},L3=!0;function R3(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(n+=i+" ")}),n}var D3=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||L3===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},B3=function(t,r,n){D3(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function F3(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var q3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},U3=!1,H3=/[A-Z]|^ms/g,W3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,X1=function(t){return t.charCodeAt(1)===45},$g=function(t){return t!=null&&typeof t!="boolean"},ed=A3(function(e){return X1(e)?e:e.replace(H3,"-$&").toLowerCase()}),Ig=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(W3,function(n,i,a){return Mr={name:i,styles:a,next:Mr},i})}return q3[t]!==1&&!X1(t)&&typeof r=="number"&&r!==0?r+"px":r},V3="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function wo(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Mr={name:i.name,styles:i.styles,next:Mr},i.name;var a=r;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Mr={name:s.name,styles:s.styles,next:Mr},s=s.next;var l=a.styles+";";return l}return G3(e,t,r)}case"function":{if(e!==void 0){var c=Mr,u=r(e);return Mr=c,wo(e,t,u)}break}}var h=r;if(t==null)return h;var d=t[h];return d!==void 0?d:h}function G3(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=wo(e,t,r[i])+";";else for(var a in r){var s=r[a];if(typeof s!="object"){var l=s;t!=null&&t[l]!==void 0?n+=a+"{"+t[l]+"}":$g(l)&&(n+=ed(a)+":"+Ig(a,l)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&U3)throw new Error(V3);if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var c=0;c<s.length;c++)$g(s[c])&&(n+=ed(a)+":"+Ig(a,s[c])+";");else{var u=wo(e,t,s);switch(a){case"animation":case"animationName":{n+=ed(a)+":"+u+";";break}default:n+=a+"{"+u+"}"}}}}return n}var Mg=/label:\s*([^\s;{]+)\s*(;|$)/g,Mr;function K3(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,i="";Mr=void 0;var a=e[0];if(a==null||a.raw===void 0)n=!1,i+=wo(r,t,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=wo(r,t,e[l]),n){var c=a;i+=c[l]}Mg.lastIndex=0;for(var u="",h;(h=Mg.exec(i))!==null;)u+="-"+h[1];var d=F3(i)+u;return{name:d,styles:i,next:Mr}}function Z1(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}var Y3=Object.defineProperty,zg=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,Z3=Object.prototype.propertyIsEnumerable,Lg=(e,t,r)=>t in e?Y3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,td=(e,t)=>{for(var r in t||(t={}))X3.call(t,r)&&Lg(e,r,t[r]);if(zg)for(var r of zg(t))Z3.call(t,r)&&Lg(e,r,t[r]);return e};const J1=P.createContext({theme:q1});function fs(){var e;return((e=P.useContext(J1))==null?void 0:e.theme)||q1}function J3(e){const t=fs(),r=n=>{var i,a;return{styles:((i=t.components[n])==null?void 0:i.styles)||{},classNames:((a=t.components[n])==null?void 0:a.classNames)||{}}};return Array.isArray(e)?e.map(r):[r(e)]}function Q1(){var e;return(e=P.useContext(J1))==null?void 0:e.emotionCache}function Yc(e,t,r){var n;const i=fs(),a=(n=i.components[e])==null?void 0:n.defaultProps,s=typeof a=="function"?a(i):a;return td(td(td({},t),s),Z1(r))}function Q3(e,t){const r=P.useRef();return(!r.current||t.length!==r.current.prevDeps.length||r.current.prevDeps.map((n,i)=>n===t[i]).indexOf(!1)>=0)&&(r.current={v:e(),prevDeps:[...t]}),r.current.v}const e$=z3({key:"mantine",prepend:!0});function t$(){return Q1()||e$}var r$=Object.defineProperty,Rg=Object.getOwnPropertySymbols,n$=Object.prototype.hasOwnProperty,i$=Object.prototype.propertyIsEnumerable,Dg=(e,t,r)=>t in e?r$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a$=(e,t)=>{for(var r in t||(t={}))n$.call(t,r)&&Dg(e,r,t[r]);if(Rg)for(var r of Rg(t))i$.call(t,r)&&Dg(e,r,t[r]);return e};const rd="ref";function o$(e){let t;if(e.length!==1)return{args:e,ref:t};const[r]=e;if(!(r instanceof Object))return{args:e,ref:t};if(!(rd in r))return{args:e,ref:t};t=r[rd];const n=a$({},r);return delete n[rd],{args:[n],ref:t}}const{cssFactory:s$}=(()=>{function e(r,n,i){const a=[],s=R3(r,a,i);return a.length<2?i:s+n(a)}function t(r){const{cache:n}=r,i=(...s)=>{const{ref:l,args:c}=o$(s),u=K3(c,n.registered);return B3(n,u,!1),`${n.key}-${u.name}${l===void 0?"":` ${l}`}`};return{css:i,cx:(...s)=>e(n.registered,i,AC(s))}}return{cssFactory:t}})();function ew(){const e=t$();return Q3(()=>s$({cache:e}),[e])}function l$({cx:e,classes:t,context:r,classNames:n,name:i,cache:a}){const s=r.reduce((l,c)=>(Object.keys(c.classNames).forEach(u=>{typeof l[u]!="string"?l[u]=`${c.classNames[u]}`:l[u]=`${l[u]} ${c.classNames[u]}`}),l),{});return Object.keys(t).reduce((l,c)=>(l[c]=e(t[c],s[c],n!=null&&n[c],Array.isArray(i)?i.filter(Boolean).map(u=>`${(a==null?void 0:a.key)||"mantine"}-${u}-${c}`).join(" "):i?`${(a==null?void 0:a.key)||"mantine"}-${i}-${c}`:null),l),{})}var c$=Object.defineProperty,Bg=Object.getOwnPropertySymbols,u$=Object.prototype.hasOwnProperty,d$=Object.prototype.propertyIsEnumerable,Fg=(e,t,r)=>t in e?c$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nd=(e,t)=>{for(var r in t||(t={}))u$.call(t,r)&&Fg(e,r,t[r]);if(Bg)for(var r of Bg(t))d$.call(t,r)&&Fg(e,r,t[r]);return e};function f$(e){return`__mantine-ref-${e||""}`}function qg(e,t,r){const n=i=>typeof i=="function"?i(t,r||{}):i||{};return Array.isArray(e)?e.map(i=>n(i.styles)).reduce((i,a)=>(Object.keys(a).forEach(s=>{i[s]?i[s]=nd(nd({},i[s]),a[s]):i[s]=nd({},a[s])}),i),{}):n(e)}function hs(e){const t=typeof e=="function"?e:()=>e;function r(n,i){const a=fs(),s=J3(i==null?void 0:i.name),l=Q1(),{css:c,cx:u}=ew(),h=t(a,n,f$),d=qg(i==null?void 0:i.styles,a,n),f=qg(s,a,n),p=Object.fromEntries(Object.keys(h).map(g=>{const m=u({[c(h[g])]:!(i!=null&&i.unstyled)},c(f[g]),c(d[g]));return[g,m]}));return{classes:l$({cx:u,classes:p,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:l}),cx:u,theme:a}}return r}const h$=typeof document<"u"?P.useLayoutEffect:P.useEffect,p$=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,m$=G["useId".toString()]||(()=>{});function g$(){const[e,t]=P.useState("");return h$(()=>{t(p$())},[]),e}function v$(){const e=m$();return e?`mantine-${e.replace(/:/g,"")}`:""}function y$(e){return typeof e=="string"?e:v$()||g$()}function b$(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function x$(...e){return t=>{e.forEach(r=>b$(r,t))}}var Ug=Object.getOwnPropertySymbols,w$=Object.prototype.hasOwnProperty,j$=Object.prototype.propertyIsEnumerable,S$=(e,t)=>{var r={};for(var n in e)w$.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ug)for(var n of Ug(e))t.indexOf(n)<0&&j$.call(e,n)&&(r[n]=e[n]);return r};function N$(e){const t=e,{m:r,mx:n,my:i,mt:a,mb:s,ml:l,mr:c,p:u,px:h,py:d,pt:f,pb:p,pl:g,pr:m,bg:v,c:b,opacity:y,ff:j,fz:w,fw:x,lts:S,ta:N,lh:_,fs:C,tt:E,td:O,w:A,miw:k,maw:$,h:I,mih:T,mah:R,bgsz:U,bgp:D,bgr:F,bga:M,pos:L,top:z,left:K,bottom:W,right:B,inset:H,display:q}=t,V=S$(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:Z1({m:r,mx:n,my:i,mt:a,mb:s,ml:l,mr:c,p:u,px:h,py:d,pt:f,pb:p,pl:g,pr:m,bg:v,c:b,opacity:y,ff:j,fz:w,fw:x,lts:S,ta:N,lh:_,fs:C,tt:E,td:O,w:A,miw:k,maw:$,h:I,mih:T,mah:R,bgsz:U,bgp:D,bgr:F,bga:M,pos:L,top:z,left:K,bottom:W,right:B,inset:H,display:q}),rest:V}}function O$(e,t){const r=Object.keys(e).filter(n=>n!=="base").sort((n,i)=>t.fn.size({size:n,sizes:t.breakpoints})-t.fn.size({size:i,sizes:t.breakpoints}));return"base"in e?["base",...r]:r}function _$({value:e,theme:t,getValue:r,property:n}){if(e==null)return;if(typeof e=="object")return O$(e,t).reduce((s,l)=>{if(l==="base"&&e.base!==void 0){const u=r(e.base,t);return Array.isArray(n)?(n.forEach(h=>{s[h]=u}),s):(s[n]=u,s)}const c=r(e[l],t);return Array.isArray(n)?(s[t.fn.largerThan(l)]={},n.forEach(u=>{s[t.fn.largerThan(l)][u]=c}),s):(s[t.fn.largerThan(l)]={[n]:c},s)},{});const i=r(e,t);return Array.isArray(n)?n.reduce((a,s)=>(a[s]=i,a),{}):{[n]:i}}function E$(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function A$(e){return e}function k$(e,t){return t.fn.size({size:e,sizes:t.fontSizes})}const P$=["-xs","-sm","-md","-lg","-xl"];function T$(e,t){return P$.includes(e)?t.fn.size({size:e.replace("-",""),sizes:t.spacing})*-1:t.fn.size({size:e,sizes:t.spacing})}const C$={color:E$,default:A$,fontSize:k$,spacing:T$},$$={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var I$=Object.defineProperty,Hg=Object.getOwnPropertySymbols,M$=Object.prototype.hasOwnProperty,z$=Object.prototype.propertyIsEnumerable,Wg=(e,t,r)=>t in e?I$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vg=(e,t)=>{for(var r in t||(t={}))M$.call(t,r)&&Wg(e,r,t[r]);if(Hg)for(var r of Hg(t))z$.call(t,r)&&Wg(e,r,t[r]);return e};function Gg(e,t,r=$$){return Object.keys(r).reduce((i,a)=>(a in e&&e[a]!==void 0&&i.push(_$({value:e[a],getValue:C$[r[a].type],property:r[a].property,theme:t})),i),[]).reduce((i,a)=>(Object.keys(a).forEach(s=>{typeof a[s]=="object"&&a[s]!==null&&s in i?i[s]=Vg(Vg({},i[s]),a[s]):i[s]=a[s]}),i),{})}function Kg(e,t){return typeof e=="function"?e(t):e}function L$(e,t,r){const n=fs(),{css:i,cx:a}=ew();return Array.isArray(e)?a(r,i(Gg(t,n)),e.map(s=>i(Kg(s,n)))):a(r,i(Kg(e,n)),i(Gg(t,n)))}var R$=Object.defineProperty,Sl=Object.getOwnPropertySymbols,tw=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable,Yg=(e,t,r)=>t in e?R$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D$=(e,t)=>{for(var r in t||(t={}))tw.call(t,r)&&Yg(e,r,t[r]);if(Sl)for(var r of Sl(t))rw.call(t,r)&&Yg(e,r,t[r]);return e},B$=(e,t)=>{var r={};for(var n in e)tw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Sl)for(var n of Sl(e))t.indexOf(n)<0&&rw.call(e,n)&&(r[n]=e[n]);return r};const nw=P.forwardRef((e,t)=>{var r=e,{className:n,component:i,style:a,sx:s}=r,l=B$(r,["className","component","style","sx"]);const{systemStyles:c,rest:u}=N$(l),h=i||"div";return G.createElement(h,D$({ref:t,className:L$(s,c,n),style:a},u))});nw.displayName="@mantine/core/Box";const hp=nw;var F$=Object.defineProperty,q$=Object.defineProperties,U$=Object.getOwnPropertyDescriptors,Xg=Object.getOwnPropertySymbols,H$=Object.prototype.hasOwnProperty,W$=Object.prototype.propertyIsEnumerable,Zg=(e,t,r)=>t in e?F$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jg=(e,t)=>{for(var r in t||(t={}))H$.call(t,r)&&Zg(e,r,t[r]);if(Xg)for(var r of Xg(t))W$.call(t,r)&&Zg(e,r,t[r]);return e},V$=(e,t)=>q$(e,U$(t)),G$=hs(e=>({root:V$(Jg(Jg({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const K$=G$;var Y$=Object.defineProperty,Nl=Object.getOwnPropertySymbols,iw=Object.prototype.hasOwnProperty,aw=Object.prototype.propertyIsEnumerable,Qg=(e,t,r)=>t in e?Y$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X$=(e,t)=>{for(var r in t||(t={}))iw.call(t,r)&&Qg(e,r,t[r]);if(Nl)for(var r of Nl(t))aw.call(t,r)&&Qg(e,r,t[r]);return e},Z$=(e,t)=>{var r={};for(var n in e)iw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Nl)for(var n of Nl(e))t.indexOf(n)<0&&aw.call(e,n)&&(r[n]=e[n]);return r};const ow=P.forwardRef((e,t)=>{const r=Yc("UnstyledButton",{},e),{className:n,component:i="button",unstyled:a}=r,s=Z$(r,["className","component","unstyled"]),{classes:l,cx:c}=K$(null,{name:"UnstyledButton",unstyled:a});return G.createElement(hp,X$({component:i,ref:t,className:c(l.root,n),type:i==="button"?"button":void 0},s))});ow.displayName="@mantine/core/UnstyledButton";const J$=ow;var Q$=Object.defineProperty,eI=Object.defineProperties,tI=Object.getOwnPropertyDescriptors,e0=Object.getOwnPropertySymbols,rI=Object.prototype.hasOwnProperty,nI=Object.prototype.propertyIsEnumerable,t0=(e,t,r)=>t in e?Q$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sw=(e,t)=>{for(var r in t||(t={}))rI.call(t,r)&&t0(e,r,t[r]);if(e0)for(var r of e0(t))nI.call(t,r)&&t0(e,r,t[r]);return e},iI=(e,t)=>eI(e,tI(t));const to={xs:18,sm:22,md:28,lg:34,xl:44};function aI({variant:e,theme:t,color:r,gradient:n}){const i=t.fn.variant({color:r,variant:e,gradient:n});return e==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:sw({border:`1px solid ${i.border}`,backgroundColor:i.background,color:i.color},t.fn.hover({backgroundColor:i.hover}))}var oI=hs((e,{color:t,size:r,radius:n,variant:i,gradient:a})=>({root:iI(sw({},aI({variant:i,theme:e,color:t,gradient:a})),{position:"relative",height:e.fn.size({size:r,sizes:to}),minHeight:e.fn.size({size:r,sizes:to}),width:e.fn.size({size:r,sizes:to}),minWidth:e.fn.size({size:r,sizes:to}),borderRadius:e.fn.radius(n),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(n),cursor:"not-allowed"}}})}));const sI=oI;var lI=Object.defineProperty,Ol=Object.getOwnPropertySymbols,lw=Object.prototype.hasOwnProperty,cw=Object.prototype.propertyIsEnumerable,r0=(e,t,r)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cI=(e,t)=>{for(var r in t||(t={}))lw.call(t,r)&&r0(e,r,t[r]);if(Ol)for(var r of Ol(t))cw.call(t,r)&&r0(e,r,t[r]);return e},uI=(e,t)=>{var r={};for(var n in e)lw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ol)for(var n of Ol(e))t.indexOf(n)<0&&cw.call(e,n)&&(r[n]=e[n]);return r};function dI(e){var t=e,{size:r,color:n}=t,i=uI(t,["size","color"]);return G.createElement("svg",cI({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:n,width:`${r}px`},i),G.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},G.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},G.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},G.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},G.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},G.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var fI=Object.defineProperty,_l=Object.getOwnPropertySymbols,uw=Object.prototype.hasOwnProperty,dw=Object.prototype.propertyIsEnumerable,n0=(e,t,r)=>t in e?fI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hI=(e,t)=>{for(var r in t||(t={}))uw.call(t,r)&&n0(e,r,t[r]);if(_l)for(var r of _l(t))dw.call(t,r)&&n0(e,r,t[r]);return e},pI=(e,t)=>{var r={};for(var n in e)uw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&_l)for(var n of _l(e))t.indexOf(n)<0&&dw.call(e,n)&&(r[n]=e[n]);return r};function mI(e){var t=e,{size:r,color:n}=t,i=pI(t,["size","color"]);return G.createElement("svg",hI({width:`${r}px`,height:`${r}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n},i),G.createElement("g",{fill:"none",fillRule:"evenodd"},G.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},G.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),G.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},G.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var gI=Object.defineProperty,El=Object.getOwnPropertySymbols,fw=Object.prototype.hasOwnProperty,hw=Object.prototype.propertyIsEnumerable,i0=(e,t,r)=>t in e?gI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vI=(e,t)=>{for(var r in t||(t={}))fw.call(t,r)&&i0(e,r,t[r]);if(El)for(var r of El(t))hw.call(t,r)&&i0(e,r,t[r]);return e},yI=(e,t)=>{var r={};for(var n in e)fw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&El)for(var n of El(e))t.indexOf(n)<0&&hw.call(e,n)&&(r[n]=e[n]);return r};function bI(e){var t=e,{size:r,color:n}=t,i=yI(t,["size","color"]);return G.createElement("svg",vI({width:`${r}px`,height:`${r/4}px`,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:n},i),G.createElement("circle",{cx:"15",cy:"15",r:"15"},G.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},G.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),G.createElement("circle",{cx:"105",cy:"15",r:"15"},G.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),G.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var xI=Object.defineProperty,Al=Object.getOwnPropertySymbols,pw=Object.prototype.hasOwnProperty,mw=Object.prototype.propertyIsEnumerable,a0=(e,t,r)=>t in e?xI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wI=(e,t)=>{for(var r in t||(t={}))pw.call(t,r)&&a0(e,r,t[r]);if(Al)for(var r of Al(t))mw.call(t,r)&&a0(e,r,t[r]);return e},jI=(e,t)=>{var r={};for(var n in e)pw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Al)for(var n of Al(e))t.indexOf(n)<0&&mw.call(e,n)&&(r[n]=e[n]);return r};const id={bars:dI,oval:mI,dots:bI},SI={xs:18,sm:22,md:36,lg:44,xl:58},NI={size:"md"};function gw(e){const t=Yc("Loader",NI,e),{size:r,color:n,variant:i}=t,a=jI(t,["size","color","variant"]),s=fs(),l=i in id?i:s.loader;return G.createElement(hp,wI({role:"presentation",component:id[l]||id.bars,size:s.fn.size({size:r,sizes:SI}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:n||s.primaryColor}).background},a))}gw.displayName="@mantine/core/Loader";var OI=Object.defineProperty,kl=Object.getOwnPropertySymbols,vw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable,o0=(e,t,r)=>t in e?OI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s0=(e,t)=>{for(var r in t||(t={}))vw.call(t,r)&&o0(e,r,t[r]);if(kl)for(var r of kl(t))yw.call(t,r)&&o0(e,r,t[r]);return e},_I=(e,t)=>{var r={};for(var n in e)vw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&kl)for(var n of kl(e))t.indexOf(n)<0&&yw.call(e,n)&&(r[n]=e[n]);return r};const EI={color:"gray",size:"md",variant:"subtle",loading:!1},bw=P.forwardRef((e,t)=>{const r=Yc("ActionIcon",EI,e),{className:n,color:i,children:a,radius:s,size:l,variant:c,gradient:u,disabled:h,loaderProps:d,loading:f,unstyled:p}=r,g=_I(r,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:m,cx:v,theme:b}=sI({size:l,radius:s,color:i,variant:c,gradient:u},{name:"ActionIcon",unstyled:p}),y=b.fn.variant({color:i,variant:c}),j=G.createElement(gw,s0({color:y.color,size:b.fn.size({size:l,sizes:to})-12},d));return G.createElement(J$,s0({className:v(m.root,n),ref:t,disabled:h,"data-disabled":h||void 0,"data-loading":f||void 0,unstyled:p},g),f?j:a)});bw.displayName="@mantine/core/ActionIcon";const AI=bw;var kI=Object.defineProperty,l0=Object.getOwnPropertySymbols,PI=Object.prototype.hasOwnProperty,TI=Object.prototype.propertyIsEnumerable,c0=(e,t,r)=>t in e?kI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,CI=(e,t)=>{for(var r in t||(t={}))PI.call(t,r)&&c0(e,r,t[r]);if(l0)for(var r of l0(t))TI.call(t,r)&&c0(e,r,t[r]);return e},$I=hs((e,{noActive:t})=>{const r=e.fn.variant({color:e.primaryColor,variant:"light"});return{control:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],"&.ql-active":t?{}:CI({backgroundColor:r.background,color:r.color},e.fn.hover({backgroundColor:r.hover}))}}});const II=$I;var MI=Object.defineProperty,Pl=Object.getOwnPropertySymbols,xw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable,u0=(e,t,r)=>t in e?MI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zI=(e,t)=>{for(var r in t||(t={}))xw.call(t,r)&&u0(e,r,t[r]);if(Pl)for(var r of Pl(t))ww.call(t,r)&&u0(e,r,t[r]);return e},LI=(e,t)=>{var r={};for(var n in e)xw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Pl)for(var n of Pl(e))t.indexOf(n)<0&&ww.call(e,n)&&(r[n]=e[n]);return r};function jw(e){var t=e,{className:r,children:n,controls:i,value:a,noActive:s}=t,l=LI(t,["className","children","controls","value","noActive"]);const{classes:c,cx:u}=II({noActive:s},{name:"RichTextEditor"});return G.createElement(AI,zI({className:u(c.control,`ql-${i}`,r),value:a,radius:0},l),n)}jw.displayName="@mantine/rte/ToolbarButton";function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(this,arguments)}function st(e,t){if(e==null)return{};var r,n,i=function(s,l){if(s==null)return{};var c,u,h={},d=Object.keys(s);for(u=0;u<d.length;u++)c=d[u],l.indexOf(c)>=0||(h[c]=s[c]);return h}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var RI=["size","color","stroke"];function DI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,RI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-center",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:4,y1:6,x2:20,y2:6}),P.createElement("line",{x1:8,y1:12,x2:16,y2:12}),P.createElement("line",{x1:6,y1:18,x2:18,y2:18}))}var BI=["size","color","stroke"];function FI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,BI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-left",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:4,y1:6,x2:20,y2:6}),P.createElement("line",{x1:4,y1:12,x2:14,y2:12}),P.createElement("line",{x1:4,y1:18,x2:18,y2:18}))}var qI=["size","color","stroke"];function UI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,qI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-align-right",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:4,y1:6,x2:20,y2:6}),P.createElement("line",{x1:10,y1:12,x2:20,y2:12}),P.createElement("line",{x1:6,y1:18,x2:20,y2:18}))}var HI=["size","color","stroke"];function WI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,HI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-blockquote",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M6 15h15"}),P.createElement("path",{d:"M21 19h-15"}),P.createElement("path",{d:"M15 11h6"}),P.createElement("path",{d:"M21 7h-6"}),P.createElement("path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}),P.createElement("path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2"}))}var VI=["size","color","stroke"];function GI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,VI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bold",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),P.createElement("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))}var KI=["size","color","stroke"];function YI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,KI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-brand-youtube",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("rect",{x:3,y:5,width:18,height:14,rx:4}),P.createElement("path",{d:"M10 9l5 3l-5 3z"}))}var XI=["size","color","stroke"];function ZI(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,XI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-clear-formatting",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M17 15l4 4m0 -4l-4 4"}),P.createElement("path",{d:"M7 6v-1h11v1"}),P.createElement("line",{x1:7,y1:19,x2:11,y2:19}),P.createElement("line",{x1:13,y1:5,x2:9,y2:19}))}var JI=["size","color","stroke"];function d0(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,JI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-code",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("polyline",{points:"7 8 3 12 7 16"}),P.createElement("polyline",{points:"17 8 21 12 17 16"}),P.createElement("line",{x1:14,y1:4,x2:10,y2:20}))}var QI=["size","color","stroke"];function e6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,QI);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-1",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M19 18v-8l-2 2"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var t6=["size","color","stroke"];function r6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,t6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-2",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var n6=["size","color","stroke"];function i6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,n6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-3",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),P.createElement("path",{d:"M17 16a2 2 0 1 0 2 -2"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var a6=["size","color","stroke"];function o6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,a6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-4",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M20 18v-8l-4 6h5"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var s6=["size","color","stroke"];function l6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,s6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-5",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M17 18h2a2 2 0 1 0 0 -4h-2v-4h4"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var c6=["size","color","stroke"];function u6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,c6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-h-6",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M19 14a2 2 0 1 0 0 4a2 2 0 0 0 0 -4z"}),P.createElement("path",{d:"M21 12a2 2 0 1 0 -4 0v4"}),P.createElement("path",{d:"M4 6v12"}),P.createElement("path",{d:"M12 6v12"}),P.createElement("path",{d:"M11 18h2"}),P.createElement("path",{d:"M3 18h2"}),P.createElement("path",{d:"M4 12h8"}),P.createElement("path",{d:"M3 6h2"}),P.createElement("path",{d:"M11 6h2"}))}var d6=["size","color","stroke"];function f6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,d6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-italic",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:11,y1:5,x2:17,y2:5}),P.createElement("line",{x1:7,y1:19,x2:13,y2:19}),P.createElement("line",{x1:14,y1:5,x2:10,y2:19}))}var h6=["size","color","stroke"];function p6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,h6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-link",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"}),P.createElement("path",{d:"M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"}))}var m6=["size","color","stroke"];function g6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,m6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-list-numbers",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M11 6h9"}),P.createElement("path",{d:"M11 12h9"}),P.createElement("path",{d:"M12 18h8"}),P.createElement("path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4"}),P.createElement("path",{d:"M6 10v-6l-2 2"}))}var v6=["size","color","stroke"];function y6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,v6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-list",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:9,y1:6,x2:20,y2:6}),P.createElement("line",{x1:9,y1:12,x2:20,y2:12}),P.createElement("line",{x1:9,y1:18,x2:20,y2:18}),P.createElement("line",{x1:5,y1:6,x2:5,y2:6.01}),P.createElement("line",{x1:5,y1:12,x2:5,y2:12.01}),P.createElement("line",{x1:5,y1:18,x2:5,y2:18.01}))}var b6=["size","color","stroke"];function x6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,b6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:15,y1:8,x2:15.01,y2:8}),P.createElement("rect",{x:4,y:4,width:16,height:16,rx:3}),P.createElement("path",{d:"M4 15l4 -4a3 5 0 0 1 3 0l5 5"}),P.createElement("path",{d:"M14 14l1 -1a3 5 0 0 1 3 0l2 2"}))}var w6=["size","color","stroke"];function j6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,w6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-strikethrough",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("line",{x1:5,y1:12,x2:19,y2:12}),P.createElement("path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5"}))}var S6=["size","color","stroke"];function N6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,S6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-subscript",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M5 7l8 10m-8 0l8 -10"}),P.createElement("path",{d:"M21 20h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"}))}var O6=["size","color","stroke"];function _6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,O6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-superscript",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M5 7l8 10m-8 0l8 -10"}),P.createElement("path",{d:"M21 11h-4l3.5 -4a1.73 1.73 0 0 0 -3.5 -2"}))}var E6=["size","color","stroke"];function A6(e){var t=e.size,r=t===void 0?24:t,n=e.color,i=n===void 0?"currentColor":n,a=e.stroke,s=a===void 0?2:a,l=st(e,E6);return P.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-underline",width:r,height:r,viewBox:"0 0 24 24",strokeWidth:s,stroke:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},l),P.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),P.createElement("path",{d:"M7 5v5a5 5 0 0 0 10 0v-5"}),P.createElement("path",{d:"M5 19h14"}))}const qa={code:{icon:d0,controls:"code"},codeBlock:{icon:d0,controls:"code-block"},bold:{icon:GI,controls:"bold"},italic:{icon:f6,controls:"italic"},underline:{icon:A6,controls:"underline"},strike:{icon:j6,controls:"strike"},unorderedList:{icon:y6,controls:"list",value:"bullet"},orderedList:{icon:g6,controls:"list",value:"ordered"},link:{icon:p6,controls:"link"},image:{icon:x6,controls:"image"},clean:{icon:ZI,controls:"clean"},alignCenter:{icon:DI,controls:"align",value:"center",noActive:!0},alignLeft:{icon:FI,controls:"align",value:"",noActive:!0},alignRight:{icon:UI,controls:"align",value:"right",noActive:!0},video:{icon:YI,controls:"video"},h1:{icon:e6,controls:"header",value:"1"},h2:{icon:r6,controls:"header",value:"2"},h3:{icon:i6,controls:"header",value:"3"},h4:{icon:o6,controls:"header",value:"4"},h5:{icon:l6,controls:"header",value:"5"},h6:{icon:u6,controls:"header",value:"6"},sup:{icon:_6,controls:"script",value:"super"},sub:{icon:N6,controls:"script",value:"sub"},blockquote:{icon:WI,controls:"blockquote"}};var k6=hs((e,{sticky:t,stickyOffset:r})=>({toolbarGroup:{display:"flex",alignItems:"center",flexWrap:"wrap",margin:`calc(${e.spacing.md}px / 2)`},toolbar:{position:t?"sticky":"relative",zIndex:1,top:t?r:0,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.white,borderBottom:`1px solid ${e.colorScheme==="dark"?e.colors.dark[7]:e.colors.gray[4]}`,borderTopRightRadius:e.radius.sm,borderTopLeftRadius:e.radius.sm,padding:`${e.spacing.sm}px ${e.spacing.md}px`},toolbarInner:{display:"flex",flexWrap:"wrap",margin:`calc(${-e.spacing.md}px / 2)`},toolbarControl:{"& + &":{borderLeftWidth:0},"&:first-of-type":{borderTopLeftRadius:e.fn.radius(e.defaultRadius),borderBottomLeftRadius:e.fn.radius(e.defaultRadius)},"&:last-of-type":{borderTopRightRadius:e.fn.radius(e.defaultRadius),borderBottomRightRadius:e.fn.radius(e.defaultRadius)}}}));const P6=k6;var T6=Object.defineProperty,Tl=Object.getOwnPropertySymbols,Sw=Object.prototype.hasOwnProperty,Nw=Object.prototype.propertyIsEnumerable,f0=(e,t,r)=>t in e?T6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C6=(e,t)=>{for(var r in t||(t={}))Sw.call(t,r)&&f0(e,r,t[r]);if(Tl)for(var r of Tl(t))Nw.call(t,r)&&f0(e,r,t[r]);return e},$6=(e,t)=>{var r={};for(var n in e)Sw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Tl)for(var n of Tl(e))t.indexOf(n)<0&&Nw.call(e,n)&&(r[n]=e[n]);return r};function Ow(e){var t=e,{controls:r,labels:n,stickyOffset:i=0,sticky:a=!0,className:s,classNames:l,styles:c,id:u,unstyled:h}=t,d=$6(t,["controls","labels","stickyOffset","sticky","className","classNames","styles","id","unstyled"]);const{classes:f,cx:p}=P6({sticky:a,stickyOffset:i},{classNames:l,styles:c,unstyled:h,name:"RichTextEditor"}),g=r.map((m,v)=>{const b=m.filter(y=>qa[y]).map(y=>{const j=qa[y].icon;return G.createElement(jw,{className:f.toolbarControl,controls:qa[y].controls,value:qa[y].value,key:y,title:n[y],noActive:qa[y].noActive},G.createElement(j,{size:18,stroke:1.5}))});return G.createElement("div",{className:f.toolbarGroup,key:v},b)});return G.createElement("div",C6({id:u,className:p(f.toolbar,s)},d),G.createElement("div",{className:f.toolbarInner},g))}Ow.displayName="@mantine/rte/Toolbar";const I6=[["bold","italic","underline","strike","clean"],["h1","h2","h3","h4"],["unorderedList","orderedList"],["link","image","video","blockquote","codeBlock"],["alignLeft","alignCenter","alignRight"],["sup","sub"]];var M6=Object.defineProperty,z6=Object.defineProperties,L6=Object.getOwnPropertyDescriptors,h0=Object.getOwnPropertySymbols,R6=Object.prototype.hasOwnProperty,D6=Object.prototype.propertyIsEnumerable,p0=(e,t,r)=>t in e?M6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cs=(e,t)=>{for(var r in t||(t={}))R6.call(t,r)&&p0(e,r,t[r]);if(h0)for(var r of h0(t))D6.call(t,r)&&p0(e,r,t[r]);return e},ad=(e,t)=>z6(e,L6(t)),B6=hs((e,{saveLabel:t,removeLabel:r,editLabel:n,radius:i,readOnly:a})=>({toolbar:{display:a?"none":void 0},root:ad(Cs({},e.fn.fontStyles()),{fontSize:e.fontSizes.sm,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,borderRadius:e.fn.radius(i),position:"relative",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"& .ql-toolbar":{borderTopRightRadius:e.fn.radius(i),borderTopLeftRadius:e.fn.radius(i)},"& .ql-container":{position:"relative",boxSizing:"border-box",height:"100%",margin:0,lineHeight:e.lineHeight},"& .ql-editor":{whiteSpace:"pre-wrap",outline:"none",padding:`${e.spacing.sm}px ${e.spacing.md}px`},"& .ql-container.ql-disabled .ql-tooltip":{display:"none"},"& .ql-tooltip":{position:"absolute",zIndex:1,backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.white,padding:`${e.spacing.xs}px ${e.spacing.md}px`,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[2]}`,boxShadow:e.shadows.sm,borderRadius:e.radius.sm,display:"flex",alignItems:"center"},"& .ql-action::before":{content:`"${n}"`,cursor:"pointer",display:"block",whiteSpace:"nowrap",height:32,lineHeight:"32px",backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.white,borderRadius:e.fn.radius(e.defaultRadius),fontWeight:500,padding:`0 ${e.spacing.md}px`,marginRight:e.spacing.sm,fontSize:e.fontSizes.sm},"& .ql-remove::before":{content:`"${r}"`,cursor:"pointer",color:e.colors.red[e.colorScheme==="dark"?5:7],fontSize:e.fontSizes.sm,display:"block",height:32,lineHeight:"32px"},"& .ql-hidden":{display:"none"},"& .ql-preview":{display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:180,marginRight:e.spacing.md},"& .ql-editing .ql-preview":{display:"none"},"& .ql-editing .ql-remove":{display:"none"},"& .ql-editing .ql-action::before":{content:`"${t}"`,marginRight:0},"& .ql-tooltip.ql-editing input":{display:"block"},"& .ql-tooltip input":{display:"none",WebkitTapHighlightColor:"transparent",height:34,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fontSizes.sm,width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textAlign:"left",paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,borderRadius:e.fn.radius(e.defaultRadius),marginRight:e.spacing.md,border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,"&::placeholder":Cs({opacity:1},e.fn.placeholderStyles()),"&:focus":{outline:"none",borderColor:e.colors[e.primaryColor][e.colorScheme==="dark"?8:5]}},"& .ql-clipboard":{left:"-100000px",height:"1px",overflowY:"hidden",position:"fixed",top:"50%"},"& .ql-align-center":{textAlign:"center"},"& .ql-align-right":{textAlign:"right"},"& .ql-mention-list-container":{border:`1px solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,borderRadius:e.radius.sm,overflow:"hidden","& .ql-mention-list":{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],paddingLeft:0,marginTop:0,margin:0,listStyleType:"none","& .ql-mention-list-item":{padding:e.spacing.xs,textDecoration:"none",cursor:"pointer"},"& .selected":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[0],color:e.colorScheme==="dark"?e.white:e.black,textDecoration:"none"}}},"& .mention":{display:"inline-block",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors[e.primaryColor][0],padding:"3px 5px",marginRight:2,borderRadius:e.fn.radius(e.defaultRadius),userSelect:"all",pointerEvents:"none"},"& iframe.ql-video":{width:"100%",height:400,"@media (max-width: 755px)":{height:220}},"& a":{color:e.colors[e.primaryColor][e.colorScheme==="dark"?4:7],textDecoration:"none"},"& h1, & h2, & h3, & h4, & h5, & h6":{fontFamily:e.headings.fontFamily,fontWeight:e.headings.fontWeight,marginTop:0},"& ol, & ul":{marginTop:e.spacing.sm,paddingLeft:`calc(${e.spacing.md}px * 2)`,listStylePosition:"outside"},"& h1":{fontSize:e.headings.sizes.h1.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h1.lineHeight})`},"& h2":{fontSize:e.headings.sizes.h2.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h2.lineHeight})`},"& h3":{fontSize:e.headings.sizes.h3.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h3.lineHeight})`},"& h4":{fontSize:e.headings.sizes.h4.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h4.lineHeight})`},"& h5":{fontSize:e.headings.sizes.h5.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h5.lineHeight})`},"& h6":{fontSize:e.headings.sizes.h6.fontSize,marginBottom:`calc(${e.spacing.sm}px * ${e.headings.sizes.h6.lineHeight})`},"& p":{marginTop:0,marginBottom:e.spacing.sm},"& pre":ad(Cs({},e.fn.fontStyles()),{lineHeight:e.lineHeight,borderRadius:e.radius.sm,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.fn.rgba(e.fn.themeColor("gray",e.colorScheme==="dark"?8:0),e.colorScheme==="dark"?.35:1),fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.xs,padding:e.spacing.xs,margin:0,overflowX:"auto"}),"& code":ad(Cs({},e.fn.fontStyles()),{lineHeight:e.lineHeight,borderRadius:e.radius.sm,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:e.fn.rgba(e.fn.themeColor("gray",e.colorScheme==="dark"?8:0),e.colorScheme==="dark"?.35:1),fontFamily:e.fontFamilyMonospace,fontSize:e.fontSizes.xs,padding:`2px calc(${e.spacing.xs}px / 2)`}),"& blockquote":{marginTop:0,marginLeft:0,marginBottom:e.spacing.sm,paddingLeft:e.spacing.md,color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[7],borderLeft:`4px solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`},"& img":{display:"block",position:"relative",maxWidth:"100%",marginBottom:e.spacing.sm},"& .ql-image-uploading img":{filter:"blur(10px)"},"& .ql-blank":{"&::before":{content:"attr(data-placeholder)",position:"absolute",left:e.spacing.md,right:e.spacing.md,color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}})}));const F6=B6,q6={save:"Save",edit:"Edit",remove:"Remove",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strikethrough",link:"Link",unorderedList:"Bullet list",orderedList:"Ordered list",clean:"Clean formatting",video:"Embed video",alignCenter:"Align text to center",alignLeft:"Align text to left",alignRight:"Align text to right",image:"Embed image",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",sup:"Super script",sub:"Sub script",code:"Code",codeBlock:"Code block",blockquote:"Block quote"};function U6(e){var t;return t=class extends e{static create(r){const n=super.create(r);if(typeof r=="boolean"&&r)return n;const i=document.createElement("img");return i.setAttribute("src",r),n.appendChild(i),n}static value(r){const{src:n,custom:i}=r.dataset;return{src:n,custom:i}}deleteAt(r,n){super.deleteAt(r,n),this.cache={}}},t.blotName="imageBlot",t.className="ql-image-uploading",t.tagName="span",t}class H6{constructor(t,r){this.quill=t,this.options=r,this.range=null,this.quill.getModule("toolbar").addHandler("image",this.selectLocalImage.bind(this)),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}selectLocalImage(){this.range=this.quill.getSelection(),this.range&&(this.fileHolder=document.createElement("input"),this.fileHolder.setAttribute("type","file"),this.fileHolder.setAttribute("accept","image/*"),this.fileHolder.setAttribute("style","visibility:hidden"),this.fileHolder.onchange=this.fileChanged.bind(this),document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame(()=>{document.body.removeChild(this.fileHolder)}))}handleDrop(t){if(t.stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length){if(document.caretRangeFromPoint){const n=document.getSelection(),i=document.caretRangeFromPoint(t.clientX,t.clientY);n&&i&&n.setBaseAndExtent(i.startContainer,i.startOffset,i.startContainer,i.startOffset)}else{const n=document.getSelection(),i=document.caretPositionFromPoint(t.clientX,t.clientY);n&&i&&n.setBaseAndExtent(i.offsetNode,i.offset,i.offsetNode,i.offset)}this.range=this.quill.getSelection();const r=t.dataTransfer.files[0];setTimeout(()=>{this.range=this.quill.getSelection(),this.readAndUploadFile(r)},0)}}handlePaste(t){const r=t.clipboardData||window.clipboardData;if(r&&(r.items||r.files)){const n=r.items||r.files,i=/^image\/(jpe?g|gif|png|svg|webp)$/i;for(let a=0;a<n.length;a+=1)if(i.test(n[a].type)){const s=n[a].getAsFile?n[a].getAsFile():n[a];s&&(this.range=this.quill.getSelection(),t.preventDefault(),setTimeout(()=>{this.range=this.quill.getSelection(),this.readAndUploadFile(s)},1))}}}readAndUploadFile(t){let r=!1;const n=new FileReader;n.addEventListener("load",()=>{if(!r){const i=n.result;this.insertBase64Image(i)}},!1),t&&n.readAsDataURL(t),this.options.upload(t).then(i=>{this.insertToEditor(i)},()=>{r=!0,this.removeBase64Image()})}fileChanged(){const t=this.fileHolder.files[0];this.readAndUploadFile(t)}insertBase64Image(t){const{range:r}=this;this.quill.insertEmbed(r.index,"imageBlot",`${t}`,"user")}insertToEditor(t){const{range:r}=this;this.quill.deleteText(r.index,3,"user"),this.quill.insertEmbed(r.index,"image",`${t}`,"user"),r.index+=1,this.quill.setSelection(r,"user")}removeBase64Image(){const{range:t}=this;this.quill.deleteText(t.index,3,"user")}}const W6=["list","strike","underline","link","bold","italic","image","clean","align","video","header","script","blockquote","code","code-block"];function V6(e){W6.forEach(t=>{e[t]={}})}function G6(e){["1","2","3","4","5","6"].forEach(t=>{e.addBinding({key:t,shortKey:!0,altKey:!0},function(n,i){var a;((a=i.format)==null?void 0:a.header)===Number(t)?this.quill.removeFormat(n):this.quill.formatLine(n,"header",t)})})}var K6=Object.defineProperty,Y6=Object.defineProperties,X6=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,_w=Object.prototype.hasOwnProperty,Ew=Object.prototype.propertyIsEnumerable,m0=(e,t,r)=>t in e?K6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,od=(e,t)=>{for(var r in t||(t={}))_w.call(t,r)&&m0(e,r,t[r]);if(Cl)for(var r of Cl(t))Ew.call(t,r)&&m0(e,r,t[r]);return e},Z6=(e,t)=>Y6(e,X6(t)),J6=(e,t)=>{var r={};for(var n in e)_w.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Cl)for(var n of Cl(e))t.indexOf(n)<0&&Ew.call(e,n)&&(r[n]=e[n]);return r};const Q6=cs.Quill.import("blots/block"),eM=U6(Q6);cs.Quill.register({"formats/imageBlot":eM});cs.Quill.register("modules/imageUploader",H6);const tM=cs.Quill.import("ui/icons");V6(tM);function rM(e){return new Promise(t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)})}const nM={onImageUpload:rM,sticky:!0,stickyOffset:0,labels:q6,controls:I6,readOnly:!1},Aw=P.forwardRef((e,t)=>{const r=Yc("RichTextEditor",nM,e),{value:n,defaultValue:i,onChange:a,onImageUpload:s,sticky:l,stickyOffset:c,radius:u,labels:h,controls:d,id:f,className:p,classNames:g,styles:m,placeholder:v,mentions:b,readOnly:y,modules:j,unstyled:w,formats:x}=r,S=J6(r,["value","defaultValue","onChange","onImageUpload","sticky","stickyOffset","radius","labels","controls","id","className","classNames","styles","placeholder","mentions","readOnly","modules","unstyled","formats"]),N=y$(f),_=P.useRef(),{classes:C,cx:E}=F6({saveLabel:h.save,editLabel:h.edit,removeLabel:h.remove,radius:u,readOnly:y},{classNames:g,styles:m,unstyled:w,name:"RichTextEditor"}),O=P.useMemo(()=>Z6(od(od({},j),N?{toolbar:{container:`#${N}`}}:void 0),{mention:b,imageUploader:{upload:A=>s(A)}}),[N,b,j,s]);return P.useEffect(()=>{var A,k;_.current&&G6((k=(A=_==null?void 0:_.current)==null?void 0:A.editor)==null?void 0:k.keyboard)},[]),G.createElement(hp,od({className:E(C.root,p)},S),G.createElement(Ow,{controls:d,labels:h,sticky:l,stickyOffset:c,classNames:g,styles:m,id:N,className:C.toolbar,unstyled:w}),G.createElement(pC,{theme:"snow",modules:O,value:n,defaultValue:i,onChange:a,ref:x$(_,t),placeholder:v,readOnly:y,scrollingContainer:"html",formats:x}))});Aw.displayName="@mantine/rte/RichTextEditor";var ff=function(e,t){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ff(e,t)};function iM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ff(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wt=function(){return wt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},wt.apply(this,arguments)};var g0=!1,Hn,hf,pf,sl,ll,kw,cl,mf,gf,vf,Pw,yf,bf,Tw,Cw;function Gt(){if(!g0){g0=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(yf=/\b(iPhone|iP[ao]d)/.exec(e),bf=/\b(iP[ao]d)/.exec(e),vf=/Android/i.exec(e),Tw=/FBAN\/\w+;/i.exec(e),Cw=/Mobile/i.exec(e),Pw=!!/Win64/.exec(e),t){Hn=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Hn&&document&&document.documentMode&&(Hn=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);kw=n?parseFloat(n[1])+4:Hn,hf=t[2]?parseFloat(t[2]):NaN,pf=t[3]?parseFloat(t[3]):NaN,sl=t[4]?parseFloat(t[4]):NaN,sl?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),ll=t&&t[1]?parseFloat(t[1]):NaN):ll=NaN}else Hn=hf=pf=ll=sl=NaN;if(r){if(r[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);cl=i?parseFloat(i[1].replace("_",".")):!0}else cl=!1;mf=!!r[2],gf=!!r[3]}else cl=mf=gf=!1}}var xf={ie:function(){return Gt()||Hn},ieCompatibilityMode:function(){return Gt()||kw>Hn},ie64:function(){return xf.ie()&&Pw},firefox:function(){return Gt()||hf},opera:function(){return Gt()||pf},webkit:function(){return Gt()||sl},safari:function(){return xf.webkit()},chrome:function(){return Gt()||ll},windows:function(){return Gt()||mf},osx:function(){return Gt()||cl},linux:function(){return Gt()||gf},iphone:function(){return Gt()||yf},mobile:function(){return Gt()||yf||bf||vf||Cw},nativeApp:function(){return Gt()||Tw},android:function(){return Gt()||vf},ipad:function(){return Gt()||bf}},aM=xf,$s=!!(typeof window<"u"&&window.document&&window.document.createElement),oM={canUseDOM:$s,canUseWorkers:typeof Worker<"u",canUseEventListeners:$s&&!!(window.addEventListener||window.attachEvent),canUseViewport:$s&&!!window.screen,isInWorker:!$s},sM=oM,$w=sM,Iw;$w.canUseDOM&&(Iw=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function lM(e,t){if(!$w.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var i=document.createElement("div");i.setAttribute(r,"return;"),n=typeof i[r]=="function"}return!n&&Iw&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var cM=lM,uM=aM,dM=cM,v0=10,y0=40,b0=800;function Mw(e){var t=0,r=0,n=0,i=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*v0,i=r*v0,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(e.deltaMode==1?(n*=y0,i*=y0):(n*=b0,i*=b0)),n&&!t&&(t=n<1?-1:1),i&&!r&&(r=i<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:i}}Mw.getEventType=function(){return uM.firefox()?"DOMMouseScroll":dM("wheel")?"wheel":"mousewheel"};var fM=Mw,hM=fM;const pM=ze(hM);function mM(e,t,r,n,i,a){a===void 0&&(a=0);var s=Fi(e,t,a),l=s.width,c=s.height,u=Math.min(l,r),h=Math.min(c,n);return u>h*i?{width:h*i,height:h}:{width:u,height:u/i}}function gM(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Ua(e,t,r,n,i){i===void 0&&(i=0);var a=Fi(t.width,t.height,i),s=a.width,l=a.height;return{x:x0(e.x,s,r.width,n),y:x0(e.y,l,r.height,n)}}function x0(e,t,r,n){var i=t*n/2-r/2;return Xc(e,-i,i)}function w0(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function j0(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function vM(e,t,r,n,i,a,s){a===void 0&&(a=0),s===void 0&&(s=!0);var l=s?yM:bM,c=Fi(t.width,t.height,a),u=Fi(t.naturalWidth,t.naturalHeight,a),h={x:l(100,((c.width-r.width/i)/2-e.x/i)/c.width*100),y:l(100,((c.height-r.height/i)/2-e.y/i)/c.height*100),width:l(100,r.width/c.width*100/i),height:l(100,r.height/c.height*100/i)},d=Math.round(l(u.width,h.width*u.width/100)),f=Math.round(l(u.height,h.height*u.height/100)),p=u.width>=u.height*n,g=p?{width:Math.round(f*n),height:f}:{width:d,height:Math.round(d/n)},m=wt(wt({},g),{x:Math.round(l(u.width-g.width,h.x*u.width/100)),y:Math.round(l(u.height-g.height,h.y*u.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:m}}function yM(e,t){return Math.min(e,Math.max(0,t))}function bM(e,t){return t}function xM(e,t,r,n,i,a){var s=Fi(t.width,t.height,r),l=Xc(n.width/s.width*(100/e.width),i,a),c={x:l*s.width/2-n.width/2-s.width*l*(e.x/100),y:l*s.height/2-n.height/2-s.height*l*(e.y/100)};return{crop:c,zoom:l}}function wM(e,t,r){var n=gM(t);return r.height>r.width?r.height/(e.height*n):r.width/(e.width*n)}function jM(e,t,r,n,i,a){r===void 0&&(r=0);var s=Fi(t.naturalWidth,t.naturalHeight,r),l=Xc(wM(e,t,n),i,a),c=n.height>n.width?n.height/e.height:n.width/e.width,u={x:((s.width-e.width)/2-e.x)*c,y:((s.height-e.height)/2-e.y)*c};return{crop:u,zoom:l}}function S0(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function SM(e){return e*Math.PI/180}function Fi(e,t,r){var n=SM(r);return{width:Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t),height:Math.abs(Math.sin(n)*e)+Math.abs(Math.cos(n)*t)}}function Xc(e,t,r){return Math.min(Math.max(e,t),r)}function Is(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(r){return typeof r=="string"&&r.length>0}).join(" ").trim()}var NM=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,OM=1,_M=3,EM=1,zw=function(e){iM(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cropperRef=P.createRef(),r.imageRef=P.createRef(),r.videoRef=P.createRef(),r.containerPosition={x:0,y:0},r.containerRef=null,r.styleRef=null,r.containerRect=null,r.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.gestureZoomStart=0,r.gestureRotationStart=0,r.isTouching=!1,r.lastPinchDistance=0,r.lastPinchRotation=0,r.rafDragTimeout=null,r.rafPinchTimeout=null,r.wheelTimer=null,r.currentDoc=typeof document<"u"?document:null,r.currentWindow=typeof window<"u"?window:null,r.resizeObserver=null,r.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},r.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!r.containerRef)){var n=!0;r.resizeObserver=new window.ResizeObserver(function(i){if(n){n=!1;return}r.computeSizes()}),r.resizeObserver.observe(r.containerRef)}},r.preventZoomSafari=function(n){return n.preventDefault()},r.cleanEvents=function(){r.currentDoc&&(r.currentDoc.removeEventListener("mousemove",r.onMouseMove),r.currentDoc.removeEventListener("mouseup",r.onDragStopped),r.currentDoc.removeEventListener("touchmove",r.onTouchMove),r.currentDoc.removeEventListener("touchend",r.onDragStopped),r.currentDoc.removeEventListener("gesturechange",r.onGestureChange),r.currentDoc.removeEventListener("gestureend",r.onGestureEnd),r.currentDoc.removeEventListener("scroll",r.onScroll))},r.clearScrollEvent=function(){r.containerRef&&r.containerRef.removeEventListener("wheel",r.onWheel),r.wheelTimer&&clearTimeout(r.wheelTimer)},r.onMediaLoad=function(){var n=r.computeSizes();n&&(r.emitCropData(),r.setInitialCrop(n)),r.props.onMediaLoaded&&r.props.onMediaLoaded(r.mediaSize)},r.setInitialCrop=function(n){if(r.props.initialCroppedAreaPercentages){var i=xM(r.props.initialCroppedAreaPercentages,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),a=i.crop,s=i.zoom;r.props.onCropChange(a),r.props.onZoomChange&&r.props.onZoomChange(s)}else if(r.props.initialCroppedAreaPixels){var l=jM(r.props.initialCroppedAreaPixels,r.mediaSize,r.props.rotation,n,r.props.minZoom,r.props.maxZoom),a=l.crop,s=l.zoom;r.props.onCropChange(a),r.props.onZoomChange&&r.props.onZoomChange(s)}},r.computeSizes=function(){var n,i,a,s,l,c,u=r.imageRef.current||r.videoRef.current;if(u&&r.containerRef){r.containerRect=r.containerRef.getBoundingClientRect(),r.saveContainerPosition();var h=r.containerRect.width/r.containerRect.height,d=((n=r.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((i=r.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((a=r.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=r.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,p=u.offsetWidth<d||u.offsetHeight<f,g=d/f,m=void 0;if(p)switch(r.state.mediaObjectFit){default:case"contain":m=h>g?{width:r.containerRect.height*g,height:r.containerRect.height}:{width:r.containerRect.width,height:r.containerRect.width/g};break;case"horizontal-cover":m={width:r.containerRect.width,height:r.containerRect.width/g};break;case"vertical-cover":m={width:r.containerRect.height*g,height:r.containerRect.height};break}else m={width:u.offsetWidth,height:u.offsetHeight};r.mediaSize=wt(wt({},m),{naturalWidth:d,naturalHeight:f}),r.props.setMediaSize&&r.props.setMediaSize(r.mediaSize);var v=r.props.cropSize?r.props.cropSize:mM(r.mediaSize.width,r.mediaSize.height,r.containerRect.width,r.containerRect.height,r.props.aspect,r.props.rotation);return(((l=r.state.cropSize)===null||l===void 0?void 0:l.height)!==v.height||((c=r.state.cropSize)===null||c===void 0?void 0:c.width)!==v.width)&&r.props.onCropSizeChange&&r.props.onCropSizeChange(v),r.setState({cropSize:v},r.recomputeCropPosition),r.props.setCropSize&&r.props.setCropSize(v),v}},r.saveContainerPosition=function(){if(r.containerRef){var n=r.containerRef.getBoundingClientRect();r.containerPosition={x:n.left,y:n.top}}},r.onMouseDown=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("mousemove",r.onMouseMove),r.currentDoc.addEventListener("mouseup",r.onDragStopped),r.saveContainerPosition(),r.onDragStart(t.getMousePoint(n)))},r.onMouseMove=function(n){return r.onDrag(t.getMousePoint(n))},r.onScroll=function(n){r.currentDoc&&(n.preventDefault(),r.saveContainerPosition())},r.onTouchStart=function(n){r.currentDoc&&(r.isTouching=!0,!(r.props.onTouchRequest&&!r.props.onTouchRequest(n))&&(r.currentDoc.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.currentDoc.addEventListener("touchend",r.onDragStopped),r.saveContainerPosition(),n.touches.length===2?r.onPinchStart(n):n.touches.length===1&&r.onDragStart(t.getTouchPoint(n.touches[0]))))},r.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?r.onPinchMove(n):n.touches.length===1&&r.onDrag(t.getTouchPoint(n.touches[0]))},r.onGestureStart=function(n){r.currentDoc&&(n.preventDefault(),r.currentDoc.addEventListener("gesturechange",r.onGestureChange),r.currentDoc.addEventListener("gestureend",r.onGestureEnd),r.gestureZoomStart=r.props.zoom,r.gestureRotationStart=r.props.rotation)},r.onGestureChange=function(n){if(n.preventDefault(),!r.isTouching){var i=t.getMousePoint(n),a=r.gestureZoomStart-1+n.scale;if(r.setNewZoom(a,i,{shouldUpdatePosition:!0}),r.props.onRotationChange){var s=r.gestureRotationStart+n.rotation;r.props.onRotationChange(s)}}},r.onGestureEnd=function(n){r.cleanEvents()},r.onDragStart=function(n){var i,a,s=n.x,l=n.y;r.dragStartPosition={x:s,y:l},r.dragStartCrop=wt({},r.props.crop),(a=(i=r.props).onInteractionStart)===null||a===void 0||a.call(i)},r.onDrag=function(n){var i=n.x,a=n.y;r.currentWindow&&(r.rafDragTimeout&&r.currentWindow.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=r.currentWindow.requestAnimationFrame(function(){if(r.state.cropSize&&!(i===void 0||a===void 0)){var s=i-r.dragStartPosition.x,l=a-r.dragStartPosition.y,c={x:r.dragStartCrop.x+s,y:r.dragStartCrop.y+l},u=r.props.restrictPosition?Ua(c,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):c;r.props.onCropChange(u)}}))},r.onDragStopped=function(){var n,i;r.isTouching=!1,r.cleanEvents(),r.emitCropData(),(i=(n=r.props).onInteractionEnd)===null||i===void 0||i.call(n)},r.onWheel=function(n){if(r.currentWindow&&!(r.props.onWheelRequest&&!r.props.onWheelRequest(n))){n.preventDefault();var i=t.getMousePoint(n),a=pM(n).pixelY,s=r.props.zoom-a*r.props.zoomSpeed/200;r.setNewZoom(s,i,{shouldUpdatePosition:!0}),r.state.hasWheelJustStarted||r.setState({hasWheelJustStarted:!0},function(){var l,c;return(c=(l=r.props).onInteractionStart)===null||c===void 0?void 0:c.call(l)}),r.wheelTimer&&clearTimeout(r.wheelTimer),r.wheelTimer=r.currentWindow.setTimeout(function(){return r.setState({hasWheelJustStarted:!1},function(){var l,c;return(c=(l=r.props).onInteractionEnd)===null||c===void 0?void 0:c.call(l)})},250)}},r.getPointOnContainer=function(n,i){var a=n.x,s=n.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(a-i.x),y:r.containerRect.height/2-(s-i.y)}},r.getPointOnMedia=function(n){var i=n.x,a=n.y,s=r.props,l=s.crop,c=s.zoom;return{x:(i+l.x)/c,y:(a+l.y)/c}},r.setNewZoom=function(n,i,a){var s=a===void 0?{}:a,l=s.shouldUpdatePosition,c=l===void 0?!0:l;if(!(!r.state.cropSize||!r.props.onZoomChange)){var u=Xc(n,r.props.minZoom,r.props.maxZoom);if(c){var h=r.getPointOnContainer(i,r.containerPosition),d=r.getPointOnMedia(h),f={x:d.x*u-h.x,y:d.y*u-h.y},p=r.props.restrictPosition?Ua(f,r.mediaSize,r.state.cropSize,u,r.props.rotation):f;r.props.onCropChange(p)}r.props.onZoomChange(u)}},r.getCropData=function(){if(!r.state.cropSize)return null;var n=r.props.restrictPosition?Ua(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;return vM(n,r.mediaSize,r.state.cropSize,r.getAspect(),r.props.zoom,r.props.rotation,r.props.restrictPosition)},r.emitCropData=function(){var n=r.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(i,a),r.props.onCropAreaChange&&r.props.onCropAreaChange(i,a)}},r.emitCropAreaChange=function(){var n=r.getCropData();if(n){var i=n.croppedAreaPercentages,a=n.croppedAreaPixels;r.props.onCropAreaChange&&r.props.onCropAreaChange(i,a)}},r.recomputeCropPosition=function(){if(r.state.cropSize){var n=r.props.restrictPosition?Ua(r.props.crop,r.mediaSize,r.state.cropSize,r.props.zoom,r.props.rotation):r.props.crop;r.props.onCropChange(n),r.emitCropData()}},r.onKeyDown=function(n){var i,a,s=r.props,l=s.crop,c=s.onCropChange,u=s.keyboardStep,h=s.zoom,d=s.rotation,f=u;if(r.state.cropSize){n.shiftKey&&(f*=.2);var p=wt({},l);switch(n.key){case"ArrowUp":p.y-=f,n.preventDefault();break;case"ArrowDown":p.y+=f,n.preventDefault();break;case"ArrowLeft":p.x-=f,n.preventDefault();break;case"ArrowRight":p.x+=f,n.preventDefault();break;default:return}r.props.restrictPosition&&(p=Ua(p,r.mediaSize,r.state.cropSize,h,d)),n.repeat||(a=(i=r.props).onInteractionStart)===null||a===void 0||a.call(i),c(p)}},r.onKeyUp=function(n){var i,a;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}r.emitCropData(),(a=(i=r.props).onInteractionEnd)===null||a===void 0||a.call(i)},r}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=NM,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var r,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(r){var n,i,a,s,l,c,u,h,d;r.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):r.aspect!==this.props.aspect?this.computeSizes():r.objectFit!==this.props.objectFit?this.computeSizes():r.zoom!==this.props.zoom?this.recomputeCropPosition():((n=r.cropSize)===null||n===void 0?void 0:n.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=r.cropSize)===null||a===void 0?void 0:a.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((l=r.crop)===null||l===void 0?void 0:l.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((u=r.crop)===null||u===void 0?void 0:u.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),r.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),r.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},t.prototype.getAspect=function(){var r=this.props,n=r.cropSize,i=r.aspect;return n?n.width/n.height:i},t.prototype.getObjectFit=function(){var r,n,i,a;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,c=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,h=c/u;return h<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(r){var n=t.getTouchPoint(r.touches[0]),i=t.getTouchPoint(r.touches[1]);this.lastPinchDistance=w0(n,i),this.lastPinchRotation=j0(n,i),this.onDragStart(S0(n,i))},t.prototype.onPinchMove=function(r){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(r.touches[0]),a=t.getTouchPoint(r.touches[1]),s=S0(i,a);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=w0(i,a),c=n.props.zoom*(l/n.lastPinchDistance);n.setNewZoom(c,s,{shouldUpdatePosition:!1}),n.lastPinchDistance=l;var u=j0(i,a),h=n.props.rotation+(u-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(h),n.lastPinchRotation=u})}},t.prototype.render=function(){var r=this,n,i=this.props,a=i.image,s=i.video,l=i.mediaProps,c=i.cropperProps,u=i.transform,h=i.crop,d=h.x,f=h.y,p=i.rotation,g=i.zoom,m=i.cropShape,v=i.showGrid,b=i.roundCropAreaPixels,y=i.style,j=y.containerStyle,w=y.cropAreaStyle,x=y.mediaStyle,S=i.classes,N=S.containerClassName,_=S.cropAreaClassName,C=S.mediaClassName,E=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return P.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(A){return r.containerRef=A},"data-testid":"container",style:j,className:Is("reactEasyCrop_Container",N)},a?P.createElement("img",wt({alt:"",className:Is("reactEasyCrop_Image",E==="contain"&&"reactEasyCrop_Contain",E==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",E==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},l,{src:a,ref:this.imageRef,style:wt(wt({},x),{transform:u||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),onLoad:this.onMediaLoad})):s&&P.createElement("video",wt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Is("reactEasyCrop_Video",E==="contain"&&"reactEasyCrop_Contain",E==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",E==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:wt(wt({},x),{transform:u||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(p,"deg) scale(").concat(g,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(O){return P.createElement("source",wt({key:O.src},O))})),this.state.cropSize&&P.createElement("div",wt({ref:this.cropperRef,style:wt(wt({},w),{width:b?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:b?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Is("reactEasyCrop_CropArea",m==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",_)},c)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:_M,minZoom:OM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:EM},t.getMousePoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t.getTouchPoint=function(r){return{x:Number(r.clientX),y:Number(r.clientY)}},t}(P.Component);const Lw=(e,t,r)=>new Promise((n,i)=>{const a=new Image;a.src=e,a.onload=()=>{const s=document.createElement("canvas");s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(a,t.x,t.y,t.width,t.height,0,0,t.width,t.height),s.toBlob(c=>{if(!c){i(new Error("Canvas is empty"));return}const u=new File([c],r,{type:"image/jpeg"}),h=URL.createObjectURL(c);n({file:u,url:h})},"image/jpeg")},a.onerror=()=>i(new Error("Failed to load image"))});function AM({fileInputRef:e,optionalImageRef:t,imagenPreview:r,imagenOpcionalPreview:n,onImageChange:i,onOptionalImageChange:a,onRemoveOptionalImage:s}){const l=!!e,c=l?"Imagen principal":"Imagen opcional",u=l?r:n,[h,d]=P.useState(!1),[f,p]=P.useState({x:0,y:0}),[g,m]=P.useState(1),[v,b]=P.useState(null),[y,j]=P.useState(null),w=()=>{const _=l?e==null?void 0:e.current:t==null?void 0:t.current;_&&_.click()},x=(_,C)=>{b(C)},S=async()=>{if(!y||!v)return;const{file:_,url:C}=await Lw(y,v,"cropped.jpg");i({target:{files:[_]}}),j(null),d(!1)},N=_=>{var O;const C=(O=_.target.files)==null?void 0:O[0];if(!C)return;const E=URL.createObjectURL(C);l?(j(E),d(!0)):a(_)};return o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"mb-1 text-sm text-white font-semibold",children:c}),u?o.jsxs("div",{className:"relative w-full max-w-xs aspect-video border border-zinc-700 rounded overflow-hidden shadow-md",children:[o.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[o.jsx("button",{type:"button",onClick:w,className:"bg-zinc-600 hover:bg-zinc-500 text-white px-3 py-1 text-xs rounded shadow",children:"Reemplazar"}),!l&&o.jsx("button",{type:"button",onClick:s,className:"bg-zinc-600 hover:bg-zinc-500 text-white px-3 py-1 text-xs rounded shadow",children:"Quitar"})]}),o.jsx("img",{src:u,alt:"preview",className:"w-full h-full object-contain bg-black"})]}):o.jsxs("button",{type:"button",onClick:w,className:"bg-zinc-700 hover:bg-zinc-600 text-white px-3 py-2 rounded shadow text-sm",children:["Subir ",c]}),o.jsx("input",{type:"file",accept:"image/*",ref:l?e:t,onChange:N,className:"hidden"}),h&&y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",children:o.jsxs("div",{className:"bg-zinc-900 p-4 rounded shadow-lg max-w-lg w-full space-y-4",children:[o.jsx("div",{className:"relative w-full aspect-video bg-black",children:o.jsx(zw,{image:y,crop:f,zoom:g,aspect:16/9,onCropChange:p,onZoomChange:m,onCropComplete:x})}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-zinc-700 text-white rounded",children:"Cancelar"}),o.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded",children:"Usar imagen"})]})]})})]})}const At=[];for(let e=0;e<256;++e)At.push((e+256).toString(16).slice(1));function kM(e,t=0){return(At[e[t+0]]+At[e[t+1]]+At[e[t+2]]+At[e[t+3]]+"-"+At[e[t+4]]+At[e[t+5]]+"-"+At[e[t+6]]+At[e[t+7]]+"-"+At[e[t+8]]+At[e[t+9]]+"-"+At[e[t+10]]+At[e[t+11]]+At[e[t+12]]+At[e[t+13]]+At[e[t+14]]+At[e[t+15]]).toLowerCase()}let sd;const PM=new Uint8Array(16);function TM(){if(!sd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sd=crypto.getRandomValues.bind(crypto)}return sd(PM)}const CM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),N0={randomUUID:CM};function $M(e,t,r){var i;if(N0.randomUUID&&!t&&!e)return N0.randomUUID();e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??TM();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let a=0;a<16;++a)t[r+a]=n[a];return t}return kM(n)}function IM({form:e,setForm:t,editId:r,autorVisible:n,fileInputRef:i,optionalImageRef:a,imagenOpcionalPreview:s,handleInputChange:l,handleImageChange:c,handleOptionalImageChange:u,handleRemoveOptionalImage:h,handleContentChange:d,handleSubmit:f,handleCancelEdit:p,isUploadingAIMain:g=!1,isUploadingAIOptional:m=!1}){const[v,b]=P.useState({imageSrc:null,crop:{x:0,y:0},zoom:1,croppedAreaPixels:null,cropping:!1}),y=()=>e.titulo!==""||e.contenido!==""||e.imagen!==null||e.imagenPreview!==null||s!==null||e.destacada,j=N=>{const _=N.target.files[0];if(_&&_.type.startsWith("image/")){const C=new FileReader;C.onloadend=()=>{b(E=>({...E,imageSrc:C.result,cropping:!0}))},C.readAsDataURL(_)}},w=(N,_)=>{b(C=>({...C,croppedAreaPixels:_}))},x=async()=>{const N=await Lw(v.imageSrc,v.croppedAreaPixels,$M()+".jpeg");t(_=>({..._,imagen:N.file,imagenPreview:N.url})),b({imageSrc:null,crop:{x:0,y:0},zoom:1,croppedAreaPixels:null,cropping:!1})},S=()=>{b({imageSrc:null,crop:{x:0,y:0},zoom:1,croppedAreaPixels:null,cropping:!1})};return o.jsxs(o.Fragment,{children:[v.cropping&&o.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50",children:[o.jsx("div",{className:"relative w-80 h-80 bg-zinc-900 rounded border border-zinc-800 shadow",children:o.jsx(zw,{image:v.imageSrc,crop:v.crop,zoom:v.zoom,aspect:16/9,onCropChange:N=>b(_=>({..._,crop:N})),onZoomChange:N=>b(_=>({..._,zoom:N})),onCropComplete:w})}),o.jsxs("div",{className:"mt-4 flex gap-4",children:[o.jsx("button",{onClick:x,className:"btn-primary",children:"Confirmar recorte"}),o.jsx("button",{onClick:S,className:"btn-ghost",children:"Cancelar"})]})]}),o.jsxs("form",{id:"form-news",onSubmit:f,className:"admin-card p-5 mb-10 space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",name:"titulo",value:e.titulo,onChange:l,placeholder:"T√≠tulo",className:"admin-input",required:!0}),o.jsxs("select",{name:"categoria",value:e.categoria,onChange:l,className:"admin-select",children:[o.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Categor√≠as"}),o.jsx("option",{value:"General",children:"General"}),o.jsx("option",{value:"Pol√≠tica",children:"Pol√≠tica"}),o.jsx("option",{value:"Econom√≠a",children:"Econom√≠a"}),o.jsx("option",{value:"Internacional",children:"Internacional"}),o.jsx("option",{value:"Socio pol√≠tico",children:"Socio pol√≠tico"}),o.jsx("option",{value:"Tecnolog√≠a",children:"Tecnolog√≠a"})]})]}),o.jsxs("p",{className:"text-zinc-400 text-base",children:["Por: ",o.jsx("span",{className:"text-white",children:e.autor||n}),e.categoria&&o.jsxs("span",{className:"ml-2 text-white/50",children:["¬∑ Categor√≠a: ",o.jsx("span",{className:`${e.categoria==="Socio pol√≠tico"?"text-red-600":e.categoria==="Tecnolog√≠a"?"text-cyan-500":"text-white/80"}`,children:e.categoria})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",name:"destacada",checked:e.destacada,onChange:N=>t(_=>({..._,destacada:N.target.checked}))}),"Marcar como noticia destacada"]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-white",children:"Imagen principal (ajustar miniatura)"}),o.jsx("button",{type:"button",onClick:()=>{var N;return(N=i.current)==null?void 0:N.click()},className:"btn-ghost text-sm w-fit",children:"Subir imagen principal"}),o.jsx("input",{type:"file",accept:"image/*",ref:i,onChange:j,className:"hidden"}),e.imagenPreview&&o.jsx("img",{src:e.imagenPreview,alt:"Miniatura",className:"w-full max-w-xl max-h-64 object-cover rounded border border-zinc-700 shadow",style:{marginTop:"0.5rem"}})]}),o.jsx(AM,{fileInputRef:null,optionalImageRef:a,imagenPreview:null,imagenOpcionalPreview:s,onImageChange:()=>{},onOptionalImageChange:u,onRemoveOptionalImage:h}),o.jsx(Aw,{value:e.contenido,onChange:d,className:"bg-zinc-900 text-white rounded border border-zinc-800"}),o.jsxs("div",{className:"grid gap-2 border-t border-zinc-800 pt-4",children:[o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-white/90",children:[o.jsx("input",{type:"checkbox",name:"programar",checked:!!e.programar,onChange:l,className:"accent-red-600"}),"Publicar m√°s tarde"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("input",{type:"datetime-local",name:"publicarEl",value:e.publicarEl||"",onChange:l,disabled:!e.programar,className:"admin-input disabled:opacity-50",style:{textAlign:"center"}})}),o.jsx("p",{className:"text-xs text-white/50 text-center",children:"La hora se toma seg√∫n tu navegador (el backend guarda en UTC)."})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{type:"submit",disabled:!y()||g||m,className:"btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:g||m?"Procesando im√°genes IA...":r?"Actualizar":"Publicar"}),y()&&o.jsx("button",{type:"button",onClick:p,className:"btn-ghost text-sm",children:r?"Cancelar edici√≥n":"Cancelar publicaci√≥n"})]})]})]})}function MM({newsList:e,comments:t,expanded:r,onEdit:n,onDelete:i,onShare:a,onRescrape:s,onViewComments:l,onDeleteComment:c,countTotalComments:u,currentPage:h,totalPages:d,totalItems:f,uiTotalPages:p,setCurrentPage:g,filtros:m,setFiltros:v,onFilter:b,pageSize:y,setPageSize:j,counts:w,loadingList:x,loadingCounts:S}){const N=R=>{const{name:U,value:D}=R.target;v(F=>({...F,[U]:D}))},_=R=>{const U={...m,statusFilter:R};v(U),b({statusFilter:R,page:1})},C=()=>{b({...m,page:1})},E=R=>{R>=1&&R<=p&&!x&&(g(R),b({...m,page:R}))},O=G.useMemo(()=>{const R=e||[];return(m==null?void 0:m.statusFilter)==="scheduled"?R.filter(U=>(U==null?void 0:U.status)==="scheduled"):(m==null?void 0:m.statusFilter)==="published"?R.filter(U=>(U==null?void 0:U.status)==="published"):R},[e,m==null?void 0:m.statusFilter]),A=G.useMemo(()=>{const R=O.reduce((U,D)=>{const F=D.categoria||"General";return U[F]||(U[F]=[]),U[F].push(D),U},{});return Object.keys(R).forEach(U=>{(m==null?void 0:m.statusFilter)==="scheduled"?R[U].sort((D,F)=>new Date(D.publishAt||0)-new Date(F.publishAt||0)):R[U].sort((D,F)=>new Date(F.createdAt)-new Date(D.createdAt))}),R},[O,m==null?void 0:m.statusFilter]),k=!x&&O.length===0,$=(m==null?void 0:m.statusFilter)==="published"?(w==null?void 0:w.published)??f:(m==null?void 0:m.statusFilter)==="scheduled"?(w==null?void 0:w.scheduled)??f:(w==null?void 0:w.all)??f,I=R=>{var D,F;const U=R.facebook_status||((F=(D=R.share)==null?void 0:D.fb)==null?void 0:F.status);return U==="published"||U==="posted"||U==="confirmed"?"green":U==="sharing"?"yellow":U==="error"?"red":"gray"},T=R=>{var F,M,L,z;const U=R.facebook_status||((M=(F=R.share)==null?void 0:F.fb)==null?void 0:M.status),D=R.facebook_last_error||((z=(L=R.share)==null?void 0:L.fb)==null?void 0:z.error);switch(U){case"published":case"posted":case"confirmed":return"‚úÖ Compartido en Facebook";case"sharing":return"‚è≥ Publicando en Facebook...";case"error":return`‚ùå Error: ${D||"Error al compartir"}`;default:return"‚ö´ Pendiente de compartir en Facebook"}};return o.jsxs("div",{className:"mt-6 sm:mt-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-end justify-between gap-3 sm:gap-4 mb-4",children:[o.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-4 flex-1 min-w-0",children:[o.jsx("input",{type:"text",name:"search",value:m.search,onChange:N,onKeyDown:R=>R.key==="Enter"&&C(),placeholder:"Buscar por t√≠tulo",className:"bg-zinc-900 border border-zinc-700 rounded px-3 py-2"}),o.jsxs("select",{name:"categoria",value:m.categoria,onChange:N,className:"bg-zinc-900 border border-zinc-700 rounded px-3 py-2",children:[o.jsx("option",{value:"",children:"Categor√≠as"}),o.jsx("option",{value:"General",children:"General"}),o.jsx("option",{value:"Pol√≠tica",children:"Pol√≠tica"}),o.jsx("option",{value:"Econom√≠a",children:"Econom√≠a"}),o.jsx("option",{value:"Internacional",children:"Internacional"}),o.jsx("option",{value:"Socio pol√≠tico",children:"Socio pol√≠tico"}),o.jsx("option",{value:"Tecnolog√≠a",children:"Tecnolog√≠a"})]}),o.jsx("input",{type:"date",name:"fechaDesde",value:m.fechaDesde,onChange:N,className:"bg-zinc-900 border border-zinc-700 rounded px-3 py-2"}),o.jsx("input",{type:"date",name:"fechaHasta",value:m.fechaHasta,onChange:N,className:"bg-zinc-900 border border-zinc-700 rounded px-3 py-2"})]}),o.jsx("button",{onClick:C,className:"h-11 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white font-medium transition-colors w-full sm:w-auto",children:"Aplicar filtros"})]}),o.jsx("div",{className:"mb-4 sticky top-0 z-30 bg-zinc-950/95 backdrop-blur-sm py-3 -mx-3 sm:-mx-4 px-3 sm:px-4",children:o.jsx("div",{className:"flex items-center gap-1 bg-zinc-900 p-1 rounded-lg border border-zinc-700 w-full sm:w-fit overflow-x-auto no-scrollbar",children:[{key:"all",label:"Todas"},{key:"published",label:"Publicadas"},{key:"scheduled",label:"Programadas"}].map(({key:R,label:U})=>o.jsx("button",{onClick:()=>_(R),className:`flex-shrink-0 px-4 py-2 text-sm rounded-md transition-all duration-200 ${(m==null?void 0:m.statusFilter)===R?"bg-red-600 text-white":"text-white/70 hover:text-white hover:bg-zinc-800"}`,role:"tab","aria-selected":(m==null?void 0:m.statusFilter)===R,"aria-current":(m==null?void 0:m.statusFilter)===R?"true":void 0,"aria-label":`${U} - ${w?S?"cargando":w[R]||0:""} noticias`,children:o.jsxs("span",{className:"whitespace-nowrap",children:[U,w&&o.jsxs("span",{className:"ml-1.5 text-xs opacity-75",children:["(",S?"‚Ä¶":w[R]||0,")"]})]})},R))})}),o.jsxs("div",{className:"mb-4 text-white/80",children:["Total de noticias: ",o.jsx("span",{className:"font-semibold text-white",children:$})]}),x?o.jsx("div",{className:"space-y-4",children:Array.from({length:3},(R,U)=>o.jsx("div",{className:"border border-zinc-700 rounded-lg p-4 bg-zinc-900 animate-pulse",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-20 h-16 bg-zinc-700 rounded"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-zinc-700 rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-zinc-700 rounded w-1/2"})]})]})},U))}):k?o.jsx("div",{className:"p-6 border border-zinc-800 rounded-lg bg-zinc-900 text-center text-white/70",children:(m==null?void 0:m.statusFilter)==="scheduled"?"No hay noticias programadas con los filtros aplicados.":(m==null?void 0:m.statusFilter)==="published"?"No hay noticias publicadas con los filtros aplicados.":"No hay resultados para los filtros aplicados."}):Object.entries(A).map(([R,U])=>o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:["Categor√≠a: ",R]}),o.jsx("div",{className:"space-y-4",children:U.map(D=>{var z,K,W,B,H,q,V,Y,J,X,ne,ie,ae;const F=D.status==="scheduled",M=D.publishAt?new Date(D.publishAt).toLocaleString():"",L=D.publishedAt||D.createdAt?new Date(D.publishedAt||D.createdAt).toLocaleString():"";return o.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900/60 backdrop-blur p-3 sm:p-4",children:[o.jsxs("div",{className:"grid grid-cols-[56px,1fr,auto] sm:grid-cols-[72px,1fr,auto] gap-3 items-start",children:[D.imagen&&o.jsx("div",{className:"w-14 h-14 sm:w-18 sm:h-18 flex-shrink-0",children:o.jsx("img",{src:D.imagen,alt:D.titulo,className:"w-full h-full object-cover rounded-lg border border-zinc-800"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-white mb-1 line-clamp-3 break-words leading-tight",children:[D.titulo,F&&o.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 text-xs rounded-full border border-yellow-500/30 bg-yellow-500/10 text-yellow-300 whitespace-nowrap",children:["Programada ‚Ä¢ ",M]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs sm:text-[13px] text-zinc-400",children:[F?o.jsxs("span",{children:["Programada: ",M]}):o.jsxs("span",{children:["Publicada: ",L]}),o.jsx("span",{children:"¬∑"}),o.jsxs("span",{children:["Autor: ",D.autor||"An√≥nimo"]}),o.jsx("span",{children:"¬∑"}),o.jsxs("span",{children:["(",D.categoria||"General",")"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 sm:gap-2 flex-shrink-0",children:[o.jsx("div",{title:T(D),"aria-label":T(D),children:o.jsx(SN,{size:12,className:`fill-current transition-colors ${I(D)==="green"?"text-green-500":I(D)==="yellow"?"text-yellow-500 animate-pulse":I(D)==="red"?"text-red-500":"text-gray-500"}`})}),D.facebook_status==="error"||((K=(z=D.share)==null?void 0:z.fb)==null?void 0:K.status)==="error"?o.jsx("button",{onClick:()=>a&&a(D._id),title:"Reintentar publicaci√≥n en Facebook","aria-label":"Reintentar publicaci√≥n en Facebook",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 text-yellow-400 hover:text-yellow-300 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M1 4v6h6M23 20v-6h-6"}),o.jsx("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})]})}):o.jsx("button",{onClick:()=>a&&a(D._id),title:D.status==="scheduled"?"No se puede compartir - noticia programada":D.facebook_status==="published"||((B=(W=D.share)==null?void 0:W.fb)==null?void 0:B.status)==="posted"?"Ya compartido en Facebook":D.facebook_status==="sharing"?"Publicando en Facebook...":"Compartir en Facebook","aria-label":D.status==="scheduled"?"No se puede compartir - noticia programada":D.facebook_status==="published"||((q=(H=D.share)==null?void 0:H.fb)==null?void 0:q.status)==="posted"?"Ya compartido en Facebook":"Compartir en Facebook",disabled:D.status==="scheduled"||D.facebook_status==="sharing"||D.facebook_status==="published"||((Y=(V=D.share)==null?void 0:V.fb)==null?void 0:Y.status)==="posted",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-sky-500",children:o.jsx(NN,{size:16,className:D.facebook_status==="published"||((X=(J=D.share)==null?void 0:J.fb)==null?void 0:X.status)==="posted"?"text-gray-400":"text-blue-500"})}),(D.facebook_permalink_url||((ie=(ne=D.share)==null?void 0:ne.fb)==null?void 0:ie.permalink))&&o.jsx("a",{href:D.facebook_permalink_url||D.share.fb.permalink,target:"_blank",rel:"noopener noreferrer",title:"Ver publicaci√≥n en Facebook","aria-label":"Ver publicaci√≥n en Facebook",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.jsx(sn,{size:16,className:"text-blue-400"})}),D.status==="published"&&o.jsx("button",{onClick:()=>s&&s(D._id),title:"Re-scrapear en Facebook (actualiza la miniatura)","aria-label":"Re-scrapear en Facebook",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 text-purple-400 hover:text-purple-300 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500",children:o.jsx(Ix,{size:16})}),o.jsx("button",{onClick:()=>n(D),title:"Editar","aria-label":"Editar noticia",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500",children:o.jsx(ON,{size:16,className:"text-yellow-400"})}),o.jsx("button",{onClick:()=>i(D._id),title:"Eliminar","aria-label":"Eliminar noticia",className:"h-10 w-10 grid place-items-center rounded-xl hover:bg-zinc-800/70 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500",children:o.jsx(vr,{size:16,className:"text-red-500"})}),o.jsx("button",{onClick:()=>l(D._id),title:"Ver comentarios","aria-label":`Ver comentarios (${t[D._id]?u(t[D._id]):0})`,className:"h-10 min-w-[44px] px-2 grid place-items-center rounded-xl hover:bg-zinc-800/70 text-white/70 hover:text-blue-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(go,{size:16}),t[D._id]&&o.jsx("span",{className:"text-xs font-semibold",children:u(t[D._id])})]})})]})]}),t[D._id]&&o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Comentarios: ",t[D._id].length]}),(r==null?void 0:r[D._id])&&((ae=t[D._id])==null?void 0:ae.length)>0&&o.jsx("div",{className:"mt-4 border-top border-white/10 pt-4"})]},D._id)})})]},R)),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-8 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[o.jsx("button",{onClick:()=>E(h-1),disabled:h<=1||x,className:"h-11 px-4 bg-zinc-800 rounded-lg hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-1 sm:flex-none","aria-label":"P√°gina anterior",children:"Anterior"}),o.jsxs("span",{className:"text-white text-sm sm:text-base whitespace-nowrap",children:["P√°gina ",Math.min(h,p)," de ",p]}),o.jsx("button",{onClick:()=>E(h+1),disabled:h>=p||x,className:"h-11 px-4 bg-zinc-800 rounded-lg hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-1 sm:flex-none","aria-label":"P√°gina siguiente",children:"Siguiente"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-white/70 text-sm",children:"Por p√°gina:"}),o.jsxs("select",{className:"bg-zinc-900 border border-zinc-700 rounded px-2 py-1",value:y,onChange:R=>{const U=Number(R.target.value)||10;j(U),b({page:1})},children:[o.jsx("option",{value:5,children:"5"}),o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"}),o.jsx("option",{value:50,children:"50"})]})]})]})]})}const Qr={BASE_MAIN:1024,BASE_OPT:768,PREVIEW:512,MAX_ATTEMPTS_MAIN:1,MAX_ATTEMPTS_OPT:1,DAILY_LIMIT:40},Ms=(e,t,r,n)=>{const i=`${e}|${t}|${r}|${n}`;let a=0;for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);a=(a<<5)-a+l,a=a&a}return`ai-img-${Math.abs(a)}`},zM=async(e,t)=>{if(!e||!t||e===t)return!0;try{const r=new Image,n=new Image;r.crossOrigin="anonymous",n.crossOrigin="anonymous",await Promise.all([new Promise((g,m)=>{r.onload=g,r.onerror=m,r.src=e}),new Promise((g,m)=>{n.onload=g,n.onerror=m,n.src=t})]);const i=8,a=document.createElement("canvas"),s=document.createElement("canvas");a.width=a.height=i,s.width=s.height=i;const l=a.getContext("2d"),c=s.getContext("2d");l.drawImage(r,0,0,i,i),c.drawImage(n,0,0,i,i);const u=l.getImageData(0,0,i,i).data,h=c.getImageData(0,0,i,i).data;let d=0;for(let g=0;g<u.length;g+=4)d+=Math.abs(u[g]-h[g]),d+=Math.abs(u[g+1]-h[g+1]),d+=Math.abs(u[g+2]-h[g+2]);const f=i*i*3*255,p=1-d/f;return console.log(`[AI Similarity] Similitud: ${(p*100).toFixed(1)}%`),p>.85}catch(r){return console.error("[AI Similarity] Error comparando im√°genes:",r),!1}};function LM({newsId:e,title:t,content:r,disabled:n=!1,onPickCover:i,onPickSecondary:a,onTempChange:s}){const[l,c]=P.useState("realista"),[u,h]=P.useState({main:null,secondary:null}),[d,f]=P.useState(!1),[p,g]=P.useState(!1),[m,v]=P.useState(!1),[b,y]=P.useState(!1),[j,w]=P.useState(!1),[x,S]=P.useState(null),[N,_]=P.useState(!1),[C,E]=P.useState(0),[O]=P.useState(()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"temp-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)),[A,k]=P.useState({coverUrl:null,secondaryUrl:null}),[$,I]=P.useState(()=>{try{const L=localStorage.getItem("ai-image-cache");return L?JSON.parse(L):{}}catch{return{}}}),T=(!!e||!!O)&&!m&&!b&&!j&&!N&&C<Qr.DAILY_LIMIT;P.useEffect(()=>{try{localStorage.setItem("ai-image-cache",JSON.stringify($))}catch(L){console.error("[AI Cache] Error guardando cache:",L)}},[$]),P.useEffect(()=>{const L=new Date().toDateString(),z=localStorage.getItem(`ai-daily-count-${L}`);E(z?parseInt(z):0),Object.keys(localStorage).forEach(K=>{K.startsWith("ai-daily-count-")&&!K.includes(L)&&localStorage.removeItem(K)})},[]),P.useEffect(()=>{if(!e&&O)try{const L=sessionStorage.getItem(`ai-temp-${O}`);if(L){const z=JSON.parse(L);k(z)}}catch(L){console.error("[AI] Error cargando datos temporales:",L)}},[O,e]),P.useEffect(()=>{!e&&s&&s({tempId:O,...A})},[A,O,e,s]);const R=()=>{const L=new Date().toDateString(),z=C+1;E(z),localStorage.setItem(`ai-daily-count-${L}`,z.toString())},U=async()=>{var L,z,K,W,B,H;if(!(!T||!e&&!O)){S(null),v(!0),f(!1);try{const q=Ms(t,r,l,"main"),V=Ms(t,r,l,"optional");if($[q]&&$[V]){console.log("[AI Cache] Usando im√°genes desde cache"),h({main:$[q],secondary:$[V]}),f(!0);return}console.log("[AI Preview] Generando preview de portada...");const Y=await fetch("/api/ai/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t||"",content:r||"",style:l,size:Qr.PREVIEW,n:1,role:"main",...e?{newsId:e}:{tempId:O}})});if(!Y.ok){const ae=await Y.json().catch(()=>({}));throw(ae==null?void 0:ae.code)==="billing_hard_limit_reached"?(_(!0),new Error("Se alcanz√≥ el l√≠mite de facturaci√≥n. Por favor contacta soporte.")):(ae==null?void 0:ae.code)==="ORG_NOT_VERIFIED"||ae!=null&&ae.message&&ae.message.includes("must be verified")?new Error("Tu organizaci√≥n debe estar verificada para usar gpt-image-1. Verifica en OpenAI y reintenta."):new Error((ae==null?void 0:ae.message)||"Error al generar preview de portada")}const J=await Y.json(),X=(z=(L=J==null?void 0:J.images)==null?void 0:L[0])==null?void 0:z.url;if(!X)throw new Error("No se pudo generar preview de portada");R(),console.log("[AI Preview] Generando preview secundaria...");let ne=!1,ie=null;try{const ae=await fetch("/api/ai/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t||"",content:r||"",style:l,size:Qr.PREVIEW,n:1,role:"optional",...e?{newsId:e}:{tempId:O}})});if(ae.ok){const ge=await ae.json();ie=(W=(K=ge==null?void 0:ge.images)==null?void 0:K[0])==null?void 0:W.url,ie?R():ne=!0}else{const ge=await ae.json().catch(()=>({}));if((ge==null?void 0:ge.code)==="billing_hard_limit_reached")throw _(!0),new Error("Se alcanz√≥ el l√≠mite de facturaci√≥n.");console.error("[AI Preview] Error generando secundaria:",(ge==null?void 0:ge.message)||ae.status),ne=!0}}catch(ae){console.error("[AI Preview] Error generando secundaria:",ae.message),ne=!0}if(ne){S("No se pudo generar la imagen secundaria. Puedes activar 'Usar la misma imagen para secundaria' o reintentar."),h({main:X,secondary:null}),f(!0);return}if(ie&&ie!==X&&await zM(X,ie)){console.log("[AI Preview] Im√°genes detectadas como muy similares, regenerando secundaria...");try{const ge=await fetch("/api/ai/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t||"",content:r||"",style:l,size:Qr.PREVIEW,n:1,role:"optional",variation:Date.now(),...e?{newsId:e}:{tempId:O}})});if(ge.ok){const he=await ge.json(),Q=(H=(B=he==null?void 0:he.images)==null?void 0:B[0])==null?void 0:H.url;Q&&(console.log("[AI Preview] Secundaria regenerada exitosamente"),ie=Q,R())}}catch(ge){console.error("[AI Preview] Error regenerando secundaria:",ge)}}h({main:X,secondary:ie||null}),f(!0)}catch(q){S(q.message)}finally{v(!1)}}},D=async()=>{var L,z,K,W;if(!(!u.main||!e&&!O)){if(!u.secondary&&!p){S("Debes tener una imagen secundaria o activar 'Usar la misma imagen para secundaria'");return}S(null);try{y(!0),console.log("[AI HQ] Generando portada en alta calidad...");const B=await fetch("/api/ai/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t||"",content:r||"",style:l,size:Qr.BASE_MAIN,n:1,role:"main",square:!0,...e?{newsId:e}:{tempId:O}})});if(!B.ok){const Y=await B.json().catch(()=>({}));throw(Y==null?void 0:Y.code)==="billing_hard_limit_reached"?(_(!0),new Error("Se alcanz√≥ el l√≠mite de facturaci√≥n.")):new Error((Y==null?void 0:Y.message)||"Error al generar portada HQ")}const H=await B.json(),q=(z=(L=H==null?void 0:H.images)==null?void 0:L[0])==null?void 0:z.url;if(!q)throw new Error("No se pudo generar portada HQ");const V=Ms(t,r,l,"main");if(I(Y=>({...Y,[V]:q})),i&&await i(q),y(!1),R(),!p&&u.secondary){w(!0),console.log("[AI HQ] Generando secundaria en alta calidad...");let Y=!1,J=null;try{const X=await fetch("/api/ai/images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t||"",content:r||"",style:l,size:Qr.BASE_OPT,n:1,role:"optional",...e?{newsId:e}:{tempId:O}})});if(X.ok){const ne=await X.json();J=(W=(K=ne==null?void 0:ne.images)==null?void 0:K[0])==null?void 0:W.url,J||(Y=!0)}else{const ne=await X.json().catch(()=>({}));if((ne==null?void 0:ne.code)==="billing_hard_limit_reached")throw _(!0),new Error("Se alcanz√≥ el l√≠mite de facturaci√≥n.");console.error("[AI HQ] Error generando secundaria HQ:",(ne==null?void 0:ne.message)||X.status),Y=!0}}catch(X){console.error("[AI HQ] Error generando secundaria HQ:",X.message),Y=!0}if(w(!1),Y)if(window.confirm("No se pudo generar la imagen secundaria en alta calidad. ¬øDeseas usar la imagen principal tambi√©n como secundaria?"))console.log("[AI HQ] Usuario eligi√≥ usar portada como secundaria"),a&&await a(q);else throw new Error("Generaci√≥n de imagen secundaria cancelada por el usuario");else if(J){const X=Ms(t,r,l,"optional");I(ne=>({...ne,[X]:J})),a&&await a(J),R()}}else(p||!u.secondary)&&(console.log("[AI HQ] Usando misma imagen para secundaria (elecci√≥n del usuario)"),a&&await a(q));f(!1),h({main:null,secondary:null}),alert("‚úÖ Im√°genes generadas y aplicadas correctamente")}catch(B){S(B.message)}finally{y(!1),w(!1)}}},F=()=>{f(!1),h({main:null,secondary:null})},M=m||b||j;return o.jsxs("fieldset",{className:"mt-6 border border-zinc-700 rounded-lg p-4",children:[o.jsx("legend",{className:"px-2 text-white/80",children:"Generar im√°genes con IA"}),n&&o.jsx("div",{className:"mb-3 text-xs text-white/60",children:!t||!r?"Completa el t√≠tulo y contenido para generar im√°genes con IA.":"Guarda la noticia para habilitar la generaci√≥n con IA."}),N&&o.jsx("div",{className:"mb-3 p-2 bg-red-900/30 border border-red-700 rounded text-xs text-red-200",children:"‚ö†Ô∏è Se alcanz√≥ el l√≠mite de facturaci√≥n. Por favor contacta soporte."}),C>=Qr.DAILY_LIMIT&&o.jsxs("div",{className:"mb-3 p-2 bg-yellow-900/30 border border-yellow-700 rounded text-xs text-yellow-200",children:["‚ö†Ô∏è Has alcanzado el l√≠mite diario de ",Qr.DAILY_LIMIT," generaciones."]}),d?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded p-4",children:[o.jsx("h3",{className:"text-sm font-medium mb-3 text-white",children:"Vista previa de im√°genes generadas"}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Portada (se generar√° en 1024px)"}),o.jsx("img",{src:u.main,alt:"Preview portada",className:"w-full aspect-square object-cover rounded border border-zinc-700"})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs text-white/60 mb-1",children:["Secundaria ",p?"(usar√° la misma)":"(se generar√° en 768px)"]}),u.secondary||p?o.jsx("img",{src:p?u.main:u.secondary,alt:"Preview secundaria",className:"w-full aspect-square object-cover rounded border border-zinc-700"}):o.jsx("div",{className:"w-full aspect-square bg-zinc-800 rounded border border-zinc-700 flex items-center justify-center",children:o.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:'No se pudo generar preview secundaria. Activa "Usar la misma imagen" o reintenta.'})})]})]}),o.jsxs("div",{className:"mt-4 flex gap-2 justify-end",children:[o.jsx("button",{onClick:F,disabled:M,className:"px-3 py-1.5 bg-zinc-700 hover:bg-zinc-600 rounded text-white disabled:opacity-60",children:"Cancelar"}),o.jsx("button",{onClick:D,disabled:M,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 rounded text-white disabled:opacity-60",children:b?"Generando portada HQ‚Ä¶":j?"Generando secundaria HQ‚Ä¶":"Confirmar y generar en alta calidad"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[o.jsx("label",{className:"text-sm text-white/80",children:"Estilo:"}),o.jsxs("select",{className:"bg-zinc-900 border border-zinc-700 rounded px-3 py-2",value:l,onChange:L=>c(L.target.value),disabled:n||M,children:[o.jsx("option",{value:"realista",children:"Foto realista"}),o.jsx("option",{value:"ilustracion",children:"Ilustraci√≥n"}),o.jsx("option",{value:"infografia",children:"Infograf√≠a"})]}),o.jsx("button",{onClick:U,disabled:!T||!(t!=null&&t.trim())||!(r!=null&&r.trim()),className:"ml-auto px-3 py-1.5 bg-red-600 hover:bg-red-700 rounded text-white disabled:opacity-60",children:m?"Generando previews‚Ä¶":"Generar 2 (Portada + Opcional)"})]}),o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"useSameForSecondary",checked:p,onChange:L=>g(L.target.checked),className:"rounded border-zinc-600"}),o.jsx("label",{htmlFor:"useSameForSecondary",className:"text-sm text-white/70",children:"Usar la misma imagen para secundaria (ahorra cr√©ditos)"})]})]}),x&&o.jsxs("div",{className:"mt-3 text-sm text-red-400",children:[x,x.includes("verificada")&&o.jsx("div",{className:"mt-1",children:o.jsx("a",{href:"https://platform.openai.com/settings/organization/general",target:"_blank",rel:"noreferrer",className:"underline",children:"Abrir verificaci√≥n de organizaci√≥n"})})]}),M&&o.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-white/60",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white/20 border-t-white rounded-full"}),o.jsx("span",{children:m?"Generando vistas previas...":b?"Generando portada en alta calidad...":j?"Generando imagen secundaria...":"Procesando..."})]}),o.jsxs("div",{className:"mt-4 text-xs text-white/40",children:[o.jsx("p",{children:"‚Ä¢ Las im√°genes se generan primero en baja resoluci√≥n (512px) para preview"}),o.jsx("p",{children:"‚Ä¢ Al confirmar, se generan en alta calidad: portada (1024px) y secundaria (768px)"}),o.jsx("p",{children:"‚Ä¢ La variante 16:9 de la portada se deriva autom√°ticamente sin costo adicional"}),o.jsxs("p",{children:["‚Ä¢ Generaciones hoy: ",C," / ",Qr.DAILY_LIMIT]})]})]})}function RM({newsId:e,newsTitle:t,onClose:r}){const[n,i]=P.useState([]),[a,s]=P.useState(0),[l,c]=P.useState(!0),[u,h]=P.useState(null),[d,f]=P.useState(null);P.useEffect(()=>{e&&p()},[e]);const p=async()=>{c(!0),h(null);try{const b=localStorage.getItem("token"),y=await fetch(`/api/admin/news/${e}/comments`,{headers:{Authorization:`Bearer ${b}`}});if(!y.ok)throw new Error("Error al cargar comentarios");const j=await y.json();i(j.comentarios||[]),s(j.total||0)}catch(b){h(b.message)}finally{c(!1)}},g=async(b,y=!1)=>{const j=y?"¬øEliminar permanentemente este comentario y todas sus respuestas?":"¬øMarcar este comentario como eliminado?";if(window.confirm(j)){f(b);try{const w=localStorage.getItem("token"),x=y?`/api/admin/comments/${b}/hard`:`/api/admin/comments/${b}`;if(!(await fetch(x,{method:"DELETE",headers:{Authorization:`Bearer ${w}`}})).ok)throw new Error("Error al eliminar");await p()}catch(w){alert(`Error: ${w.message}`)}finally{f(null)}}},m=b=>{const y=Math.floor((new Date-new Date(b))/1e3);return y<60?"hace unos segundos":y<3600?`hace ${Math.floor(y/60)} min`:y<86400?`hace ${Math.floor(y/3600)} h`:`hace ${Math.floor(y/86400)} d√≠as`},v=({comment:b,level:y=0})=>{var w,x,S,N,_;const j=b.deletedAt||((w=b.contenido)==null?void 0:w.includes("[Comentario eliminado"))||((x=b.texto)==null?void 0:x.includes("[Comentario eliminado"));return o.jsx("div",{className:`${y>0?"ml-8 mt-2":"mt-3"}`,children:o.jsxs("div",{className:`bg-zinc-800 rounded-lg p-4 border ${j?"border-red-900 bg-red-950/20":"border-zinc-700"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(En,{className:"w-4 h-4 text-zinc-400"}),o.jsx("span",{className:"text-sm font-medium text-white",children:b.usuario||((S=b.userId)==null?void 0:S.name)||"An√≥nimo"}),o.jsxs("span",{className:"text-xs text-zinc-500",children:["¬∑ ",m(b.createdAt)]}),y>0&&o.jsx("span",{className:"text-xs text-blue-400",children:"Respuesta"})]}),o.jsx("p",{className:`text-sm ${j?"text-red-400 italic":"text-zinc-300"}`,children:b.contenido||b.texto||b.mensaje}),((N=b.userId)==null?void 0:N.email)&&o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:b.userId.email})]}),o.jsx("div",{className:"flex gap-2",children:!j&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>g(b._id,!1),disabled:d===b._id,className:"p-2 bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-400 rounded transition disabled:opacity-50",title:"Soft delete",children:o.jsx(vr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(b._id,!0),disabled:d===b._id,className:"p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded transition disabled:opacity-50",title:"Eliminar permanentemente",children:o.jsx(Ut,{className:"w-4 h-4"})})]})})]}),((_=b.respuestas)==null?void 0:_.length)>0&&o.jsx("div",{className:"mt-3 space-y-2",children:b.respuestas.map(C=>o.jsx(v,{comment:C,level:y+1},C._id))})]})})};return o.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-zinc-900 rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col border border-zinc-700",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(go,{className:"w-6 h-6 text-blue-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gesti√≥n de Comentarios"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:t})]})]}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-lg transition",children:o.jsx(Ut,{className:"w-5 h-5 text-zinc-400"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):u?o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[o.jsx(or,{className:"w-5 h-5"}),o.jsxs("span",{children:["Error: ",u]})]})}):n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(go,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),o.jsx("p",{className:"text-zinc-400",children:"No hay comentarios en esta noticia"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-4 text-sm text-zinc-400",children:["Total: ",a," comentario",a!==1?"s":""]}),o.jsx("div",{className:"space-y-3",children:n.map(b=>o.jsx(v,{comment:b},b._id))})]})}),o.jsxs("div",{className:"p-4 border-t border-zinc-700 flex justify-between items-center",children:[o.jsxs("div",{className:"text-xs text-zinc-500",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 mr-4",children:[o.jsx(vr,{className:"w-3 h-3 text-yellow-400"}),"Soft delete"]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Ut,{className:"w-3 h-3 text-red-400"}),"Hard delete"]})]}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition",children:"Cerrar"})]})]})})}function DM({newsId:e,onClose:t}){const[r,n]=P.useState([]),[i,a]=P.useState(!0),[s,l]=P.useState({});P.useEffect(()=>{c()},[e]);const c=async()=>{a(!0);try{const g=await fetch(`/api/comments/${e}`);if(g.ok){const m=await g.json();n(m);const v={};m==null||m.forEach(b=>{b.respuestas&&b.respuestas.length>0&&(v[b._id]=!0)}),l(v)}}catch(g){console.error("Error al cargar comentarios:",g)}finally{a(!1)}},u=async g=>{if(!window.confirm("¬øEst√°s seguro de que quieres eliminar este comentario?"))return;const m=localStorage.getItem("token");try{(await fetch(`/api/comments/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${m}`}})).ok&&await c()}catch(v){console.error("Error al eliminar comentario:",v)}},h=g=>{l(m=>({...m,[g]:!m[g]}))},d=g=>new Date(g).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=g=>{g.target===g.currentTarget&&t()},p=(g,m=0)=>{var v;return o.jsxs("div",{className:"relative",children:[m>0&&o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-blue-500/30",style:{marginLeft:`${(m-1)*1.5+.75}rem`}}),o.jsxs("div",{className:`
          bg-zinc-800/80 border border-zinc-700/50 rounded-lg mb-3 p-4 
          hover:bg-zinc-800 transition-all duration-200
          ${m>0?"ml-6 border-l-2 border-l-blue-500/50":""}
        `,style:{marginLeft:m>0?`${m*1.5}rem`:"0"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("div",{className:"flex items-center gap-2 flex-1",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[o.jsx(En,{size:12}),o.jsx("span",{className:"font-medium text-white/80",children:((v=g.usuario)==null?void 0:v.name)||"Usuario an√≥nimo"}),o.jsx("span",{children:"‚Ä¢"}),o.jsx(Mx,{size:12}),o.jsx("span",{children:d(g.createdAt)}),m>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"‚Ä¢"}),o.jsx(go,{size:12}),o.jsx("span",{className:"text-blue-400",children:"Respuesta"})]})]})}),o.jsx("button",{onClick:()=>u(g._id),className:"flex items-center justify-center w-8 h-8 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all duration-200 group",title:"Eliminar comentario",children:o.jsx(vr,{size:14,className:"group-hover:scale-110 transition-transform"})})]}),o.jsx("div",{className:"mb-3",children:o.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:g.texto})}),g.respuestas&&g.respuestas.length>0&&o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>h(g._id),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors bg-blue-500/10 hover:bg-blue-500/20 px-2 py-1 rounded-full",children:s[g._id]?o.jsxs(o.Fragment,{children:[o.jsx(vo,{size:12}),"Ocultar ",g.respuestas.length," respuesta",g.respuestas.length>1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Mc,{size:12}),"Ver ",g.respuestas.length," respuesta",g.respuestas.length>1?"s":""]})})})]}),g.respuestas&&g.respuestas.length>0&&s[g._id]&&o.jsx("div",{className:"relative",children:g.respuestas.map(b=>p(b,m+1))})]},g._id)};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:f,children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-700/50 rounded-lg w-full max-w-4xl max-h-[85vh] flex flex-col shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-700/50",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Comentarios"}),o.jsx("button",{onClick:t,className:"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-800 hover:bg-zinc-700 text-white/70 hover:text-white transition-all duration-200",children:o.jsx(Ut,{size:18})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-white/60",children:"Cargando comentarios..."})}):r.length===0?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-white/60",children:"No hay comentarios a√∫n"})}):o.jsx("div",{children:r.map(g=>p(g,0))})})]})})}async function O0(e,t){try{const r=await fetch(e,{mode:"cors",headers:{Accept:"image/*"}});if(!r.ok)throw new Error(`Error al obtener imagen: ${r.status} ${r.statusText}`);const n=await r.blob();if(!n.type.startsWith("image/"))throw new Error(`El archivo no es una imagen v√°lida. Tipo: ${n.type}`);return new File([n],t,{type:n.type||"image/jpeg",lastModified:Date.now()})}catch(r){throw r.name==="TypeError"&&r.message.includes("cors")?new Error("Error de CORS: La imagen debe servirse desde el mismo origen o con headers CORS correctos"):r.name==="TypeError"&&r.message.includes("fetch")?new Error("Error de red: No se pudo conectar al servidor de im√°genes"):r}}function _0(e="cover"){const t=Date.now();return`${e==="cover"?"portada-ai":"secundaria-ai"}-${t}.jpg`}function BM(){const[e,t]=P.useState([]),[r,n]=P.useState({}),[i,a]=P.useState({}),s=P.useRef(),l=P.useRef(),[c,u]=P.useState(null),[h,d]=P.useState(""),[f,p]=P.useState({open:!1,id:null,title:""}),g=(oe,fe)=>p({open:!0,id:oe,title:fe}),m=()=>p({open:!1,id:null,title:""}),[v,b]=P.useState(!1),[y,j]=P.useState(null),[w,x]=P.useState(1),[S,N]=P.useState(1),[_,C]=P.useState(0),[E,O]=P.useState(10),[A,k]=P.useState(1),[$,I]=P.useState(!1),[T,R]=P.useState(!1),[U,D]=P.useState(!1),[F,M]=P.useState(!1),[L,z]=P.useState({all:0,published:0,scheduled:0}),K=P.useRef(0),[W,B]=P.useState({categoria:"",search:"",fechaDesde:"",fechaHasta:"",statusFilter:"all"}),[H,q]=P.useState({titulo:"",contenido:"",imagen:null,imagenPreview:null,imagenes:[],imagenesPreview:[],autor:"",categoria:"",destacada:!1,imagenOpcional:null,programar:!1,publicarEl:""}),[V,Y]=P.useState(null);P.useEffect(()=>{ae(),J()},[]),P.useEffect(()=>{ie()},[W.categoria,W.search,W.fechaDesde,W.fechaHasta]),P.useEffect(()=>{const oe=W.statusFilter==="published"?L.published:W.statusFilter==="scheduled"?L.scheduled:L.all,fe=Math.max(1,Math.ceil(oe/E));k(fe)},[L,W.statusFilter,E]),P.useEffect(()=>{if(!c)return;const oe=Object.keys(sessionStorage).filter(Le=>Le.startsWith("ai-temp-"));if(!oe.length)return;const fe=JSON.parse(sessionStorage.getItem(oe[0])||"{}"),{tempId:Te,coverUrl:_e,secondaryUrl:Oe}=fe;!Te||!_e&&!Oe||(async()=>{try{console.log(`[AI attach] Adjuntando ${Te} a noticia ${c}`);const Le=await fetch("/api/ai/images/attach",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newsId:c,tempId:Te,coverUrl:_e,secondaryUrl:Oe})});if(Le.ok){const Je=await Le.json();Je.coverUrl&&q(Jt=>({...Jt,imagenPreview:Je.coverUrl,imagen:null})),Je.secondaryUrl&&typeof Y=="function"&&Y(Je.secondaryUrl),sessionStorage.removeItem(oe[0]),console.log("[AI attach] ‚úÖ Im√°genes adjuntadas exitosamente")}else{const Je=await Le.json().catch(()=>({}));console.error("[AI attach] Error:",Je.error||"Error desconocido")}}catch(Le){console.error("[AI attach] Error:",Le.message)}})()},[c,Y]);const J=async()=>{var fe;const oe=localStorage.getItem("token");try{const _e=await(await fetch("/api/users/profile",{headers:{Authorization:`Bearer ${oe}`}})).json(),Oe=(fe=_e.nickname)!=null&&fe.trim()?_e.nickname:`${_e.firstName||""} ${_e.lastName||""}`.trim();d(Oe||"An√≥nimo"),q(Le=>({...Le,autor:Oe||"An√≥nimo"}))}catch(Te){console.error("‚ùå Error al cargar perfil",Te)}},X=(oe={})=>{const fe={...W.categoria&&{categoria:W.categoria},...W.search&&{search:W.search,titulo:W.search},...W.fechaDesde&&{fechaDesde:W.fechaDesde},...W.fechaHasta&&{fechaHasta:W.fechaHasta},...oe};return new URLSearchParams(fe).toString()},ne=async oe=>{const fe=X({...oe,limit:1e3}),Te=await fetch(`/api/news?${fe}`);if(!Te.ok)return[];const _e=await Te.json();return Array.isArray(_e==null?void 0:_e.noticias)?_e.noticias:[]},ie=async()=>{R(!0);try{const fe=(await ne({status:"published"})).filter(Oe=>(Oe==null?void 0:Oe.status)==="published").length,_e=(await ne({status:"scheduled",includeScheduled:"true"})).filter(Oe=>(Oe==null?void 0:Oe.status)==="scheduled").length;z({published:fe,scheduled:_e,all:fe+_e})}catch(oe){console.error("‚ùå Error al refrescar contadores",oe)}finally{R(!1)}},ae=async({page:oe=1,limit:fe=E,categoria:Te="",search:_e="",fechaDesde:Oe="",fechaHasta:Le="",statusFilter:Je=W.statusFilter}={})=>{const Jt=++K.current;I(!0);try{const Ie=new URLSearchParams({page:oe,limit:fe,...Te&&{categoria:Te},..._e&&{search:_e,titulo:_e},...Oe&&{fechaDesde:Oe},...Le&&{fechaHasta:Le}});Je==="published"?Ie.set("status","published"):Je==="scheduled"?(Ie.set("status","scheduled"),Ie.set("includeScheduled","true")):Je==="all"&&Ie.set("includeScheduled","true");const pt=async ot=>{const Kr=await fetch(`/api/news?${ot.toString()}`);if(!Kr.ok)throw new Error("Error al obtener noticias");return Kr.json()};let Ve=await pt(Ie);if(Je==="scheduled"&&(!(Ve!=null&&Ve.noticias)||Ve.noticias.length===0)){const ot=new URLSearchParams(Ie.toString());ot.delete("status"),ot.set("includeScheduled","true"),Ve=await pt(ot)}let Et=Array.isArray(Ve==null?void 0:Ve.noticias)?Ve.noticias:[];const jr=String(_e||"").trim().toLowerCase();jr&&(Et=Et.filter(ot=>String((ot==null?void 0:ot.titulo)||"").toLowerCase().includes(jr))),Je==="scheduled"?Et=Et.filter(ot=>(ot==null?void 0:ot.status)==="scheduled"):Je==="published"&&(Et=Et.filter(ot=>(ot==null?void 0:ot.status)==="published"));const zn=+Ve.totalItems||+Ve.total||NaN,Aa=+Ve.totalPages||NaN;let xn,Tt;if(Number.isFinite(Aa)?(xn=Math.max(1,Aa),Tt=Number.isFinite(zn)?zn:(xn-1)*fe+Et.length):Number.isFinite(zn)?(Tt=Math.max(0,zn),xn=Math.max(1,Math.ceil(Tt/fe))):(xn=Et.length===fe?oe+1:oe,Tt=(xn-1)*fe+Et.length),Jt!==K.current)return;const wn=Je==="published"?L.published:Je==="scheduled"?L.scheduled:L.all,Ln=Math.max(1,Math.ceil(wn/fe));if(t(Et),N(xn),C(Tt),k(Ln),oe>Ln)return x(Ln),ae({page:Ln,limit:fe,categoria:Te,search:_e,fechaDesde:Oe,fechaHasta:Le,statusFilter:Je});if(x(oe),Et.length>0)for(const ot of Et)try{const Kr=await fetch(`/api/comments/${ot._id}`);if(!Kr.ok)continue;const ws=await Kr.json();n(Sr=>({...Sr,[ot._id]:ws}))}catch{}}catch(Ie){console.error("‚ùå Error al obtener noticias",Ie)}finally{Jt===K.current&&I(!1)}},ge=oe=>{const{name:fe,type:Te,value:_e,checked:Oe}=oe.target;q(Le=>({...Le,[fe]:Te==="checkbox"?Oe:_e}))},he=async oe=>{oe&&q(fe=>({...fe,imagen:oe,imagenPreview:URL.createObjectURL(oe)}))},Q=async oe=>{oe&&(q(fe=>({...fe,imagenOpcional:oe})),Y(URL.createObjectURL(oe)))},ee=oe=>{const fe=oe.target.files[0];he(fe)},se=oe=>{const fe=oe.target.files[0];Q(fe)},ce=()=>{q(oe=>({...oe,imagenOpcional:""})),Y(null),setTimeout(()=>{const oe=document.getElementById("form-news");oe&&oe.requestSubmit()},100)},te=oe=>{q(fe=>({...fe,contenido:oe}))},ve=async oe=>{if(!(!oe||U)){D(!0);try{const fe=_0("cover"),Te=await O0(oe,fe);if(await he(Te),s.current){const _e=new DataTransfer;_e.items.add(Te),s.current.files=_e.files;const Oe=new Event("change",{bubbles:!0});s.current.dispatchEvent(Oe)}console.log("‚úÖ Imagen de IA procesada como principal:",fe)}catch(fe){console.error("‚ùå Error al procesar imagen de IA como principal:",fe),alert(`Error al usar imagen de IA: ${fe.message}`)}finally{D(!1)}}},je=async oe=>{if(!(!oe||F)){M(!0);try{const fe=_0("secondary"),Te=await O0(oe,fe);await Q(Te),console.log("‚úÖ Imagen de IA procesada como opcional:",fe)}catch(fe){console.error("‚ùå Error al procesar imagen de IA como opcional:",fe),alert(`Error al usar imagen de IA: ${fe.message}`)}finally{M(!1)}}},we=async oe=>{var Le;oe.preventDefault();const fe=localStorage.getItem("token");if(U||F){alert("‚è≥ Por favor espera a que terminen de procesarse las im√°genes de IA.");return}const Te=H.titulo.trim(),_e=H.contenido.trim();if(!Te){alert("‚ö†Ô∏è El t√≠tulo no puede estar vac√≠o.");return}if(!_e){alert("‚ö†Ô∏è El contenido no puede estar vac√≠o.");return}if(!H.imagen&&!H.imagenPreview&&!c){alert("‚ö†Ô∏è Debes agregar una imagen principal.");return}const Oe=new FormData;Oe.append("titulo",Te),Oe.append("contenido",_e),Oe.append("categoria",H.categoria),Oe.append("destacada",H.destacada?"true":"false"),Oe.append("autor",(H.autor||h||"An√≥nimo").trim()),H.programar&&H.publicarEl?(Oe.append("status","scheduled"),Oe.append("publishAt",new Date(H.publicarEl).toISOString())):Oe.append("status","published"),H.imagen&&Oe.append("imagen",H.imagen),H.imagenOpcional instanceof File?Oe.append("imagenOpcional",H.imagenOpcional):H.imagenOpcional===""&&Oe.append("imagenOpcional","");try{const Je=await fetch(c?`/api/news/${c}`:"/api/news",{method:c?"PUT":"POST",headers:{Authorization:`Bearer ${fe}`},body:Oe});if(!Je.ok){const pt=await Je.json().catch(()=>({}));throw console.error("‚ùå Backend error:",pt),new Error("Error al guardar noticia")}await ae({page:1,limit:E,...W}),await ie();const Jt=(Le=oe.nativeEvent)==null?void 0:Le.submitter;(Jt==null?void 0:Jt.tagName)==="BUTTON"&&at(),window.scrollTo({top:0,behavior:"smooth"})}catch(Je){console.error("‚ùå Error al enviar noticia",Je)}},rt=async oe=>{if(window.confirm("¬øEst√°s seguro de eliminar esta noticia?"))try{const fe=localStorage.getItem("token");await fetch(`/api/news/${oe}`,{method:"DELETE",headers:{Authorization:`Bearer ${fe}`}}),await ae({page:w,limit:E,...W}),await ie()}catch(fe){console.error("Error al eliminar",fe)}},Ot=oe=>{q({titulo:oe.titulo,contenido:oe.contenido,imagen:null,imagenPreview:oe.imagen||null,imagenes:[],imagenesPreview:[],autor:oe.autor,categoria:oe.categoria,destacada:oe.destacada,imagenOpcional:null,programar:oe.status==="scheduled",publicarEl:oe.publishAt?new Date(oe.publishAt).toISOString().slice(0,16):""}),Y(oe.imagenOpcional||null),u(oe._id),window.scrollTo({top:0,behavior:"smooth"})},Be=async oe=>{const fe=e.find(_e=>_e._id===oe);if(!fe)return;if(fe.status!=="published"){alert("‚ö†Ô∏è Solo se pueden compartir noticias publicadas.");return}const Te=localStorage.getItem("token");try{t(pt=>pt.map(Ve=>Ve._id===oe?{...Ve,facebook_status:"sharing"}:Ve));const _e=fe.contenido.replace(/<[^>]*>/g,"").substring(0,180).trim(),Oe=["#LevantateCuba","#NoticiasCuba","#Cuba"],Le=`${fe.titulo}

${_e}...

üîó Lee m√°s en nuestra web

${Oe.join(" ")}`,Je=`${window.location.origin}/noticias/${fe._id}`,Jt=await fetch("/api/social/facebook/share",{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({postId:fe._id,message:Le,link:Je})}),Ie=await Jt.json();if(Jt.ok&&Ie.status==="ok")t(pt=>pt.map(Ve=>Ve._id===oe?{...Ve,facebook_status:"published",facebook_post_id:Ie.fbPostId,facebook_permalink_url:Ie.permalink,share:{...Ve.share,fb:{status:"posted",postId:Ie.fbPostId,permalink:Ie.permalink}}}:Ve)),alert(`‚úÖ Publicado en Facebook exitosamente

Puedes ver la publicaci√≥n en:
${Ie.permalink}`);else{const pt=Ie.message||"Error desconocido";t(Et=>Et.map(jr=>jr._id===oe?{...jr,facebook_status:"error",facebook_last_error:pt,share:{...jr.share,fb:{status:"error",error:pt}}}:jr));let Ve=pt;Ie.code==="INVALID_TOKEN"?Ve="‚ùå El token de Facebook ha expirado. Por favor, contacta al administrador para renovarlo.":Ie.code==="PERMISSION_ERROR"?Ve="‚ùå Sin permisos para publicar. Verifica la configuraci√≥n en Meta Business Suite.":Ie.code==="RATE_LIMIT"&&(Ve="‚ùå L√≠mite de publicaciones alcanzado. Intenta m√°s tarde."),alert(Ve)}}catch(_e){console.error("‚ùå Error al compartir:",_e),t(Oe=>Oe.map(Le=>Le._id===oe?{...Le,facebook_status:"error",facebook_last_error:_e.message}:Le)),alert(`‚ùå Error de conexi√≥n: ${_e.message}`)}},Wr=async oe=>{const fe=localStorage.getItem("token");if(fe)try{const Te=`${window.location.origin}/noticias/${oe}`,_e=await fetch(`/api/social/facebook/rescrape?url=${encodeURIComponent(Te)}`,{method:"GET",headers:{Authorization:`Bearer ${fe}`}}),Oe=await _e.json();_e.ok&&Oe.success?alert(`‚úÖ Re-scrape exitoso

T√≠tulo detectado: ${Oe.title}
Imagen: ${Oe.image?"S√≠":"No"}

Facebook ha actualizado su cach√©.`):alert(`‚ùå Error al re-scrapear: ${Oe.message||"Error desconocido"}`)}catch(Te){console.error("Error al re-scrapear:",Te),alert("‚ùå Error al conectar con el servidor")}},He=Be,_t=oe=>{if(!oe||!Array.isArray(oe))return 0;let fe=oe.length;return oe.forEach(Te=>{Te.respuestas&&Te.respuestas.length>0&&(fe+=_t(Te.respuestas))}),fe},Vr=oe=>{j(oe),b(!0)},Gr=()=>{b(!1),j(null)},pe=async(oe,fe)=>{const Te=localStorage.getItem("token");await fetch(`/api/comments/${oe}`,{method:"DELETE",headers:{Authorization:`Bearer ${Te}`}});const Oe=await(await fetch(`/api/comments/${fe}`)).json();n(Le=>({...Le,[fe]:Oe}))},Ee=()=>{at(),window.scrollTo({top:0,behavior:"smooth"})},at=()=>{q({titulo:"",contenido:"",imagen:null,imagenPreview:null,imagenes:[],imagenesPreview:[],autor:h||"",categoria:"",destacada:!1,imagenOpcional:null,programar:!1,publicarEl:""}),Y(null),u(null)};return o.jsxs("div",{className:"p-4 sm:p-6 text-white text-sm md:text-base min-h-screen",children:[o.jsx("div",{className:"flex items-end justify-between gap-4 mb-4 flex-wrap",children:o.jsx("h2",{className:"text-xl font-semibold text-white",children:c?"Editando noticia":"Crear nueva noticia"})}),o.jsx(IM,{form:H,setForm:q,editId:c,autorVisible:h,fileInputRef:s,optionalImageRef:l,imagenOpcionalPreview:V,handleInputChange:ge,handleImageChange:ee,handleOptionalImageChange:se,handleRemoveOptionalImage:ce,handleContentChange:te,handleSubmit:we,handleCancelEdit:Ee,isUploadingAIMain:U,isUploadingAIOptional:F}),o.jsx(LM,{newsId:c,title:H.titulo,content:H.contenido,disabled:!1,onPickCover:ve,onPickSecondary:je,onTempChange:oe=>{console.log("[AI] Cambio temporal:",oe)}}),o.jsx(MM,{newsList:e,comments:r,expanded:i,onEdit:Ot,onDelete:rt,onShare:He,onRescrape:Wr,onViewComments:Vr,onDeleteComment:pe,onManageComments:g,countTotalComments:_t,filtros:W,setFiltros:B,onFilter:oe=>ae({page:1,limit:E,...W,...oe}),currentPage:w,totalPages:S,totalItems:_,uiTotalPages:A,setCurrentPage:x,pageSize:E,setPageSize:O,counts:L,loadingList:$,loadingCounts:T}),f.open&&o.jsx(RM,{newsId:f.id,newsTitle:f.title,onClose:m}),v&&y&&o.jsx(DM,{newsId:y,onClose:Gr})]})}function E0({visible:e,onCancel:t,onConfirm:r,mensaje:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white text-gray-800 px-4 py-6 rounded-lg shadow-xl w-[90%] max-w-sm animate-fade-in",children:[o.jsx("h2",{className:"text-md font-semibold mb-4 text-center",children:n||"¬øEst√°s seguro de eliminar?"}),o.jsxs("div",{className:"flex justify-center gap-3",children:[o.jsx("button",{onClick:t,className:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded",children:"Cancelar"}),o.jsx("button",{onClick:r,className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded",children:"Eliminar"})]})]})}):null}const vi={}.VITE_API_BASE_URL||"/api";function FM(){is();const[e,t]=P.useState([]),[r,n]=P.useState({}),[i,a]=P.useState({visible:!1,onConfirm:null}),[s,l]=P.useState({}),[c,u]=P.useState(1),[h,d]=P.useState(1),[f,p]=P.useState({total:0,pendientes:0,aprobadas:0,destacadas:0}),[g,m]=P.useState({estado:"todos",buscar:"",fechaDesde:"",fechaHasta:""}),[v,b]=P.useState(!1),[y,j]=P.useState(!1),[w,x]=P.useState(null),[S,N]=P.useState({visible:!1,onConfirm:null,message:""}),_=async(z=1)=>{var B;j(!0);const K=localStorage.getItem("token"),W=new URLSearchParams({page:z.toString(),limit:"10",...g.estado!=="todos"&&{estado:g.estado},...g.buscar&&{buscar:g.buscar},...g.fechaDesde&&{fechaDesde:g.fechaDesde},...g.fechaHasta&&{fechaHasta:g.fechaHasta}});try{const H=await fetch(`${vi}/reports/admin?${W}`,{headers:{Authorization:`Bearer ${K}`}});if(!H.ok)throw new Error("Error al obtener denuncias");const q=await H.json();t(q.denuncias||[]),d(((B=q.pagination)==null?void 0:B.totalPages)||1),p(q.stats||{total:0,pendientes:0,aprobadas:0,destacadas:0})}catch(H){console.error("Error al cargar denuncias:",H),alert("‚ùå No se pudieron cargar las denuncias del servidor.")}finally{j(!1)}};P.useEffect(()=>{_(c)},[c,g]);const C=z=>{z>=1&&z<=h&&(u(z),window.scrollTo({top:0,behavior:"smooth"}))},E=z=>{n(K=>({...K,[z]:!K[z]}))},O=z=>{l(K=>({...K,[z]:!K[z]}))},A=async z=>{const K=localStorage.getItem("token");try{if(!(await fetch(`${vi}/reports/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})).ok)throw new Error("Error al eliminar");_(c),a({visible:!1,onConfirm:null})}catch(W){console.error(W),alert("‚ùå No se pudo eliminar la denuncia."),a({visible:!1,onConfirm:null})}},k=async(z,K,W)=>{const B=localStorage.getItem("token");try{if(!(await fetch(`${vi}/reports/${z}/attachments/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${B}`}})).ok)throw new Error("Error al eliminar adjunto");_(c),N({visible:!1,onConfirm:null,message:""})}catch(H){console.error(H),alert("‚ùå No se pudo eliminar el adjunto."),N({visible:!1,onConfirm:null,message:""})}},$=()=>a({visible:!1,onConfirm:null}),I=()=>N({visible:!1,onConfirm:null,message:""}),T=async z=>{const K=localStorage.getItem("token");try{if(!(await fetch(`${vi}/reports/aprobar/${z}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}})).ok)throw new Error("Error al aprobar");_(c)}catch(W){console.error(W),alert("‚ùå No se pudo aprobar la denuncia.")}},R=async z=>{const K=localStorage.getItem("token");try{if(!(await fetch(`${vi}/reports/destacar/${z}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}})).ok)throw new Error("Error al destacar");_(c)}catch(W){console.error(W),alert("‚ùå No se pudo marcar como destacada.")}},U=async(z,K)=>{const W=localStorage.getItem("token");try{if(!(await fetch(`${vi}/reports/${z}/comentarios/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}})).ok)throw new Error("Error al eliminar comentario");_(c)}catch(B){console.error("Error al eliminar comentario:",B)}},D=(z,K=0,W)=>!z||z.length===0?null:o.jsx("div",{className:K>0?"ml-4 mt-2 space-y-1":"space-y-2",children:z.map(B=>{var H;return o.jsxs("div",{className:`rounded-lg border ${K===0?"border-zinc-800 bg-zinc-900/50":"border-zinc-800/50 bg-zinc-900/30"} p-3`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-white text-sm",children:B.usuario||"An√≥nimo"}),o.jsx("span",{className:"text-xs text-zinc-500",children:new Date(B.fecha).toLocaleDateString()})]}),o.jsx("p",{className:"mt-1 text-sm text-zinc-300",children:B.mensaje})]}),o.jsx("button",{className:"ml-2 text-red-400 hover:text-red-300 transition p-1",onClick:()=>U(W,B._id),title:"Eliminar",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),((H=B.respuestas)==null?void 0:H.length)>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("button",{onClick:()=>E(B._id),className:"text-xs text-blue-400 hover:text-blue-300",children:r[B._id]?`Ocultar ${B.respuestas.length} respuestas`:`Ver ${B.respuestas.length} respuestas`}),r[B._id]&&D(B.respuestas,K+1,W)]})]},B._id)})}),F=z=>{const K=Math.floor((new Date-new Date(z))/1e3),W={a√±o:31536e3,mes:2592e3,d√≠a:86400,hora:3600,minuto:60};for(const[B,H]of Object.entries(W)){const q=Math.floor(K/H);if(q>=1)return`hace ${q} ${B}${q>1?B==="mes"?"es":"s":""}`}return"justo ahora"},M=async(z,K)=>{try{const B=await(await fetch(z)).blob(),H=URL.createObjectURL(B),q=document.createElement("a");q.href=H,q.download=K||"archivo",document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(H)}catch(W){console.error("Error descargando archivo:",W),alert("‚ùå No se pudo descargar el archivo")}},L=z=>{const K=[];if(z.attachments&&z.attachments.length>0&&z.attachments.forEach((W,B)=>{K.push({...W,index:B,isNew:!0})}),z.media&&(!z.attachments||z.attachments.length===0)){const W=/\.(mp4|mov|webm)$/i.test(z.media);K.push({url:z.media,type:W?"video":"image",originalName:"Archivo multimedia",isLegacy:!0})}return K.length===0?null:o.jsxs("div",{className:"mt-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[o.jsx(Bd,{className:"w-4 h-4"}),o.jsxs("span",{children:["Adjuntos (",K.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:K.map((W,B)=>o.jsxs("div",{className:"relative group rounded-lg overflow-hidden bg-zinc-800 border border-zinc-700",children:[W.type==="image"?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:W.url,alt:W.originalName,className:"w-full h-32 object-cover cursor-pointer",onClick:()=>x(W.url)}),o.jsx("div",{className:"absolute top-2 left-2",children:o.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-black/70 backdrop-blur text-white text-xs rounded",children:[o.jsx(Wh,{className:"w-3 h-3"}),"Imagen"]})})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"relative h-32 bg-zinc-900 flex items-center justify-center",children:[o.jsx("video",{src:W.url,className:"w-full h-full",controls:!0,muted:!0}),o.jsx("div",{className:"absolute top-2 left-2 pointer-events-none",children:o.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-black/70 backdrop-blur text-white text-xs rounded",children:[o.jsx(AN,{className:"w-3 h-3"}),"Video"]})})]})}),o.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[W.type==="image"&&o.jsx("button",{onClick:()=>x(W.url),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg text-white transition",title:"Ver imagen completa",children:o.jsx(kN,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>M(W.url,W.originalName),className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg text-white transition",title:"Descargar",children:o.jsx(PN,{className:"w-4 h-4"})}),W.isNew&&o.jsx("button",{onClick:()=>{N({visible:!0,onConfirm:()=>k(z._id,W.index,W.originalName),message:`¬øEst√°s seguro de eliminar el archivo "${W.originalName}"?`})},className:"p-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg text-red-400 transition",title:"Eliminar adjunto",children:o.jsx(vr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:[o.jsx("p",{className:"text-xs text-white truncate",title:W.originalName,children:W.originalName}),W.size&&o.jsxs("p",{className:"text-xs text-zinc-400",children:[(W.size/(1024*1024)).toFixed(2)," MB"]})]})]},B))})]})};return o.jsxs("main",{className:"min-h-screen bg-zinc-950 text-white",children:[o.jsx("div",{className:"border-b border-zinc-800 bg-black/95 backdrop-blur sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Panel de Denuncias"}),o.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Gestiona y modera las denuncias ciudadanas"})]}),o.jsxs("button",{onClick:()=>b(!v),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition ${v?"border-red-500 bg-red-500/10 text-red-400":"border-zinc-800 bg-zinc-900 hover:bg-zinc-800"}`,children:[o.jsx(Vh,{className:"w-4 h-4"}),"Filtros"]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[o.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-zinc-500",children:"Total"}),o.jsx("p",{className:"text-xl font-bold mt-1",children:f.total})]}),o.jsx(Jn,{className:"w-5 h-5 text-zinc-600"})]})}),o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-yellow-400/80",children:"Pendientes"}),o.jsx("p",{className:"text-xl font-bold text-yellow-400 mt-1",children:f.pendientes})]}),o.jsx(ir,{className:"w-5 h-5 text-yellow-500"})]})}),o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-green-400/80",children:"Aprobadas"}),o.jsx("p",{className:"text-xl font-bold text-green-400 mt-1",children:f.aprobadas})]}),o.jsx(pm,{className:"w-5 h-5 text-green-500"})]})}),o.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-purple-400/80",children:"Destacadas"}),o.jsx("p",{className:"text-xl font-bold text-purple-400 mt-1",children:f.destacadas})]}),o.jsx(hl,{className:"w-5 h-5 text-purple-500"})]})})]})]})})}),v&&o.jsx("div",{className:"border-b border-zinc-800 bg-zinc-900/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-1",children:"Estado"}),o.jsxs("select",{value:g.estado,onChange:z=>{m({...g,estado:z.target.value}),u(1)},className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm focus:border-red-500 focus:outline-none",children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"pendientes",children:"Pendientes"}),o.jsx("option",{value:"aprobadas",children:"Aprobadas"}),o.jsx("option",{value:"destacadas",children:"Destacadas"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-1",children:"Buscar"}),o.jsxs("div",{className:"relative",children:[o.jsx(Fd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),o.jsx("input",{type:"text",value:g.buscar,onChange:z=>{m({...g,buscar:z.target.value}),u(1)},placeholder:"Nombre o contenido...",className:"w-full pl-9 pr-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm placeholder-zinc-500 focus:border-red-500 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-1",children:"Desde"}),o.jsx("input",{type:"date",value:g.fechaDesde,onChange:z=>{m({...g,fechaDesde:z.target.value}),u(1)},className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm focus:border-red-500 focus:outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-1",children:"Hasta"}),o.jsx("input",{type:"date",value:g.fechaHasta,onChange:z=>{m({...g,fechaHasta:z.target.value}),u(1)},className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white text-sm focus:border-red-500 focus:outline-none"})]})]}),(g.estado!=="todos"||g.buscar||g.fechaDesde||g.fechaHasta)&&o.jsx("button",{onClick:()=>{m({estado:"todos",buscar:"",fechaDesde:"",fechaHasta:""}),u(1)},className:"mt-3 text-xs text-zinc-400 hover:text-white transition",children:"Limpiar filtros"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[y?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(or,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-400",children:"No hay denuncias que mostrar"}),o.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:"Ajusta los filtros o espera nuevas denuncias"})]}):o.jsx("div",{className:"space-y-4",children:e.map(z=>{var H,q,V,Y,J;const K=s[z._id],W=280,B=(z.contenido||"").length>W;return o.jsxs("article",{className:`border rounded-xl transition-all hover:border-zinc-700 ${z.destacada?"border-purple-500/30 bg-purple-500/5":z.aprobada?"border-zinc-800 bg-zinc-900/30":"border-yellow-500/20 bg-yellow-500/5"}`,children:[o.jsx("div",{className:"px-4 py-3 border-b border-zinc-800/50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${z.destacada?"bg-purple-500 text-black":z.aprobada?"bg-green-500 text-black":"bg-yellow-500 text-black"}`,children:((H=z.nombre)==null?void 0:H.charAt(0).toUpperCase())||"A"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-white",children:z.nombre||"An√≥nimo"}),z.destacada&&o.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded-full",children:"Destacada"}),!z.aprobada&&o.jsx("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded-full",children:"Pendiente"})]}),o.jsx("p",{className:"text-xs text-zinc-500",children:F(z.createdAt)})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(((q=z.attachments)==null?void 0:q.length)>0||z.media)&&o.jsxs("span",{className:"flex items-center gap-1 text-xs text-zinc-500",children:[o.jsx(Bd,{className:"w-3 h-3"}),((V=z.attachments)==null?void 0:V.length)||1]}),o.jsxs("span",{className:"flex items-center gap-1 text-xs text-zinc-500",children:[o.jsx(Cx,{className:"w-3 h-3"}),z.likes||0]}),o.jsxs("span",{className:"flex items-center gap-1 text-xs text-zinc-500",children:[o.jsx(jn,{className:"w-3 h-3"}),((Y=z.comentarios)==null?void 0:Y.length)||0]})]})]})}),o.jsxs("div",{className:"px-4 py-3",children:[o.jsxs("div",{className:"text-white text-sm leading-relaxed",children:[K||!B?z.contenido:`${z.contenido.slice(0,W)}...`,B&&o.jsx("button",{onClick:()=>O(z._id),className:"ml-2 text-blue-400 hover:text-blue-300 text-xs",children:K?"Ver menos":"Ver m√°s"})]}),L(z),((J=z.comentarios)==null?void 0:J.length)>0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("button",{onClick:()=>E(z._id),className:"flex items-center gap-2 text-sm text-zinc-400 hover:text-white transition",children:[o.jsx(jn,{className:"w-4 h-4"}),r[z._id]?`Ocultar ${z.comentarios.length} comentarios`:`Ver ${z.comentarios.length} comentarios`]}),r[z._id]&&o.jsx("div",{className:"mt-3",children:D(z.comentarios,0,z._id)})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-zinc-800/50 flex flex-wrap gap-2",children:[!z.aprobada&&o.jsxs("button",{onClick:()=>T(z._id),className:"flex items-center gap-2 px-3 py-1.5 bg-green-500 hover:bg-green-600 text-black text-sm font-medium rounded-lg transition",children:[o.jsx(pm,{className:"w-4 h-4"}),"Aprobar"]}),o.jsx("button",{onClick:()=>R(z._id),className:`flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-lg transition ${z.destacada?"bg-purple-500 hover:bg-purple-600 text-black":"bg-zinc-800 hover:bg-zinc-700 text-white"}`,children:z.destacada?o.jsxs(o.Fragment,{children:[o.jsx(hl,{className:"w-4 h-4 fill-current"}),"Destacada"]}):o.jsxs(o.Fragment,{children:[o.jsx(_N,{className:"w-4 h-4"}),"Destacar"]})}),o.jsxs("button",{onClick:()=>a({visible:!0,onConfirm:()=>A(z._id)}),className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-800 hover:bg-red-500/20 text-red-400 hover:text-red-300 text-sm font-medium rounded-lg transition",children:[o.jsx(vr,{className:"w-4 h-4"}),"Eliminar"]})]})]},z._id)})}),h>1&&o.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8",children:[o.jsxs("button",{onClick:()=>C(c-1),disabled:c===1,className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[o.jsx(EN,{className:"w-4 h-4"}),"Anterior"]}),o.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,h)},(z,K)=>{let W;return h<=5||c<=3?W=K+1:c>=h-2?W=h-4+K:W=c-2+K,o.jsx("button",{onClick:()=>C(W),className:`w-8 h-8 rounded-lg text-sm font-medium transition ${W===c?"bg-red-500 text-black":"bg-zinc-900 border border-zinc-800 hover:bg-zinc-800 text-white"}`,children:W},K)})}),o.jsxs("button",{onClick:()=>C(c+1),disabled:c===h,className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:["Siguiente",o.jsx(Mc,{className:"w-4 h-4"})]})]})]}),w&&o.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:()=>x(null),children:[o.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-red-400 transition p-2 bg-white/10 hover:bg-white/20 rounded-lg",onClick:()=>x(null),children:o.jsx(Ut,{className:"w-6 h-6"})}),o.jsx("img",{src:w,alt:"Vista ampliada",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl",onClick:z=>z.stopPropagation()})]}),i.visible&&o.jsx(E0,{visible:i.visible,mensaje:"¬øEst√°s seguro de que deseas eliminar esta denuncia? Esta acci√≥n eliminar√° tambi√©n todos los archivos adjuntos y no se puede deshacer.",onConfirm:i.onConfirm,onCancel:$}),S.visible&&o.jsx(E0,{visible:S.visible,mensaje:S.message,onConfirm:S.onConfirm,onCancel:I})]})}function qM(){const[e,t]=P.useState([]),[r,n]=P.useState("team"),[i,a]=P.useState(""),[s,l]=P.useState(!1),[c,u]=P.useState("create"),[h,d]=P.useState(null),f={}.VITE_API_BASE_URL||"/api",p=localStorage.getItem("token");P.useEffect(()=>{g()},[]);async function g(){try{const x=await fetch(`${f}/users`,{headers:{Authorization:`Bearer ${p}`}});if(!x.ok){const S=await x.json().catch(()=>({}));a(S.message||"Error al obtener usuarios.");return}t(await x.json())}catch(x){console.error("‚ùå Error al cargar usuarios:",x),a("Error al conectar con el servidor.")}}const m=P.useMemo(()=>e.filter(x=>x.role==="admin"||x.role==="editor"),[e]),v=P.useMemo(()=>e.filter(x=>x.role==="user"),[e]),b=r==="team"?m:v;function y(){u("create"),d(null),l(!0)}function j(x){u("edit"),d(x),l(!0)}async function w(x){const S=e.filter(_=>_.role==="admin"),N=e.find(_=>_._id===x);if((N==null?void 0:N.role)==="admin"&&S.length<=1){alert("No puedes eliminar al √∫ltimo administrador.");return}if(confirm("¬øSeguro que deseas eliminar este usuario?"))try{if(!(await fetch(`${f}/users/${x}`,{method:"DELETE",headers:{Authorization:`Bearer ${p}`}})).ok)throw new Error("Error al eliminar");await g()}catch(_){console.error(_),alert("No se pudo eliminar el usuario.")}}return o.jsxs("div",{className:"text-white",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 text-white",children:"üë• Usuarios"}),o.jsx("p",{className:"text-white/60",children:"Administra miembros del equipo y usuarios externos"})]}),o.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>n("team"),className:`flex items-center gap-2 rounded-xl px-4 py-2 transition ${r==="team"?"bg-red-600 text-white":"bg-white/10 hover:bg-white/15 text-white/80"}`,"aria-pressed":r==="team",children:[o.jsx(l_,{})," Equipo",o.jsx("span",{className:"ml-1 rounded bg-black/30 px-2 py-0.5 text-xs",children:m.length})]}),o.jsxs("button",{onClick:()=>n("extern"),className:`flex items-center gap-2 rounded-xl px-4 py-2 transition ${r==="extern"?"bg-red-600 text-white":"bg-white/10 hover:bg-white/15 text-white/80"}`,"aria-pressed":r==="extern",children:[o.jsx(e_,{})," Usuarios externos",o.jsx("span",{className:"ml-1 rounded bg-black/30 px-2 py-0.5 text-xs",children:v.length})]})]}),r==="team"&&o.jsxs("button",{onClick:y,className:"btn-primary",children:[o.jsx(i_,{}),"Agregar miembro del equipo"]})]}),i&&o.jsx("div",{className:"mb-6 rounded-lg bg-red-900/40 border border-red-800/40 p-4 text-center text-red-200",children:i}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-baseline justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:r==="team"?"üë• Miembros del equipo":"üåê Usuarios externos"}),o.jsxs("span",{className:"text-sm text-white/60",children:[b.length," ",b.length===1?"registro":"registros"]})]}),b.length===0?o.jsx("p",{className:"text-white/60",children:r==="team"?"No hay miembros del equipo a√∫n.":"No hay usuarios externos registrados."}):o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:b.map(x=>o.jsx(UM,{user:x,onEdit:()=>j(x),onDelete:()=>w(x._id)},x._id))})]}),s&&o.jsx(HM,{mode:c,user:h,onClose:()=>l(!1),onSaved:async()=>{l(!1),await g()}})]})}function UM({user:e,onEdit:t,onDelete:r}){return o.jsx("div",{className:"admin-card",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold",children:e.name}),o.jsx("p",{className:"text-sm text-white/70",children:e.email}),o.jsxs("p",{className:"text-sm italic text-gray-400",children:["Rol: ",e.role]})]}),o.jsxs("div",{className:"flex gap-4 text-lg",children:[o.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-600",title:"Editar",children:o.jsx(QO,{})}),o.jsx("button",{onClick:r,className:"text-red-500 hover:text-red-700",title:"Eliminar",children:o.jsx(s_,{})})]})]})})}function HM({mode:e,user:t,onClose:r,onSaved:n}){const i=e==="edit",a={}.VITE_API_BASE_URL||"/api",s=localStorage.getItem("token"),[l,c]=P.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",role:(t==null?void 0:t.role)||"editor",password:""}),[u,h]=P.useState(!1),[d,f]=P.useState("");function p(m){const{name:v,value:b}=m.target;c(y=>({...y,[v]:b}))}async function g(m){m.preventDefault(),h(!0),f("");try{const v=i?`${a}/users/${t._id}`:`${a}/users`,b=i?"PUT":"POST",y={name:l.name,email:l.email,role:l.role,...l.password?{password:l.password}:{}},j=await fetch(v,{method:b,headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(y)}),w=await j.json().catch(()=>({}));if(!j.ok){f(w.error||"No se pudo guardar"),h(!1);return}await n()}catch(v){console.error(v),f("Error de red"),h(!1)}}return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"w-full max-w-lg admin-panel",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:i?"Editar usuario":"Agregar miembro del equipo"}),o.jsx("button",{onClick:r,className:"text-white/70 hover:text-white",children:o.jsx(a_,{})})]}),d&&o.jsx("div",{className:"mb-4 rounded-lg bg-red-900/40 border border-red-800/40 px-3 py-2 text-sm text-red-200",children:d}),o.jsxs("form",{className:"space-y-4",onSubmit:g,children:[o.jsx("input",{type:"text",name:"name",value:l.name,onChange:p,placeholder:"Nombre completo",className:"admin-input",required:!0}),o.jsx("input",{type:"email",name:"email",value:l.email,onChange:p,placeholder:"Correo electr√≥nico",className:"admin-input",required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("select",{name:"role",value:l.role,onChange:p,className:"admin-select",children:[o.jsx("option",{value:"user",children:"Usuario externo"}),o.jsx("option",{value:"editor",children:"Editor"}),o.jsx("option",{value:"admin",children:"Administrador"})]}),o.jsx("input",{type:"password",name:"password",value:l.password,onChange:p,placeholder:i?"Nueva contrase√±a (opcional)":"Contrase√±a",className:"admin-input",required:!i})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn-ghost",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:u,className:"btn-primary",children:u?"Guardando...":i?"Guardar cambios":"Crear usuario"})]})]})]})})}function Rw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Rw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Rw(e))&&(n&&(n+=" "),n+=t);return n}var WM=gn,VM=vn,GM="[object Symbol]";function KM(e){return typeof e=="symbol"||VM(e)&&WM(e)==GM}var ja=KM,YM=Zt,XM=ja,ZM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JM=/^\w*$/;function QM(e,t){if(YM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||XM(e)?!0:JM.test(e)||!ZM.test(e)||t!=null&&e in Object(t)}var pp=QM,Dw=ep,ez="Expected a function";function mp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ez);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(mp.Cache||Dw),r}mp.Cache=Dw;var Bw=mp;const tz=ze(Bw);var rz=Bw,nz=500;function iz(e){var t=rz(e,function(n){return r.size===nz&&r.clear(),n}),r=t.cache;return t}var az=iz,oz=az,sz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lz=/\\(\\)?/g,cz=oz(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sz,function(r,n,i,a){t.push(i?a.replace(lz,"$1"):n||r)}),t}),uz=cz;function dz(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var gp=dz,A0=ss,fz=gp,hz=Zt,pz=ja,mz=1/0,k0=A0?A0.prototype:void 0,P0=k0?k0.toString:void 0;function Fw(e){if(typeof e=="string")return e;if(hz(e))return fz(e,Fw)+"";if(pz(e))return P0?P0.call(e):"";var t=e+"";return t=="0"&&1/e==-mz?"-0":t}var gz=Fw,vz=gz;function yz(e){return e==null?"":vz(e)}var qw=yz,bz=Zt,xz=pp,wz=uz,jz=qw;function Sz(e,t){return bz(e)?e:xz(e,t)?[e]:wz(jz(e))}var Uw=Sz,Nz=ja,Oz=1/0;function _z(e){if(typeof e=="string"||Nz(e))return e;var t=e+"";return t=="0"&&1/e==-Oz?"-0":t}var Zc=_z,Ez=Uw,Az=Zc;function kz(e,t){t=Ez(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Az(t[r++])];return r&&r==n?e:void 0}var vp=kz,Pz=vp;function Tz(e,t,r){var n=e==null?void 0:Pz(e,t);return n===void 0?r:n}var Hw=Tz;const lr=ze(Hw);function Cz(e){return e==null}var $z=Cz;const Pe=ze($z);var Iz=gn,Mz=Zt,zz=vn,Lz="[object String]";function Rz(e){return typeof e=="string"||!Mz(e)&&zz(e)&&Iz(e)==Lz}var Dz=Rz;const ni=ze(Dz);var Ww={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),bp=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),tu=Symbol.for("react.provider"),ru=Symbol.for("react.context"),Bz=Symbol.for("react.server_context"),nu=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),ou=Symbol.for("react.memo"),su=Symbol.for("react.lazy"),Fz=Symbol.for("react.offscreen"),Vw;Vw=Symbol.for("react.module.reference");function xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yp:switch(e=e.type,e){case Jc:case eu:case Qc:case iu:case au:return e;default:switch(e=e&&e.$$typeof,e){case Bz:case ru:case nu:case su:case ou:case tu:return e;default:return t}}case bp:return t}}}We.ContextConsumer=ru;We.ContextProvider=tu;We.Element=yp;We.ForwardRef=nu;We.Fragment=Jc;We.Lazy=su;We.Memo=ou;We.Portal=bp;We.Profiler=eu;We.StrictMode=Qc;We.Suspense=iu;We.SuspenseList=au;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(e){return xr(e)===ru};We.isContextProvider=function(e){return xr(e)===tu};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yp};We.isForwardRef=function(e){return xr(e)===nu};We.isFragment=function(e){return xr(e)===Jc};We.isLazy=function(e){return xr(e)===su};We.isMemo=function(e){return xr(e)===ou};We.isPortal=function(e){return xr(e)===bp};We.isProfiler=function(e){return xr(e)===eu};We.isStrictMode=function(e){return xr(e)===Qc};We.isSuspense=function(e){return xr(e)===iu};We.isSuspenseList=function(e){return xr(e)===au};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jc||e===eu||e===Qc||e===iu||e===au||e===Fz||typeof e=="object"&&e!==null&&(e.$$typeof===su||e.$$typeof===ou||e.$$typeof===tu||e.$$typeof===ru||e.$$typeof===nu||e.$$typeof===Vw||e.getModuleId!==void 0)};We.typeOf=xr;Ww.exports=We;var qz=Ww.exports,Uz=gn,Hz=vn,Wz="[object Number]";function Vz(e){return typeof e=="number"||Hz(e)&&Uz(e)==Wz}var Gw=Vz;const Gz=ze(Gw);var Kz=Gw;function Yz(e){return Kz(e)&&e!=+e}var Xz=Yz;const ps=ze(Xz);var Bt=function(t){return t===0?0:t>0?1:-1},Kn=function(t){return ni(t)&&t.indexOf("%")===t.length-1},de=function(t){return Gz(t)&&!ps(t)},bt=function(t){return de(t)||ni(t)},Zz=0,Sa=function(t){var r=++Zz;return"".concat(t||"").concat(r)},Ft=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!ni(t))return n;var a;if(Kn(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return ps(a)&&(a=n),i&&a>r&&(a=r),a},Ni=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Jz=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},rr=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function $l(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):lr(n,t))===r})}var Qz=function(t,r){return de(t)&&de(r)?t-r:ni(t)&&ni(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Mi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var e8=["viewBox","children"],t8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],T0=["points","pathLength"],ld={svg:e8,polygon:T0,polyline:T0},xp=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Il=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),!ga(n))return null;var i={};return Object.keys(n).forEach(function(a){xp.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},r8=function(t,r,n){return function(i){return t(r,n,i),null}},ii=function(t,r,n){if(!ga(t)||wf(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];xp.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=r8(s,r,n))}),i},n8=["children"],i8=["children"];function C0(e,t){if(e==null)return{};var r=a8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}var $0={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ln=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},I0=null,cd=null,wp=function e(t){if(t===I0&&Array.isArray(cd))return cd;var r=[];return P.Children.forEach(t,function(n){Pe(n)||(qz.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),cd=r,I0=t,r};function cr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ln(i)}):n=[ln(t)],wp(e).forEach(function(i){var a=lr(i,"type.displayName")||lr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function tr(e,t){var r=cr(e,t);return r&&r[0]}var M0=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!de(n)||n<=0||!de(i)||i<=0)},o8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],s8=function(t){return t&&t.type&&ni(t.type)&&o8.indexOf(t.type)>=0},l8=function(t){return t&&jf(t)==="object"&&"clipDot"in t},c8=function(t,r,n,i){var a,s=(a=ld==null?void 0:ld[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ke(t)&&(i&&s.includes(r)||t8.includes(r))||n&&xp.includes(r)},Se=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(P.isValidElement(t)&&(i=t.props),!ga(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;c8((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},Sf=function e(t,r){if(t===r)return!0;var n=P.Children.count(t);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return z0(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!z0(a,s))return!1}return!0},z0=function(t,r){if(Pe(t)&&Pe(r))return!0;if(!Pe(t)&&!Pe(r)){var n=t.props||{},i=n.children,a=C0(n,n8),s=r.props||{},l=s.children,c=C0(s,i8);return i&&l?Mi(a,c)&&Sf(i,l):!i&&!l?Mi(a,c):!1}return!1},L0=function(t,r){var n=[],i={};return wp(t).forEach(function(a,s){if(s8(a))n.push(a);else if(a){var l=ln(a.type),c=r[l]||{},u=c.handler,h=c.once;if(u&&(!h||!i[l])){var d=u(a,l,s);n.push(d),i[l]=!0}}}),n},u8=function(t){var r=t&&t.type;return r&&$0[r]?$0[r]:null},d8=function(t,r){return wp(r).indexOf(t)},f8=["children","width","height","viewBox","className","style","title","desc"];function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function h8(e,t){if(e==null)return{};var r=p8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Of(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=h8(e,f8),h=i||{width:r,height:n,x:0,y:0},d=$e("recharts-surface",a);return G.createElement("svg",Nf({},Se(u,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),G.createElement("title",null,l),G.createElement("desc",null,c),t)}var m8=["children","className"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(this,arguments)}function g8(e,t){if(e==null)return{};var r=v8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Re=G.forwardRef(function(e,t){var r=e.children,n=e.className,i=g8(e,m8),a=$e("recharts-layer",n);return G.createElement("g",_f({className:a},Se(i,!0),{ref:t}),r)}),cn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function y8(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var b8=y8,x8=b8;function w8(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:x8(e,t,r)}var j8=w8,S8="\\ud800-\\udfff",N8="\\u0300-\\u036f",O8="\\ufe20-\\ufe2f",_8="\\u20d0-\\u20ff",E8=N8+O8+_8,A8="\\ufe0e\\ufe0f",k8="\\u200d",P8=RegExp("["+k8+S8+E8+A8+"]");function T8(e){return P8.test(e)}var Kw=T8;function C8(e){return e.split("")}var $8=C8,Yw="\\ud800-\\udfff",I8="\\u0300-\\u036f",M8="\\ufe20-\\ufe2f",z8="\\u20d0-\\u20ff",L8=I8+M8+z8,R8="\\ufe0e\\ufe0f",D8="["+Yw+"]",Ef="["+L8+"]",Af="\\ud83c[\\udffb-\\udfff]",B8="(?:"+Ef+"|"+Af+")",Xw="[^"+Yw+"]",Zw="(?:\\ud83c[\\udde6-\\uddff]){2}",Jw="[\\ud800-\\udbff][\\udc00-\\udfff]",F8="\\u200d",Qw=B8+"?",e2="["+R8+"]?",q8="(?:"+F8+"(?:"+[Xw,Zw,Jw].join("|")+")"+e2+Qw+")*",U8=e2+Qw+q8,H8="(?:"+[Xw+Ef+"?",Ef,Zw,Jw,D8].join("|")+")",W8=RegExp(Af+"(?="+Af+")|"+H8+U8,"g");function V8(e){return e.match(W8)||[]}var G8=V8,K8=$8,Y8=Kw,X8=G8;function Z8(e){return Y8(e)?X8(e):K8(e)}var J8=Z8,Q8=j8,eL=Kw,tL=J8,rL=qw;function nL(e){return function(t){t=rL(t);var r=eL(t)?tL(t):void 0,n=r?r[0]:t.charAt(0),i=r?Q8(r,1).join(""):t.slice(1);return n[e]()+i}}var iL=nL,aL=iL,oL=aL("toUpperCase"),sL=oL;const lu=ze(sL);function Xe(e){return function(){return e}}const t2=Math.cos,Ml=Math.sin,Tr=Math.sqrt,zl=Math.PI,cu=2*zl,kf=Math.PI,Pf=2*kf,qn=1e-6,lL=Pf-qn;function r2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function cL(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class uL{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r2:cL(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,h=s-t,d=l-r,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>qn)if(!(Math.abs(d*c-u*h)>qn)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=i-l,m=c*c+u*u,v=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(f),j=a*Math.tan((kf-Math.acos((m+f-v)/(2*b*y)))/2),w=j/y,x=j/b;Math.abs(w-1)>qn&&this._append`L${t+w*h},${r+w*d}`,this._append`A${a},${a},0,0,${+(d*p>h*g)},${this._x1=t+x*c},${this._y1=r+x*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,h=r+c,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>qn||Math.abs(this._y1-h)>qn)&&this._append`L${u},${h}`,n&&(f<0&&(f=f%Pf+Pf),f>lL?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=h}`:f>qn&&this._append`A${n},${n},0,${+(f>=kf)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function jp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new uL(t)}function Sp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n2(e){this._context=e}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uu(e){return new n2(e)}function i2(e){return e[0]}function a2(e){return e[1]}function o2(e,t){var r=Xe(!0),n=null,i=uu,a=null,s=jp(l);e=typeof e=="function"?e:e===void 0?i2:Xe(e),t=typeof t=="function"?t:t===void 0?a2:Xe(t);function l(c){var u,h=(c=Sp(c)).length,d,f=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=h;++u)!(u<h&&r(d=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,u,c),+t(d,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function zs(e,t,r){var n=null,i=Xe(!0),a=null,s=uu,l=null,c=jp(u);e=typeof e=="function"?e:e===void 0?i2:Xe(+e),t=typeof t=="function"?t:Xe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?a2:Xe(+r);function u(d){var f,p,g,m=(d=Sp(d)).length,v,b=!1,y,j=new Array(m),w=new Array(m);for(a==null&&(l=s(y=c())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===b)if(b=!b)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=p;--g)l.point(j[g],w[g]);l.lineEnd(),l.areaEnd()}b&&(j[f]=+e(v,f,d),w[f]=+t(v,f,d),l.point(n?+n(v,f,d):j[f],r?+r(v,f,d):w[f]))}if(y)return l=null,y+""||null}function h(){return o2().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Xe(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Xe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Xe(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Xe(+d),u):r},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(r)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Xe(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(l=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=l=null:l=s(a=d),u):a},u}class s2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dL(e){return new s2(e,!0)}function fL(e){return new s2(e,!1)}const Np={draw(e,t){const r=Tr(t/zl);e.moveTo(r,0),e.arc(0,0,r,0,cu)}},hL={draw(e,t){const r=Tr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},l2=Tr(1/3),pL=l2*2,mL={draw(e,t){const r=Tr(t/pL),n=r*l2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gL={draw(e,t){const r=Tr(t),n=-r/2;e.rect(n,n,r,r)}},vL=.8908130915292852,c2=Ml(zl/10)/Ml(7*zl/10),yL=Ml(cu/10)*c2,bL=-t2(cu/10)*c2,xL={draw(e,t){const r=Tr(t*vL),n=yL*r,i=bL*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=cu*a/5,l=t2(s),c=Ml(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},ud=Tr(3),wL={draw(e,t){const r=-Tr(t/(ud*3));e.moveTo(0,r*2),e.lineTo(-ud*r,-r),e.lineTo(ud*r,-r),e.closePath()}},ur=-.5,dr=Tr(3)/2,Tf=1/Tr(12),jL=(Tf/2+1)*3,SL={draw(e,t){const r=Tr(t/jL),n=r/2,i=r*Tf,a=n,s=r*Tf+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(ur*n-dr*i,dr*n+ur*i),e.lineTo(ur*a-dr*s,dr*a+ur*s),e.lineTo(ur*l-dr*c,dr*l+ur*c),e.lineTo(ur*n+dr*i,ur*i-dr*n),e.lineTo(ur*a+dr*s,ur*s-dr*a),e.lineTo(ur*l+dr*c,ur*c-dr*l),e.closePath()}};function NL(e,t){let r=null,n=jp(i);e=typeof e=="function"?e:Xe(e||Np),t=typeof t=="function"?t:Xe(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ll(){}function Rl(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function u2(e){this._context=e}u2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OL(e){return new u2(e)}function d2(e){this._context=e}d2.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _L(e){return new d2(e)}function f2(e){this._context=e}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EL(e){return new f2(e)}function h2(e){this._context=e}h2.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AL(e){return new h2(e)}function R0(e){return e<0?-1:1}function D0(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(R0(a)+R0(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function B0(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dd(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function Dl(e){this._context=e}Dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dd(this,this._t0,B0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dd(this,B0(this,r=D0(this,e,t)),r);break;default:dd(this,this._t0,r=D0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function p2(e){this._context=new m2(e)}(p2.prototype=Object.create(Dl.prototype)).point=function(e,t){Dl.prototype.point.call(this,t,e)};function m2(e){this._context=e}m2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function kL(e){return new Dl(e)}function PL(e){return new p2(e)}function g2(e){this._context=e}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=F0(e),i=F0(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F0(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function TL(e){return new g2(e)}function du(e,t){this._context=e,this._t=t}du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CL(e){return new du(e,.5)}function $L(e){return new du(e,0)}function IL(e){return new du(e,1)}function qi(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Cf(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ML(e,t){return e[t]}function zL(e){const t=[];return t.key=e,t}function LL(){var e=Xe([]),t=Cf,r=qi,n=ML;function i(a){var s=Array.from(e.apply(this,arguments),zL),l,c=s.length,u=-1,h;for(const d of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(d,s[l].key,u,a)]).data=d;for(l=0,h=Sp(t(s));l<c;++l)s[h[l]].index=l;return r(s,h),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Xe(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Cf:typeof a=="function"?a:Xe(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??qi,i):r},i}function RL(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}qi(e,t)}}function DL(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}qi(e,t)}}function BL(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var h=e[t[l]],d=h[n][1]||0,f=h[n-1][1]||0,p=(d-f)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}c+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,qi(e,t)}}function jo(e){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(e)}var FL=["type","size","sizeType"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}function q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(r),!0).forEach(function(n){qL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qL(e,t,r){return t=UL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UL(e){var t=HL(e,"string");return jo(t)=="symbol"?t:t+""}function HL(e,t){if(jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WL(e,t){if(e==null)return{};var r=VL(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var v2={symbolCircle:Np,symbolCross:hL,symbolDiamond:mL,symbolSquare:gL,symbolStar:xL,symbolTriangle:wL,symbolWye:SL},GL=Math.PI/180,KL=function(t){var r="symbol".concat(lu(t));return v2[r]||Np},YL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*GL;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XL=function(t,r){v2["symbol".concat(lu(t))]=r},Op=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=WL(t,FL),u=U0(U0({},c),{},{type:n,size:a,sizeType:l}),h=function(){var v=KL(n),b=NL().type(v).size(YL(a,l,n));return b()},d=u.className,f=u.cx,p=u.cy,g=Se(u,!0);return f===+f&&p===+p&&a===+a?G.createElement("path",$f({},g,{className:$e("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:h()})):null};Op.registerSymbol=XL;function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function H0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H0(Object(r),!0).forEach(function(n){So(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2(n.key),n)}}function QL(e,t,r){return t&&W0(e.prototype,t),r&&W0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eR(e,t,r){return t=Bl(t),tR(e,y2()?Reflect.construct(t,r||[],Bl(e).constructor):t.apply(e,r))}function tR(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rR(e)}function rR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y2=function(){return!!e})()}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bl(e)}function nR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mf(e,t)}function Mf(e,t){return Mf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mf(e,t)}function So(e,t,r){return t=b2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b2(e){var t=iR(e,"string");return Ui(t)=="symbol"?t:t+""}function iR(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fr=32,_p=function(e){function t(){return JL(this,t),eR(this,t,arguments)}return nR(t,e),QL(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=fr/2,s=fr/6,l=fr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:fr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(fr,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var u=ZL({},n);return delete u.legendIcon,G.cloneElement(n.legendIcon,u)}return G.createElement(Op,{fill:c,cx:a,cy:a,size:fr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:fr,height:fr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||c,v=$e(So(So({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ke(p.value)?null:p.value;cn(!ke(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return G.createElement("li",If({className:v,style:d,key:"legend-item-".concat(g)},ii(n.props,p,g)),G.createElement(Of,{width:s,height:s,viewBox:h,style:f},n.renderIcon(p)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(P.PureComponent);So(_p,"displayName","Legend");So(_p,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aR=x1,oR=op,sR=1,lR=2;function cR(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],h=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new aR;if(n)var f=n(u,h,c,e,t,d);if(!(f===void 0?oR(h,u,sR|lR,n,d):f))return!1}}return!0}var uR=cR,dR=Tn;function fR(e){return e===e&&!dR(e)}var x2=fR,hR=x2,pR=ap;function mR(e){for(var t=pR(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,hR(i)]}return t}var gR=mR;function vR(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var w2=vR,yR=uR,bR=gR,xR=w2;function wR(e){var t=bR(e);return t.length==1&&t[0][2]?xR(t[0][0],t[0][1]):function(r){return r===e||yR(r,e,t)}}var jR=wR;function SR(e,t){return e!=null&&t in Object(e)}var NR=SR,OR=Uw,_R=rp,ER=Zt,AR=np,kR=ip,PR=Zc;function TR(e,t,r){t=OR(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=PR(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&kR(i)&&AR(s,i)&&(ER(e)||_R(e)))}var CR=TR,$R=NR,IR=CR;function MR(e,t){return e!=null&&IR(e,t,$R)}var zR=MR,LR=op,RR=Hw,DR=zR,BR=pp,FR=x2,qR=w2,UR=Zc,HR=1,WR=2;function VR(e,t){return BR(e)&&FR(t)?qR(UR(e),t):function(r){var n=RR(r,e);return n===void 0&&n===t?DR(r,e):LR(t,n,HR|WR)}}var GR=VR;function KR(e){return e}var Na=KR;function YR(e){return function(t){return t==null?void 0:t[e]}}var XR=YR,ZR=vp;function JR(e){return function(t){return ZR(t,e)}}var QR=JR,eD=XR,tD=QR,rD=pp,nD=Zc;function iD(e){return rD(e)?eD(nD(e)):tD(e)}var aD=iD,oD=jR,sD=GR,lD=Na,cD=Zt,uD=aD;function dD(e){return typeof e=="function"?e:e==null?lD:typeof e=="object"?cD(e)?sD(e[0],e[1]):oD(e):uD(e)}var Cn=dD;function fD(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var hD=fD;function pD(e){return e!==e}var mD=pD;function gD(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var vD=gD,yD=hD,bD=mD,xD=vD;function wD(e,t,r){return t===t?xD(e,t,r):yD(e,bD,r)}var jD=wD,SD=jD;function ND(e,t){var r=e==null?0:e.length;return!!r&&SD(e,t,0)>-1}var OD=ND;function _D(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var ED=_D;function AD(){}var kD=AD,fd=T1,PD=kD,TD=tp,CD=1/0,$D=fd&&1/TD(new fd([,-0]))[1]==CD?function(e){return new fd(e)}:PD,ID=$D,MD=w1,zD=OD,LD=ED,RD=S1,DD=ID,BD=tp,FD=200;function qD(e,t,r){var n=-1,i=zD,a=e.length,s=!0,l=[],c=l;if(r)s=!1,i=LD;else if(a>=FD){var u=t?null:DD(e);if(u)return BD(u);s=!1,i=RD,c=new MD}else c=t?[]:l;e:for(;++n<a;){var h=e[n],d=t?t(h):h;if(h=r||h!==0?h:0,s&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),l.push(h)}else i(c,d,r)||(c!==l&&c.push(d),l.push(h))}return l}var UD=qD,HD=Cn,WD=UD;function VD(e,t){return e&&e.length?WD(e,HD(t)):[]}var GD=VD;const V0=ze(GD);function j2(e,t,r){return t===!0?V0(e,r):ke(t)?V0(e,t):e}function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}var KD=["ref"];function G0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(r),!0).forEach(function(n){fu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N2(n.key),n)}}function XD(e,t,r){return t&&K0(e.prototype,t),r&&K0(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZD(e,t,r){return t=Fl(t),JD(e,S2()?Reflect.construct(t,r||[],Fl(e).constructor):t.apply(e,r))}function JD(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QD(e)}function QD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S2=function(){return!!e})()}function Fl(e){return Fl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fl(e)}function e9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zf(e,t)}function zf(e,t){return zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zf(e,t)}function fu(e,t,r){return t=N2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2(e){var t=t9(e,"string");return Hi(t)=="symbol"?t:t+""}function t9(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r9(e,t){if(e==null)return{};var r=n9(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i9(e){return e.value}function a9(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(typeof e=="function")return G.createElement(e,t);t.ref;var r=r9(t,KD);return G.createElement(_p,r)}var Y0=1,ei=function(e){function t(){var r;YD(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ZD(this,t,[].concat(i)),fu(r,"lastBoundingBox",{width:-1,height:-1}),r}return e9(t,e),XD(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Y0||Math.abs(i.height-this.lastBoundingBox.height)>Y0)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?en({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,h=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();f={top:((h||0)-g.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return en(en({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,d=en(en({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},a9(a,en(en({},this.props),{},{payload:j2(h,u,i9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=en(en({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&de(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(P.PureComponent);fu(ei,"displayName","Legend");fu(ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var X0=ss,o9=rp,s9=Zt,Z0=X0?X0.isConcatSpreadable:void 0;function l9(e){return s9(e)||o9(e)||!!(Z0&&e&&e[Z0])}var c9=l9,u9=O1,d9=c9;function O2(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=d9),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?O2(l,t-1,r,n,i):u9(i,l):n||(i[i.length]=l)}return i}var _2=O2;function f9(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var h9=f9,p9=h9,m9=p9(),g9=m9,v9=g9,y9=ap;function b9(e,t){return e&&v9(e,t,y9)}var E2=b9,x9=Uc;function w9(e,t){return function(r,n){if(r==null)return r;if(!x9(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var j9=w9,S9=E2,N9=j9,O9=N9(S9),Ep=O9,_9=Ep,E9=Uc;function A9(e,t){var r=-1,n=E9(e)?Array(e.length):[];return _9(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var A2=A9;function k9(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var P9=k9,J0=ja;function T9(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=J0(e),s=t!==void 0,l=t===null,c=t===t,u=J0(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!c)return-1}return 0}var C9=T9,$9=C9;function I9(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var c=$9(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var M9=I9,hd=gp,z9=vp,L9=Cn,R9=A2,D9=P9,B9=A1,F9=M9,q9=Na,U9=Zt;function H9(e,t,r){t.length?t=hd(t,function(a){return U9(a)?function(s){return z9(s,a.length===1?a[0]:a)}:a}):t=[q9];var n=-1;t=hd(t,B9(L9));var i=R9(e,function(a,s,l){var c=hd(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return D9(i,function(a,s){return F9(a,s,r)})}var W9=H9;function V9(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var G9=V9,K9=G9,Q0=Math.max;function Y9(e,t,r){return t=Q0(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=Q0(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),K9(e,this,l)}}var X9=Y9;function Z9(e){return function(){return e}}var J9=Z9,Q9=di,e7=function(){try{var e=Q9(Object,"defineProperty");return e({},"",{}),e}catch{}}(),k2=e7,t7=J9,ev=k2,r7=Na,n7=ev?function(e,t){return ev(e,"toString",{configurable:!0,enumerable:!1,value:t7(t),writable:!0})}:r7,i7=n7,a7=800,o7=16,s7=Date.now;function l7(e){var t=0,r=0;return function(){var n=s7(),i=o7-(n-r);if(r=n,i>0){if(++t>=a7)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var c7=l7,u7=i7,d7=c7,f7=d7(u7),h7=f7,p7=Na,m7=X9,g7=h7;function v7(e,t){return g7(m7(e,t,p7),e+"")}var y7=v7,b7=Zh,x7=Uc,w7=np,j7=Tn;function S7(e,t,r){if(!j7(r))return!1;var n=typeof t;return(n=="number"?x7(r)&&w7(t,r.length):n=="string"&&t in r)?b7(r[t],e):!1}var hu=S7,N7=_2,O7=W9,_7=y7,tv=hu,E7=_7(function(e,t){if(e==null)return[];var r=t.length;return r>1&&tv(e,t[0],t[1])?t=[]:r>2&&tv(t[0],t[1],t[2])&&(t=[t[0]]),O7(e,N7(t,1),[])}),A7=E7;const Ap=ze(A7);function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function k7(e,t){return $7(e)||C7(e,t)||T7(e,t)||P7()}function P7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T7(e,t){if(e){if(typeof e=="string")return rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rv(e,t)}}function rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function $7(e){if(Array.isArray(e))return e}function nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nv(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=z7(e,"string");return No(t)=="symbol"?t:t+""}function z7(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L7(e){return Array.isArray(e)&&bt(e[0])&&bt(e[1])?e.join(" ~ "):e}var R7=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,d=t.formatter,f=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,j=function(){if(h&&h.length){var A={padding:0,margin:0},k=(f?Ap(h,f):h).map(function($,I){if($.type==="none")return null;var T=pd({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),R=$.formatter||d||L7,U=$.value,D=$.name,F=U,M=D;if(R&&F!=null&&M!=null){var L=R(U,D,$,I,h);if(Array.isArray(L)){var z=k7(L,2);F=z[0],M=z[1]}else F=L}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:T},bt(M)?G.createElement("span",{className:"recharts-tooltip-item-name"},M):null,bt(M)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},F),G.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:A},k)}return null},w=pd({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=pd({margin:0},u),S=!Pe(m),N=S?m:"",_=$e("recharts-default-tooltip",p),C=$e("recharts-tooltip-label",g);S&&v&&h!==void 0&&h!==null&&(N=v(m,h));var E=y?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",Lf({className:_,style:w},E),G.createElement("p",{className:C,style:x},G.isValidElement(N)?N:"".concat(N)),j())};function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function Ls(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=B7(e,"string");return Oo(t)=="symbol"?t:t+""}function B7(e,t){if(Oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ha="recharts-tooltip-wrapper",F7={visibility:"hidden"};function q7(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return $e(Ha,Ls(Ls(Ls(Ls({},"".concat(Ha,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(Ha,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(Ha,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(Ha,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function iv(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&de(a[n]))return a[n];var h=r[n]-l-i,d=r[n]+i;if(t[n])return s[n]?h:d;if(s[n]){var f=h,p=c[n];return f<p?Math.max(d,c[n]):Math.max(h,c[n])}var g=d+l,m=c[n]+u;return g>m?Math.max(h,c[n]):Math.max(d,c[n])}function U7(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function H7(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,h,d;return s.height>0&&s.width>0&&r?(h=iv({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=iv({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=U7({translateX:h,translateY:d,useTranslate3d:l})):u=F7,{cssProperties:u,cssClasses:q7({translateX:h,translateY:d,coordinate:r})}}function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(n){Df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T2(n.key),n)}}function V7(e,t,r){return t&&sv(e.prototype,t),r&&sv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7(e,t,r){return t=ql(t),K7(e,P2()?Reflect.construct(t,r||[],ql(e).constructor):t.apply(e,r))}function K7(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7(e)}function Y7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!e})()}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ql(e)}function X7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rf(e,t)}function Rf(e,t){return Rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rf(e,t)}function Df(e,t,r){return t=T2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2(e){var t=Z7(e,"string");return Wi(t)=="symbol"?t:t+""}function Z7(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lv=1,J7=function(e){function t(){var r;W7(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=G7(this,t,[].concat(i)),Df(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Df(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),r}return X7(t,e),V7(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lv||Math.abs(n.height-this.state.lastBoundingBox.height)>lv)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,h=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,j=H7({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),w=j.cssClasses,x=j.cssProperties,S=ov(ov({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return G.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(_){n.wrapperNode=_}},u)}}])}(P.PureComponent),Q7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Br={isSsr:Q7(),get:function(t){return Br[t]},set:function(t,r){if(typeof t=="string")Br[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Br[i]=t[i]})}}};function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cv(Object(r),!0).forEach(function(n){kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$2(n.key),n)}}function tB(e,t,r){return t&&dv(e.prototype,t),r&&dv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rB(e,t,r){return t=Ul(t),nB(e,C2()?Reflect.construct(t,r||[],Ul(e).constructor):t.apply(e,r))}function nB(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iB(e)}function iB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!e})()}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ul(e)}function aB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bf(e,t)}function kp(e,t,r){return t=$2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $2(e){var t=oB(e,"string");return Vi(t)=="symbol"?t:t+""}function oB(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sB(e){return e.dataKey}function lB(e,t){return G.isValidElement(e)?G.cloneElement(e,t):typeof e=="function"?G.createElement(e,t):G.createElement(R7,t)}var pr=function(e){function t(){return eB(this,t),rB(this,t,arguments)}return aB(t,e),tB(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,h=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,j=i.viewBox,w=i.wrapperStyle,x=g??[];d&&x.length&&(x=j2(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,sB));var S=x.length>0;return G.createElement(J7,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:h,hasPayload:S,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:j,wrapperStyle:w},lB(u,uv(uv({},this.props),{},{payload:x})))}}])}(P.PureComponent);kp(pr,"displayName","Tooltip");kp(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Br.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cB=Hr,uB=function(){return cB.Date.now()},dB=uB,fB=/\s/;function hB(e){for(var t=e.length;t--&&fB.test(e.charAt(t)););return t}var pB=hB,mB=pB,gB=/^\s+/;function vB(e){return e&&e.slice(0,mB(e)+1).replace(gB,"")}var yB=vB,bB=yB,fv=Tn,xB=ja,hv=0/0,wB=/^[-+]0x[0-9a-f]+$/i,jB=/^0b[01]+$/i,SB=/^0o[0-7]+$/i,NB=parseInt;function OB(e){if(typeof e=="number")return e;if(xB(e))return hv;if(fv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bB(e);var r=jB.test(e);return r||SB.test(e)?NB(e.slice(2),r?2:8):wB.test(e)?hv:+e}var I2=OB,_B=Tn,md=dB,pv=I2,EB="Expected a function",AB=Math.max,kB=Math.min;function PB(e,t,r){var n,i,a,s,l,c,u=0,h=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(EB);t=pv(t)||0,_B(r)&&(h=!!r.leading,d="maxWait"in r,a=d?AB(pv(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function p(S){var N=n,_=i;return n=i=void 0,u=S,s=e.apply(_,N),s}function g(S){return u=S,l=setTimeout(b,t),h?p(S):s}function m(S){var N=S-c,_=S-u,C=t-N;return d?kB(C,a-_):C}function v(S){var N=S-c,_=S-u;return c===void 0||N>=t||N<0||d&&_>=a}function b(){var S=md();if(v(S))return y(S);l=setTimeout(b,m(S))}function y(S){return l=void 0,f&&n?p(S):(n=i=void 0,s)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function w(){return l===void 0?s:y(md())}function x(){var S=md(),N=v(S);if(n=arguments,i=this,c=S,N){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),s}return x.cancel=j,x.flush=w,x}var TB=PB,CB=TB,$B=Tn,IB="Expected a function";function MB(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(IB);return $B(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),CB(e,t,{leading:n,maxWait:t,trailing:i})}var zB=MB;const M2=ze(zB);function _o(e){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(e)}function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mv(Object(r),!0).forEach(function(n){LB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LB(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=DB(e,"string");return _o(t)=="symbol"?t:t+""}function DB(e,t){if(_o(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BB(e,t){return HB(e)||UB(e,t)||qB(e,t)||FB()}function FB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qB(e,t){if(e){if(typeof e=="string")return gv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gv(e,t)}}function gv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function HB(e){if(Array.isArray(e))return e}var gd=P.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,h=u===void 0?0:u,d=e.minHeight,f=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,b=e.className,y=e.onResize,j=e.style,w=j===void 0?{}:j,x=P.useRef(null),S=P.useRef();S.current=y,P.useImperativeHandle(t,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var N=P.useState({containerWidth:i.width,containerHeight:i.height}),_=BB(N,2),C=_[0],E=_[1],O=P.useCallback(function(k,$){E(function(I){var T=Math.round(k),R=Math.round($);return I.containerWidth===T&&I.containerHeight===R?I:{containerWidth:T,containerHeight:R}})},[]);P.useEffect(function(){var k=function(D){var F,M=D[0].contentRect,L=M.width,z=M.height;O(L,z),(F=S.current)===null||F===void 0||F.call(S,L,z)};m>0&&(k=M2(k,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),I=x.current.getBoundingClientRect(),T=I.width,R=I.height;return O(T,R),$.observe(x.current),function(){$.disconnect()}},[O,m]);var A=P.useMemo(function(){var k=C.containerWidth,$=C.containerHeight;if(k<0||$<0)return null;cn(Kn(s)||Kn(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),cn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Kn(s)?k:s,T=Kn(c)?$:c;r&&r>0&&(I?T=I/r:T&&(I=T*r),f&&T>f&&(T=f)),cn(I>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,T,s,c,h,d,r);var R=!Array.isArray(p)&&ln(p.type).endsWith("Chart");return G.Children.map(p,function(U){return G.isValidElement(U)?P.cloneElement(U,Rs({width:I,height:T},R?{style:Rs({height:"100%",width:"100%",maxHeight:T,maxWidth:I},U.props.style)}:{})):U})},[r,p,c,f,d,h,C,s]);return G.createElement("div",{id:v?"".concat(v):void 0,className:$e("recharts-responsive-container",b),style:Rs(Rs({},w),{},{width:s,height:c,minWidth:h,minHeight:d,maxHeight:f}),ref:x},A)}),pu=function(t){return null};pu.displayName="Cell";function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(n){WB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WB(e,t,r){return t=VB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=GB(e,"string");return Eo(t)=="symbol"?t:t+""}function GB(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yi={widthCache:{},cacheCount:0},KB=2e3,YB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yv="recharts_measurement_span";function XB(e){var t=Ff({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ao=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Br.isSsr)return{width:0,height:0};var n=XB(r),i=JSON.stringify({text:t,copyStyle:n});if(yi.widthCache[i])return yi.widthCache[i];try{var a=document.getElementById(yv);a||(a=document.createElement("span"),a.setAttribute("id",yv),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ff(Ff({},YB),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return yi.widthCache[i]=c,++yi.cacheCount>KB&&(yi.cacheCount=0,yi.widthCache={}),c}catch{return{width:0,height:0}}},ZB=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ao(e){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(e)}function Hl(e,t){return tF(e)||eF(e,t)||QB(e,t)||JB()}function JB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(e,t){if(e){if(typeof e=="string")return bv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(e,t)}}function bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function tF(e){if(Array.isArray(e))return e}function rF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function nF(e,t,r){return t&&xv(e.prototype,t),r&&xv(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iF(e){var t=aF(e,"string");return Ao(t)=="symbol"?t:t+""}function aF(e,t){if(Ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lF=Object.keys(z2),Oi="NaN";function cF(e,t){return e*z2[t]}var Ds=function(){function e(t,r){rF(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!oF.test(r)&&(this.num=NaN,this.unit=""),lF.includes(r)&&(this.num=cF(t,r),this.unit="px")}return nF(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=sF.exec(r))!==null&&n!==void 0?n:[],a=Hl(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function L2(e){if(e.includes(Oi))return Oi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=wv.exec(t))!==null&&r!==void 0?r:[],i=Hl(n,4),a=i[1],s=i[2],l=i[3],c=Ds.parse(a??""),u=Ds.parse(l??""),h=s==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return Oi;t=t.replace(wv,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=jv.exec(t))!==null&&d!==void 0?d:[],p=Hl(f,4),g=p[1],m=p[2],v=p[3],b=Ds.parse(g??""),y=Ds.parse(v??""),j=m==="+"?b.add(y):b.subtract(y);if(j.isNaN())return Oi;t=t.replace(jv,j.toString())}return t}var Sv=/\(([^()]*)\)/;function uF(e){for(var t=e;t.includes("(");){var r=Sv.exec(t),n=Hl(r,2),i=n[1];t=t.replace(Sv,L2(i))}return t}function dF(e){var t=e.replace(/\s+/g,"");return t=uF(t),t=L2(t),t}function fF(e){try{return dF(e)}catch{return Oi}}function vd(e){var t=fF(e.slice(5,-1));return t===Oi?"":t}var hF=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pF=["dx","dy","angle","className","breakAll"];function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(this,arguments)}function Nv(e,t){if(e==null)return{};var r=mF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ov(e,t){return bF(e)||yF(e,t)||vF(e,t)||gF()}function gF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(e,t){if(e){if(typeof e=="string")return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(e,t)}}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function bF(e){if(Array.isArray(e))return e}var R2=/[ \f\n\r\t\v\u2028\u2029]+/,D2=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Pe(r)||(n?a=r.toString().split(""):a=r.toString().split(R2));var s=a.map(function(c){return{word:c,width:ao(c,i).width}}),l=n?0:ao("¬†",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},xF=function(t,r,n,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,h=de(s),d=l,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(T,R){var U=R.word,D=R.width,F=T[T.length-1];if(F&&(i==null||a||F.width+D+n<Number(i)))F.words.push(U),F.width+=D+n;else{var M={words:[U],width:D};T.push(M)}return T},[])},p=f(r),g=function(I){return I.reduce(function(T,R){return T.width>R.width?T:R})};if(!h)return p;for(var m="‚Ä¶",v=function(I){var T=d.slice(0,I),R=D2({breakAll:u,style:c,children:T+m}).wordsWithComputedWidth,U=f(R),D=U.length>s||g(U).width>Number(i);return[D,U]},b=0,y=d.length-1,j=0,w;b<=y&&j<=d.length-1;){var x=Math.floor((b+y)/2),S=x-1,N=v(S),_=Ov(N,2),C=_[0],E=_[1],O=v(x),A=Ov(O,1),k=A[0];if(!C&&!k&&(b=x+1),C&&k&&(y=x-1),!C&&k){w=E;break}j++}return w||p},Ev=function(t){var r=Pe(t)?[]:t.toString().split(R2);return[{words:r}]},wF=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Br.isSsr){var c,u,h=D2({breakAll:s,children:i,style:a});if(h){var d=h.wordsWithComputedWidth,f=h.spaceWidth;c=d,u=f}else return Ev(i);return xF({breakAll:s,children:i,maxLines:l,style:a},c,u,r,n)}return Ev(i)},Av="#808080",ai=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,d=h===void 0?!1:h,f=t.textAnchor,p=f===void 0?"start":f,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,b=v===void 0?Av:v,y=Nv(t,hF),j=P.useMemo(function(){return wF({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,x=y.dy,S=y.angle,N=y.className,_=y.breakAll,C=Nv(y,pF);if(!bt(n)||!bt(a))return null;var E=n+(de(w)?w:0),O=a+(de(x)?x:0),A;switch(m){case"start":A=vd("calc(".concat(u,")"));break;case"middle":A=vd("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:A=vd("calc(".concat(j.length-1," * -").concat(l,")"));break}var k=[];if(d){var $=j[0].width,I=y.width;k.push("scale(".concat((de(I)?I/$:1)/$,")"))}return S&&k.push("rotate(".concat(S,", ").concat(E,", ").concat(O,")")),k.length&&(C.transform=k.join(" ")),G.createElement("text",qf({},Se(C,!0),{x:E,y:O,className:$e("recharts-text",N),textAnchor:p,fill:b.includes("url")?Av:b}),j.map(function(T,R){var U=T.words.join(_?"":" ");return G.createElement("tspan",{x:E,dy:R===0?A:l,key:"".concat(U,"-").concat(R)},U)}))};function kn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pp(e){let t,r,n;e.length!==2?(t=kn,r=(l,c)=>kn(e(l),c),n=(l,c)=>e(l)-c):(t=e===kn||e===jF?e:SF,r=e,n=e);function i(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const d=u+h>>>1;r(l[d],c)<0?u=d+1:h=d}while(u<h)}return u}function a(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const d=u+h>>>1;r(l[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function s(l,c,u=0,h=l.length){const d=i(l,c,u,h-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:s,right:a}}function SF(){return 0}function B2(e){return e===null?NaN:+e}function*NF(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const OF=Pp(kn),_F=OF.right;Pp(B2).center;const ms=_F;class kv extends Map{constructor(t,r=kF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Pv(this,t))}has(t){return super.has(Pv(this,t))}set(t,r){return super.set(EF(this,t),r)}delete(t){return super.delete(AF(this,t))}}function Pv({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function EF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PF(e=kn){if(e===kn)return F2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function F2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TF=Math.sqrt(50),CF=Math.sqrt(10),$F=Math.sqrt(2);function Wl(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=TF?10:a>=CF?5:a>=$F?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Wl(e,t,r*2):[l,c,u]}function Uf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Wl(t,e,r):Wl(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function Hf(e,t,r){return t=+t,e=+e,r=+r,Wl(e,t,r)[2]}function Wf(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Hf(t,e,r):Hf(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Tv(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Cv(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function q2(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?F2:PF(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,h=Math.log(c),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+f)),g=Math.min(n,Math.floor(t+(c-u)*d/c+f));q2(e,t,p,g,i)}const a=e[t];let s=r,l=n;for(Wa(e,r,t),i(e[n],a)>0&&Wa(e,r,n);s<l;){for(Wa(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Wa(e,r,l):(++l,Wa(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Wa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function IF(e,t,r){if(e=Float64Array.from(NF(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Cv(e);if(t>=1)return Tv(e);var n,i=(n-1)*t,a=Math.floor(i),s=Tv(q2(e,a).subarray(0,a+1)),l=Cv(e.subarray(a+1));return s+(l-s)*(i-a)}}function MF(e,t,r=B2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function zF(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function wr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vf=Symbol("implicit");function Tp(){var e=new kv,t=[],r=[],n=Vf;function i(a){let s=e.get(a);if(s===void 0){if(n!==Vf)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new kv;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Tp(t,r).unknown(n)},wr.apply(i,arguments),i}function ko(){var e=Tp().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,h=.5;delete e.unknown;function d(){var f=t().length,p=i<n,g=p?i:n,m=p?n:i;a=(m-g)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),g+=(m-g-a*(f-c))*h,s=a*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=zF(f).map(function(b){return g+a*b});return r(p?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,d()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),d()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),d()):h},e.copy=function(){return ko(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},wr.apply(d(),arguments)}function U2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U2(t())},e}function oo(){return U2(ko.apply(null,arguments).paddingInner(1))}function Cp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function H2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gs(){}var Po=.7,Vl=1/Po,zi="\\s*([+-]?\\d+)\\s*",To="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LF=/^#([0-9a-f]{3,8})$/,RF=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),DF=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),BF=new RegExp(`^rgba\\(${zi},${zi},${zi},${To}\\)$`),FF=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${To}\\)$`),qF=new RegExp(`^hsl\\(${To},${Fr},${Fr}\\)$`),UF=new RegExp(`^hsla\\(${To},${Fr},${Fr},${To}\\)$`),$v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cp(gs,Co,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Iv,formatHex:Iv,formatHex8:HF,formatHsl:WF,formatRgb:Mv,toString:Mv});function Iv(){return this.rgb().formatHex()}function HF(){return this.rgb().formatHex8()}function WF(){return W2(this).formatHsl()}function Mv(){return this.rgb().formatRgb()}function Co(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zv(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RF.exec(e))?new Yt(t[1],t[2],t[3],1):(t=DF.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BF.exec(e))?Bs(t[1],t[2],t[3],t[4]):(t=FF.exec(e))?Bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qF.exec(e))?Dv(t[1],t[2]/100,t[3]/100,1):(t=UF.exec(e))?Dv(t[1],t[2]/100,t[3]/100,t[4]):$v.hasOwnProperty(e)?zv($v[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function zv(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function Bs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function VF(e){return e instanceof gs||(e=Co(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function Gf(e,t,r,n){return arguments.length===1?VF(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Cp(Yt,Gf,H2(gs,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(ti(this.r),ti(this.g),ti(this.b),Gl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lv,formatHex:Lv,formatHex8:GF,formatRgb:Rv,toString:Rv}));function Lv(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function GF(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rv(){const e=Gl(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function Gl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yn(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function Dv(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ar(e,t,r,n)}function W2(e){if(e instanceof Ar)return new Ar(e.h,e.s,e.l,e.opacity);if(e instanceof gs||(e=Co(e)),!e)return new Ar;if(e instanceof Ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Ar(s,l,c,e.opacity)}function KF(e,t,r,n){return arguments.length===1?W2(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Cp(Ar,KF,H2(gs,{brighter(e){return e=e==null?Vl:Math.pow(Vl,e),new Ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Po:Math.pow(Po,e),new Ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yt(yd(e>=240?e-240:e+120,i,n),yd(e,i,n),yd(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ar(Bv(this.h),Fs(this.s),Fs(this.l),Gl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gl(this.opacity);return`${e===1?"hsl(":"hsla("}${Bv(this.h)}, ${Fs(this.s)*100}%, ${Fs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bv(e){return e=(e||0)%360,e<0?e+360:e}function Fs(e){return Math.max(0,Math.min(1,e||0))}function yd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $p=e=>()=>e;function YF(e,t){return function(r){return e+r*t}}function XF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ZF(e){return(e=+e)==1?V2:function(t,r){return r-t?XF(t,r,e):$p(isNaN(t)?r:t)}}function V2(e,t){var r=t-e;return r?YF(e,r):$p(isNaN(e)?t:e)}const Fv=function e(t){var r=ZF(t);function n(i,a){var s=r((i=Gf(i)).r,(a=Gf(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=V2(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return n.gamma=e,n}(1);function JF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function QF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eq(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Oa(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function tq(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kl(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rq(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Oa(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Kf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bd=new RegExp(Kf.source,"g");function nq(e){return function(){return e}}function iq(e){return function(t){return e(t)+""}}function aq(e,t){var r=Kf.lastIndex=bd.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Kf.exec(e))&&(i=bd.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Kl(n,i)})),r=bd.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?iq(c[0].x):nq(t):(t=c.length,function(u){for(var h=0,d;h<t;++h)l[(d=c[h]).i]=d.x(u);return l.join("")})}function Oa(e,t){var r=typeof t,n;return t==null||r==="boolean"?$p(t):(r==="number"?Kl:r==="string"?(n=Co(t))?(t=n,Fv):aq:t instanceof Co?Fv:t instanceof Date?tq:QF(t)?JF:Array.isArray(t)?eq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rq:Kl)(e,t)}function Ip(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oq(e,t){t===void 0&&(t=e,e=Oa);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function sq(e){return function(){return e}}function Yl(e){return+e}var qv=[0,1];function qt(e){return e}function Yf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sq(isNaN(t)?NaN:.5)}function lq(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cq(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Yf(i,n),a=r(s,a)):(n=Yf(n,i),a=r(a,s)),function(l){return a(n(l))}}function uq(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Yf(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=ms(e,l,1,n)-1;return a[c](i[c](l))}}function vs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mu(){var e=qv,t=qv,r=Oa,n,i,a,s=qt,l,c,u;function h(){var f=Math.min(e.length,t.length);return s!==qt&&(s=lq(e[0],e[f-1])),l=f>2?uq:cq,c=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(n),t,r)))(n(s(f)))}return d.invert=function(f){return s(i((u||(u=l(t,e.map(n),Kl)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Yl),h()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=Ip,h()},d.clamp=function(f){return arguments.length?(s=f?!0:qt,h()):s!==qt},d.interpolate=function(f){return arguments.length?(r=f,h()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,i=p,h()}}function Mp(){return mu()(qt,qt)}function dq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xl(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Gi(e){return e=Xl(Math.abs(e)),e?e[1]:NaN}function fq(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function hq(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $o(e){if(!(t=pq.exec(e)))throw new Error("invalid format: "+e);var t;return new zp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$o.prototype=zp.prototype;function zp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mq(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var G2;function gq(e,t){var r=Xl(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(G2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Xl(e,Math.max(0,t+a-1))[0]}function Uv(e,t){var r=Xl(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Hv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Uv(e*100,t),r:Uv,s:gq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wv(e){return e}var Vv=Array.prototype.map,Gv=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function vq(e){var t=e.grouping===void 0||e.thousands===void 0?Wv:fq(Vv.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Wv:hq(Vv.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"‚àí":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=$o(d);var f=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,b=d.width,y=d.comma,j=d.precision,w=d.trim,x=d.type;x==="n"?(y=!0,x="g"):Hv[x]||(j===void 0&&(j=12),w=!0,x="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",N=m==="$"?n:/[%p]/.test(x)?s:"",_=Hv[x],C=/[defgprs%]/.test(x);j=j===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(O){var A=S,k=N,$,I,T;if(x==="c")k=_(O)+k,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:_(Math.abs(O),j),w&&(O=mq(O)),R&&+O==0&&g!=="+"&&(R=!1),A=(R?g==="("?g:l:g==="-"||g==="("?"":g)+A,k=(x==="s"?Gv[8+G2/3]:"")+k+(R&&g==="("?")":""),C){for($=-1,I=O.length;++$<I;)if(T=O.charCodeAt($),48>T||T>57){k=(T===46?i+O.slice($+1):O.slice($))+k,O=O.slice(0,$);break}}}y&&!v&&(O=t(O,1/0));var U=A.length+O.length+k.length,D=U<b?new Array(b-U+1).join(f):"";switch(y&&v&&(O=t(D+O,D.length?b-k.length:1/0),D=""),p){case"<":O=A+O+k+D;break;case"=":O=A+D+O+k;break;case"^":O=D.slice(0,U=D.length>>1)+A+O+k+D.slice(U);break;default:O=D+A+O+k;break}return a(O)}return E.toString=function(){return d+""},E}function h(d,f){var p=u((d=$o(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Gi(f)/3)))*3,m=Math.pow(10,-g),v=Gv[8+g/3];return function(b){return p(m*b)+v}}return{format:u,formatPrefix:h}}var qs,Lp,K2;yq({thousands:",",grouping:[3],currency:["$",""]});function yq(e){return qs=vq(e),Lp=qs.format,K2=qs.formatPrefix,qs}function bq(e){return Math.max(0,-Gi(Math.abs(e)))}function xq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gi(t)/3)))*3-Gi(Math.abs(e)))}function wq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gi(t)-Gi(e))+1}function Y2(e,t,r,n){var i=Wf(e,t,r),a;switch(n=$o(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=xq(i,s))&&(n.precision=a),K2(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=wq(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=bq(i))&&(n.precision=a-(n.type==="%")*2);break}}return Lp(n)}function $n(e){var t=e.domain;return e.ticks=function(r){var n=t();return Uf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Y2(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,h=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);h-- >0;){if(u=Hf(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Zl(){var e=Mp();return e.copy=function(){return vs(e,Zl())},wr.apply(e,arguments),$n(e)}function X2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return X2(e).unknown(t)},e=arguments.length?Array.from(e,Yl):[0,1],$n(r)}function Z2(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Kv(e){return Math.log(e)}function Yv(e){return Math.exp(e)}function jq(e){return-Math.log(-e)}function Sq(e){return-Math.exp(-e)}function Nq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Oq(e){return e===10?Nq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _q(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xv(e){return(t,r)=>-e(-t,r)}function Rp(e){const t=e(Kv,Yv),r=t.domain;let n=10,i,a;function s(){return i=_q(n),a=Oq(n),r()[0]<0?(i=Xv(i),a=Xv(a),e(jq,Sq)):e(Kv,Yv),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],h=c[c.length-1];const d=h<u;d&&([u,h]=[h,u]);let f=i(u),p=i(h),g,m;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<n;++g)if(m=f<0?g/a(-f):g*a(f),!(m<u)){if(m>h)break;b.push(m)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/a(-f):g*a(f),!(m<u)){if(m>h)break;b.push(m)}b.length*2<v&&(b=Uf(u,h,v))}else b=Uf(f,p,Math.min(p-f,v)).map(a);return d?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=$o(c)).precision==null&&(c.trim=!0),c=Lp(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*n<n-.5&&(d*=n),d<=u?c(h):""}},t.nice=()=>r(Z2(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function J2(){const e=Rp(mu()).domain([1,10]);return e.copy=()=>vs(e,J2()).base(e.base()),wr.apply(e,arguments),e}function Zv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Jv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Dp(e){var t=1,r=e(Zv(t),Jv(t));return r.constant=function(n){return arguments.length?e(Zv(t=+n),Jv(t)):t},$n(r)}function Q2(){var e=Dp(mu());return e.copy=function(){return vs(e,Q2()).constant(e.constant())},wr.apply(e,arguments)}function Qv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Eq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Aq(e){return e<0?-e*e:e*e}function Bp(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(Eq,Aq):e(Qv(r),Qv(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},$n(t)}function Fp(){var e=Bp(mu());return e.copy=function(){return vs(e,Fp()).exponent(e.exponent())},wr.apply(e,arguments),e}function kq(){return Fp.apply(null,arguments).exponent(.5)}function ey(e){return Math.sign(e)*e*e}function Pq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ej(){var e=Mp(),t=[0,1],r=!1,n;function i(a){var s=Pq(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(ey(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Yl)).map(ey)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ej(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wr.apply(i,arguments),$n(i)}function tj(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=MF(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[ms(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(kn),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return tj().domain(e).range(t).unknown(n)},wr.apply(a,arguments)}function rj(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ms(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return rj().domain([e,t]).range(i).unknown(a)},wr.apply($n(s),arguments)}function nj(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ms(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nj().domain(e).range(t).unknown(r)},wr.apply(i,arguments)}const xd=new Date,wd=new Date;function xt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>xt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(xd.setTime(+a),wd.setTime(+s),e(xd),e(wd),Math.floor(r(xd,wd))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Jl=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jl);Jl.range;const an=1e3,gr=an*60,on=gr*60,hn=on*24,qp=hn*7,ty=hn*30,jd=hn*365,Xn=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*an)},(e,t)=>(t-e)/an,e=>e.getUTCSeconds());Xn.range;const Up=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*an)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getMinutes());Up.range;const Hp=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gr)},(e,t)=>(t-e)/gr,e=>e.getUTCMinutes());Hp.range;const Wp=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*an-e.getMinutes()*gr)},(e,t)=>{e.setTime(+e+t*on)},(e,t)=>(t-e)/on,e=>e.getHours());Wp.range;const Vp=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*on)},(e,t)=>(t-e)/on,e=>e.getUTCHours());Vp.range;const ys=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gr)/hn,e=>e.getDate()-1);ys.range;const gu=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hn,e=>e.getUTCDate()-1);gu.range;const ij=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hn,e=>Math.floor(e/hn));ij.range;function fi(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gr)/qp)}const vu=fi(0),Ql=fi(1),Tq=fi(2),Cq=fi(3),Ki=fi(4),$q=fi(5),Iq=fi(6);vu.range;Ql.range;Tq.range;Cq.range;Ki.range;$q.range;Iq.range;function hi(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qp)}const yu=hi(0),ec=hi(1),Mq=hi(2),zq=hi(3),Yi=hi(4),Lq=hi(5),Rq=hi(6);yu.range;ec.range;Mq.range;zq.range;Yi.range;Lq.range;Rq.range;const Gp=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gp.range;const Kp=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kp.range;const pn=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pn.range;const mn=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mn.range;function aj(e,t,r,n,i,a){const s=[[Xn,1,an],[Xn,5,5*an],[Xn,15,15*an],[Xn,30,30*an],[a,1,gr],[a,5,5*gr],[a,15,15*gr],[a,30,30*gr],[i,1,on],[i,3,3*on],[i,6,6*on],[i,12,12*on],[n,1,hn],[n,2,2*hn],[r,1,qp],[t,1,ty],[t,3,3*ty],[e,1,jd]];function l(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:c(u,h,d),g=p?p.range(u,+h+1):[];return f?g.reverse():g}function c(u,h,d){const f=Math.abs(h-u)/d,p=Pp(([,,v])=>v).right(s,f);if(p===s.length)return e.every(Wf(u/jd,h/jd,d));if(p===0)return Jl.every(Math.max(Wf(u,h,d),1));const[g,m]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(m)}return[l,c]}const[Dq,Bq]=aj(mn,Kp,yu,ij,Vp,Hp),[Fq,qq]=aj(pn,Gp,vu,ys,Wp,Up);function Sd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nd(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Va(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Uq(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Ga(i),h=Ka(i),d=Ga(a),f=Ka(a),p=Ga(s),g=Ka(s),m=Ga(l),v=Ka(l),b=Ga(c),y=Ka(c),j={a:R,A:U,b:D,B:F,c:null,d:sy,e:sy,f:fU,g:jU,G:NU,H:cU,I:uU,j:dU,L:oj,m:hU,M:pU,p:M,q:L,Q:uy,s:dy,S:mU,u:gU,U:vU,V:yU,w:bU,W:xU,x:null,X:null,y:wU,Y:SU,Z:OU,"%":cy},w={a:z,A:K,b:W,B,c:null,d:ly,e:ly,f:kU,g:DU,G:FU,H:_U,I:EU,j:AU,L:lj,m:PU,M:TU,p:H,q,Q:uy,s:dy,S:CU,u:$U,U:IU,V:MU,w:zU,W:LU,x:null,X:null,y:RU,Y:BU,Z:qU,"%":cy},x={a:E,A:O,b:A,B:k,c:$,d:ay,e:ay,f:aU,g:iy,G:ny,H:oy,I:oy,j:tU,L:iU,m:eU,M:rU,p:C,q:Qq,Q:sU,s:lU,S:nU,u:Kq,U:Yq,V:Xq,w:Gq,W:Zq,x:I,X:T,y:iy,Y:ny,Z:Jq,"%":oU};j.x=S(r,j),j.X=S(n,j),j.c=S(t,j),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S(V,Y){return function(J){var X=[],ne=-1,ie=0,ae=V.length,ge,he,Q;for(J instanceof Date||(J=new Date(+J));++ne<ae;)V.charCodeAt(ne)===37&&(X.push(V.slice(ie,ne)),(he=ry[ge=V.charAt(++ne)])!=null?ge=V.charAt(++ne):he=ge==="e"?" ":"0",(Q=Y[ge])&&(ge=Q(J,he)),X.push(ge),ie=ne+1);return X.push(V.slice(ie,ne)),X.join("")}}function N(V,Y){return function(J){var X=Va(1900,void 0,1),ne=_(X,V,J+="",0),ie,ae;if(ne!=J.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Y&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ie=Nd(Va(X.y,0,1)),ae=ie.getUTCDay(),ie=ae>4||ae===0?ec.ceil(ie):ec(ie),ie=gu.offset(ie,(X.V-1)*7),X.y=ie.getUTCFullYear(),X.m=ie.getUTCMonth(),X.d=ie.getUTCDate()+(X.w+6)%7):(ie=Sd(Va(X.y,0,1)),ae=ie.getDay(),ie=ae>4||ae===0?Ql.ceil(ie):Ql(ie),ie=ys.offset(ie,(X.V-1)*7),X.y=ie.getFullYear(),X.m=ie.getMonth(),X.d=ie.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),ae="Z"in X?Nd(Va(X.y,0,1)).getUTCDay():Sd(Va(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(ae+5)%7:X.w+X.U*7-(ae+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Nd(X)):Sd(X)}}function _(V,Y,J,X){for(var ne=0,ie=Y.length,ae=J.length,ge,he;ne<ie;){if(X>=ae)return-1;if(ge=Y.charCodeAt(ne++),ge===37){if(ge=Y.charAt(ne++),he=x[ge in ry?Y.charAt(ne++):ge],!he||(X=he(V,J,X))<0)return-1}else if(ge!=J.charCodeAt(X++))return-1}return X}function C(V,Y,J){var X=u.exec(Y.slice(J));return X?(V.p=h.get(X[0].toLowerCase()),J+X[0].length):-1}function E(V,Y,J){var X=p.exec(Y.slice(J));return X?(V.w=g.get(X[0].toLowerCase()),J+X[0].length):-1}function O(V,Y,J){var X=d.exec(Y.slice(J));return X?(V.w=f.get(X[0].toLowerCase()),J+X[0].length):-1}function A(V,Y,J){var X=b.exec(Y.slice(J));return X?(V.m=y.get(X[0].toLowerCase()),J+X[0].length):-1}function k(V,Y,J){var X=m.exec(Y.slice(J));return X?(V.m=v.get(X[0].toLowerCase()),J+X[0].length):-1}function $(V,Y,J){return _(V,t,Y,J)}function I(V,Y,J){return _(V,r,Y,J)}function T(V,Y,J){return _(V,n,Y,J)}function R(V){return s[V.getDay()]}function U(V){return a[V.getDay()]}function D(V){return c[V.getMonth()]}function F(V){return l[V.getMonth()]}function M(V){return i[+(V.getHours()>=12)]}function L(V){return 1+~~(V.getMonth()/3)}function z(V){return s[V.getUTCDay()]}function K(V){return a[V.getUTCDay()]}function W(V){return c[V.getUTCMonth()]}function B(V){return l[V.getUTCMonth()]}function H(V){return i[+(V.getUTCHours()>=12)]}function q(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var Y=S(V+="",j);return Y.toString=function(){return V},Y},parse:function(V){var Y=N(V+="",!1);return Y.toString=function(){return V},Y},utcFormat:function(V){var Y=S(V+="",w);return Y.toString=function(){return V},Y},utcParse:function(V){var Y=N(V+="",!0);return Y.toString=function(){return V},Y}}}var ry={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,Hq=/^%/,Wq=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Vq(e){return e.replace(Wq,"\\$&")}function Ga(e){return new RegExp("^(?:"+e.map(Vq).join("|")+")","i")}function Ka(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Kq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Yq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Xq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Zq(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ny(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iy(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jq(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qq(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function eU(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ay(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tU(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oy(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rU(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nU(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function iU(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oU(e,t,r){var n=Hq.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sU(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lU(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sy(e,t){return De(e.getDate(),t,2)}function cU(e,t){return De(e.getHours(),t,2)}function uU(e,t){return De(e.getHours()%12||12,t,2)}function dU(e,t){return De(1+ys.count(pn(e),e),t,3)}function oj(e,t){return De(e.getMilliseconds(),t,3)}function fU(e,t){return oj(e,t)+"000"}function hU(e,t){return De(e.getMonth()+1,t,2)}function pU(e,t){return De(e.getMinutes(),t,2)}function mU(e,t){return De(e.getSeconds(),t,2)}function gU(e){var t=e.getDay();return t===0?7:t}function vU(e,t){return De(vu.count(pn(e)-1,e),t,2)}function sj(e){var t=e.getDay();return t>=4||t===0?Ki(e):Ki.ceil(e)}function yU(e,t){return e=sj(e),De(Ki.count(pn(e),e)+(pn(e).getDay()===4),t,2)}function bU(e){return e.getDay()}function xU(e,t){return De(Ql.count(pn(e)-1,e),t,2)}function wU(e,t){return De(e.getFullYear()%100,t,2)}function jU(e,t){return e=sj(e),De(e.getFullYear()%100,t,2)}function SU(e,t){return De(e.getFullYear()%1e4,t,4)}function NU(e,t){var r=e.getDay();return e=r>=4||r===0?Ki(e):Ki.ceil(e),De(e.getFullYear()%1e4,t,4)}function OU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function ly(e,t){return De(e.getUTCDate(),t,2)}function _U(e,t){return De(e.getUTCHours(),t,2)}function EU(e,t){return De(e.getUTCHours()%12||12,t,2)}function AU(e,t){return De(1+gu.count(mn(e),e),t,3)}function lj(e,t){return De(e.getUTCMilliseconds(),t,3)}function kU(e,t){return lj(e,t)+"000"}function PU(e,t){return De(e.getUTCMonth()+1,t,2)}function TU(e,t){return De(e.getUTCMinutes(),t,2)}function CU(e,t){return De(e.getUTCSeconds(),t,2)}function $U(e){var t=e.getUTCDay();return t===0?7:t}function IU(e,t){return De(yu.count(mn(e)-1,e),t,2)}function cj(e){var t=e.getUTCDay();return t>=4||t===0?Yi(e):Yi.ceil(e)}function MU(e,t){return e=cj(e),De(Yi.count(mn(e),e)+(mn(e).getUTCDay()===4),t,2)}function zU(e){return e.getUTCDay()}function LU(e,t){return De(ec.count(mn(e)-1,e),t,2)}function RU(e,t){return De(e.getUTCFullYear()%100,t,2)}function DU(e,t){return e=cj(e),De(e.getUTCFullYear()%100,t,2)}function BU(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function FU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Yi(e):Yi.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function qU(){return"+0000"}function cy(){return"%"}function uy(e){return+e}function dy(e){return Math.floor(+e/1e3)}var bi,uj,dj;UU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UU(e){return bi=Uq(e),uj=bi.format,bi.parse,dj=bi.utcFormat,bi.utcParse,bi}function HU(e){return new Date(e)}function WU(e){return e instanceof Date?+e:+new Date(+e)}function Yp(e,t,r,n,i,a,s,l,c,u){var h=Mp(),d=h.invert,f=h.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),j=u("%B"),w=u("%Y");function x(S){return(c(S)<S?p:l(S)<S?g:s(S)<S?m:a(S)<S?v:n(S)<S?i(S)<S?b:y:r(S)<S?j:w)(S)}return h.invert=function(S){return new Date(d(S))},h.domain=function(S){return arguments.length?f(Array.from(S,WU)):f().map(HU)},h.ticks=function(S){var N=f();return e(N[0],N[N.length-1],S??10)},h.tickFormat=function(S,N){return N==null?x:u(N)},h.nice=function(S){var N=f();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?f(Z2(N,S)):h},h.copy=function(){return vs(h,Yp(e,t,r,n,i,a,s,l,c,u))},h}function VU(){return wr.apply(Yp(Fq,qq,pn,Gp,vu,ys,Wp,Up,Xn,uj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GU(){return wr.apply(Yp(Dq,Bq,mn,Kp,yu,gu,Vp,Hp,Xn,dj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bu(){var e=0,t=1,r,n,i,a,s=qt,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(i===0?.5:(d=(a(d)-r)*i,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(s=d,u):s};function h(d){return function(f){var p,g;return arguments.length?([p,g]=f,s=d(p,g),u):[s(0),s(1)]}}return u.range=h(Oa),u.rangeRound=h(Ip),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function In(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fj(){var e=$n(bu()(qt));return e.copy=function(){return In(e,fj())},yn.apply(e,arguments)}function hj(){var e=Rp(bu()).domain([1,10]);return e.copy=function(){return In(e,hj()).base(e.base())},yn.apply(e,arguments)}function pj(){var e=Dp(bu());return e.copy=function(){return In(e,pj()).constant(e.constant())},yn.apply(e,arguments)}function Xp(){var e=Bp(bu());return e.copy=function(){return In(e,Xp()).exponent(e.exponent())},yn.apply(e,arguments)}function KU(){return Xp.apply(null,arguments).exponent(.5)}function mj(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((ms(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(kn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>IF(e,a/n))},r.copy=function(){return mj(t).domain(e)},yn.apply(r,arguments)}function xu(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=qt,h,d=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+h(m))-a)*(n*m<n*a?l:c),u(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=h(e=+e),a=h(t=+t),s=h(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var b,y,j;return arguments.length?([b,y,j]=v,u=oq(m,[b,y,j]),p):[u(0),u(.5),u(1)]}}return p.range=g(Oa),p.rangeRound=g(Ip),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return h=m,i=m(e),a=m(t),s=m(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function gj(){var e=$n(xu()(qt));return e.copy=function(){return In(e,gj())},yn.apply(e,arguments)}function vj(){var e=Rp(xu()).domain([.1,1,10]);return e.copy=function(){return In(e,vj()).base(e.base())},yn.apply(e,arguments)}function yj(){var e=Dp(xu());return e.copy=function(){return In(e,yj()).constant(e.constant())},yn.apply(e,arguments)}function Zp(){var e=Bp(xu());return e.copy=function(){return In(e,Zp()).exponent(e.exponent())},yn.apply(e,arguments)}function YU(){return Zp.apply(null,arguments).exponent(.5)}const fy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ko,scaleDiverging:gj,scaleDivergingLog:vj,scaleDivergingPow:Zp,scaleDivergingSqrt:YU,scaleDivergingSymlog:yj,scaleIdentity:X2,scaleImplicit:Vf,scaleLinear:Zl,scaleLog:J2,scaleOrdinal:Tp,scalePoint:oo,scalePow:Fp,scaleQuantile:tj,scaleQuantize:rj,scaleRadial:ej,scaleSequential:fj,scaleSequentialLog:hj,scaleSequentialPow:Xp,scaleSequentialQuantile:mj,scaleSequentialSqrt:KU,scaleSequentialSymlog:pj,scaleSqrt:kq,scaleSymlog:Q2,scaleThreshold:nj,scaleTime:VU,scaleUtc:GU,tickFormat:Y2},Symbol.toStringTag,{value:"Module"}));var XU=ja;function ZU(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!XU(s):r(s,l)))var l=s,c=a}return c}var wu=ZU;function JU(e,t){return e>t}var bj=JU,QU=wu,eH=bj,tH=Na;function rH(e){return e&&e.length?QU(e,tH,eH):void 0}var nH=rH;const ju=ze(nH);function iH(e,t){return e<t}var xj=iH,aH=wu,oH=xj,sH=Na;function lH(e){return e&&e.length?aH(e,sH,oH):void 0}var cH=lH;const Su=ze(cH);var uH=gp,dH=Cn,fH=A2,hH=Zt;function pH(e,t){var r=hH(e)?uH:fH;return r(e,dH(t))}var mH=pH,gH=_2,vH=mH;function yH(e,t){return gH(vH(e,t),1)}var bH=yH;const xH=ze(bH);var _a=1e9,wH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qp,it=!0,br="[DecimalError] ",ri=br+"Invalid argument: ",Jp=br+"Exponent out of range: ",Ea=Math.floor,Un=Math.pow,jH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,jt=1e7,et=7,wj=9007199254740991,tc=Ea(wj/et),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(e){return un(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,r=t.constructor;return Ke(un(t,new r(e),0,1),r.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return ht(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nr))throw Error(br+"NaN");if(r.s<1)throw Error(br+(r.s?"NaN":"-Infinity"));return r.eq(nr)?new n(0):(it=!1,t=un(Io(r,a),Io(e,a),a),it=!0,Ke(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Nj(t,e):jj(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(br+"NaN");return r.s?(it=!1,t=un(r,e,0,1).times(e),it=!0,r.minus(t)):Ke(new n(r),i)};me.naturalExponential=me.exp=function(){return Sj(this)};me.naturalLogarithm=me.ln=function(){return Io(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jj(t,e):Nj(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ri+e);if(t=ht(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};me.squareRoot=me.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(br+"NaN")}for(e=ht(l),it=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=zr(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ea((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(un(l,a,s+2)).times(.5),zr(a.d).slice(0,s)===(t=zr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ke(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return it=!0,Ke(n,r)};me.times=me.mul=function(e){var t,r,n,i,a,s,l,c,u,h=this,d=h.constructor,f=h.d,p=(e=new d(e)).d;if(!h.s||!e.s)return new d(0);for(e.s*=h.s,r=h.e+e.e,c=f.length,u=p.length,c<u&&(a=f,f=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+p[n]*f[i-n-1]+t,a[i--]=l%jt|0,t=l/jt|0;a[i]=(a[i]+t)%jt|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,it?Ke(e,d.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ur(e,0,_a),t===void 0?t=n.rounding:Ur(t,0,8),Ke(r,e+ht(r)+1,t))};me.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=oi(n,!0):(Ur(e,0,_a),t===void 0?t=i.rounding:Ur(t,0,8),n=Ke(new i(n),e+1,t),r=oi(n,!0,e+1)),r};me.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?oi(i):(Ur(e,0,_a),t===void 0?t=a.rounding:Ur(t,0,8),n=Ke(new a(i),e+ht(i)+1,t),r=oi(n.abs(),!1,e+ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return Ke(new t(e),ht(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(nr);if(l=new c(l),!l.s){if(e.s<1)throw Error(br+"Infinity");return l}if(l.eq(nr))return l;if(n=c.precision,e.eq(nr))return Ke(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=h<0?-h:h)<=wj){for(i=new c(nr),t=Math.ceil(n/et+4),it=!1;r%2&&(i=i.times(l),py(i.d,t)),r=Ea(r/2),r!==0;)l=l.times(l),py(l.d,t);return it=!0,e.s<0?new c(nr).div(i):Ke(i,n)}}else if(a<0)throw Error(br+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,it=!1,i=e.times(Io(l,n+u)),it=!0,i=Sj(i),i.s=a,i};me.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ht(i),n=oi(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ur(e,1,_a),t===void 0?t=a.rounding:Ur(t,0,8),i=Ke(new a(i),e,t),r=ht(i),n=oi(i,e<=r||r<=a.toExpNeg,e)),n};me.toSignificantDigits=me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ur(e,1,_a),t===void 0?t=n.rounding:Ur(t,0,8)),Ke(new n(r),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ht(e),r=e.constructor;return oi(e,t<=r.toExpNeg||t>=r.toExpPos)};function jj(e,t){var r,n,i,a,s,l,c,u,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),it?Ke(t,d):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(d/et),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/jt|0,c[a]%=jt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,it?Ke(t,d):t}function Ur(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ri+e)}function zr(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=et-n.length,r&&(a+=Sn(r)),a+=n;s=e[t],n=s+"",r=et-n.length,r&&(a+=Sn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var un=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%jt|0,s=a/jt|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*jt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,h,d,f,p,g,m,v,b,y,j,w,x,S,N,_,C=n.constructor,E=n.s==i.s?1:-1,O=n.d,A=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(br+"Division by zero");for(c=n.e-i.e,N=A.length,x=O.length,p=new C(E),g=p.d=[],u=0;A[u]==(O[u]||0);)++u;if(A[u]>(O[u]||0)&&--c,a==null?y=a=C.precision:s?y=a+(ht(n)-ht(i))+1:y=a,y<0)return new C(0);if(y=y/et+2|0,u=0,N==1)for(h=0,A=A[0],y++;(u<x||h)&&y--;u++)j=h*jt+(O[u]||0),g[u]=j/A|0,h=j%A|0;else{for(h=jt/(A[0]+1)|0,h>1&&(A=e(A,h),O=e(O,h),N=A.length,x=O.length),w=N,m=O.slice(0,N),v=m.length;v<N;)m[v++]=0;_=A.slice(),_.unshift(0),S=A[0],A[1]>=jt/2&&++S;do h=0,l=t(A,m,N,v),l<0?(b=m[0],N!=v&&(b=b*jt+(m[1]||0)),h=b/S|0,h>1?(h>=jt&&(h=jt-1),d=e(A,h),f=d.length,v=m.length,l=t(d,m,f,v),l==1&&(h--,r(d,N<f?_:A,f))):(h==0&&(l=h=1),d=A.slice()),f=d.length,f<v&&d.unshift(0),r(m,d,v),l==-1&&(v=m.length,l=t(A,m,N,v),l<1&&(h++,r(m,N<v?_:A,v))),v=m.length):l===0&&(h++,m=[0]),g[u++]=h,l&&m[0]?m[v++]=O[w]||0:(m=[O[w]],v=1);while((w++<x||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Ke(p,s?a+ht(p)+1:a)}}();function Sj(e,t){var r,n,i,a,s,l,c=0,u=0,h=e.constructor,d=h.precision;if(ht(e)>16)throw Error(Jp+ht(e));if(!e.s)return new h(nr);for(t==null?(it=!1,l=d):l=t,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Un(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new h(nr),h.precision=l;;){if(i=Ke(i.times(e),l),r=r.times(++c),s=a.plus(un(i,r,l)),zr(s.d).slice(0,l)===zr(a.d).slice(0,l)){for(;u--;)a=Ke(a.times(a),l);return h.precision=d,t==null?(it=!0,Ke(a,d)):a}a=s}}function ht(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function Od(e,t,r){if(t>e.LN10.sd())throw it=!0,r&&(e.precision=r),Error(br+"LN10 precision limit exceeded");return Ke(new e(e.LN10),t)}function Sn(e){for(var t="";e--;)t+="0";return t}function Io(e,t){var r,n,i,a,s,l,c,u,h,d=1,f=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(br+(p.s?"NaN":"-Infinity"));if(p.eq(nr))return new m(0);if(t==null?(it=!1,u=v):u=t,p.eq(10))return t==null&&(it=!0),Od(m,u);if(u+=f,m.precision=u,r=zr(g),n=r.charAt(0),a=ht(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zr(p.d),n=r.charAt(0),d++;a=ht(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return c=Od(m,u+2,v).times(a+""),p=Io(new m(n+"."+r.slice(1)),u-f).plus(c),m.precision=v,t==null?(it=!0,Ke(p,v)):p;for(l=s=p=un(p.minus(nr),p.plus(nr),u),h=Ke(p.times(p),u),i=3;;){if(s=Ke(s.times(h),u),c=l.plus(un(s,new m(i),u)),zr(c.d).slice(0,u)===zr(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Od(m,u+2,v).times(a+""))),l=un(l,new m(d),u),m.precision=v,t==null?(it=!0,Ke(l,v)):l;l=c,i+=2}}function hy(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ea(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=et;n<i;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),it&&(e.e>tc||e.e<-tc))throw Error(Jp+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ke(e,t,r){var n,i,a,s,l,c,u,h,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=et,i=t,u=d[h=0];else{if(h=Math.ceil((n+1)/et),a=d.length,h>=a)return e;for(u=a=d[h],s=1;a>=10;a/=10)s++;n%=et,i=n-et+s}if(r!==void 0&&(a=Un(10,s-i-1),l=u/a%10|0,c=t<0||d[h+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Un(10,s-i):0:d[h-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(a=ht(e),d.length=1,t=t-a-1,d[0]=Un(10,(et-t%et)%et),e.e=Ea(-t/et)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=h,a=1,h--):(d.length=h+1,a=Un(10,et-n),d[h]=i>0?(u/Un(10,s-i)%Un(10,i)|0)*a:0),c)for(;;)if(h==0){(d[0]+=a)==jt&&(d[0]=1,++e.e);break}else{if(d[h]+=a,d[h]!=jt)break;d[h--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(it&&(e.e>tc||e.e<-tc))throw Error(Jp+ht(e));return e}function Nj(e,t){var r,n,i,a,s,l,c,u,h,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),it?Ke(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(h=s<0,h?(r=c,s=-s,l=d.length):(r=d,n=u,l=c.length),i=Math.max(Math.ceil(p/et),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=d.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}s=0}for(h&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>s;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=jt-1;--c[a],c[i]+=jt}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,it?Ke(t,p):t):new f(0)}function oi(e,t,r){var n,i=ht(e),a=zr(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Sn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Sn(-i-1)+a,r&&(n=r-s)>0&&(a+=Sn(n))):i>=s?(a+=Sn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Sn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Sn(n))),e.s<0?"-"+a:a}function py(e,t){if(e.length>t)return e.length=t,!0}function Oj(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ri+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return hy(s,a.toString())}else if(typeof a!="string")throw Error(ri+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,jH.test(a))hy(s,a);else throw Error(ri+a)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Oj,i.config=i.set=SH,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function SH(e){if(!e||typeof e!="object")throw Error(br+"Object expected");var t,r,n,i=["precision",1,_a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ea(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ri+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ri+r+": "+n);return this}var Qp=Oj(wH);nr=new Qp(1);const Ge=Qp;function NH(e){return AH(e)||EH(e)||_H(e)||OH()}function OH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(e,t){if(e){if(typeof e=="string")return Xf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xf(e,t)}}function EH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function AH(e){if(Array.isArray(e))return Xf(e)}function Xf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kH=function(t){return t},_j={"@@functional/placeholder":!0},Ej=function(t){return t===_j},my=function(t){return function r(){return arguments.length===0||arguments.length===1&&Ej(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},PH=function e(t,r){return t===1?r:my(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==_j}).length;return s>=t?r.apply(void 0,i):e(t-s,my(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=i.map(function(d){return Ej(d)?c.shift():d});return r.apply(void 0,NH(h).concat(c))}))})},Nu=function(t){return PH(t.length,t)},Zf=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},TH=Nu(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),CH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kH;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Jf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Aj=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function $H(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function IH(e,t,r){for(var n=new Ge(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var MH=Nu(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),zH=Nu(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),LH=Nu(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ou={rangeStep:IH,getDigitCount:$H,interpolateNumber:MH,uninterpolateNumber:zH,uninterpolateTruncation:LH};function Qf(e){return BH(e)||DH(e)||kj(e)||RH()}function RH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DH(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BH(e){if(Array.isArray(e))return eh(e)}function Mo(e,t){return UH(e)||qH(e,t)||kj(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kj(e,t){if(e){if(typeof e=="string")return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qH(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function UH(e){if(Array.isArray(e))return e}function Pj(e){var t=Mo(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Tj(e,t,r){if(e.lte(0))return new Ge(0);var n=Ou.getDigitCount(e.toNumber()),i=new Ge(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new Ge(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new Ge(Math.ceil(c))}function HH(e,t,r){var n=1,i=new Ge(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ge(10).pow(Ou.getDigitCount(e)-1),i=new Ge(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ge(Math.floor(e)))}else e===0?i=new Ge(Math.floor((t-1)/2)):r||(i=new Ge(Math.floor(e)));var s=Math.floor((t-1)/2),l=CH(TH(function(c){return i.add(new Ge(c-s).mul(n)).toNumber()}),Zf);return l(0,t)}function Cj(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var a=Tj(new Ge(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new Ge(0):(s=new Ge(e).add(t).div(2),s=s.sub(new Ge(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Ge(t).sub(s).div(a).toNumber()),u=l+c+1;return u>r?Cj(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:s.sub(new Ge(l).mul(a)),tickMax:s.add(new Ge(c).mul(a))})}function WH(e){var t=Mo(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=Pj([r,n]),c=Mo(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var d=h===1/0?[u].concat(Qf(Zf(0,i-1).map(function(){return 1/0}))):[].concat(Qf(Zf(0,i-1).map(function(){return-1/0})),[h]);return r>n?Jf(d):d}if(u===h)return HH(u,i,a);var f=Cj(u,h,s,a),p=f.step,g=f.tickMin,m=f.tickMax,v=Ou.rangeStep(g,m.add(new Ge(.1).mul(p)),p);return r>n?Jf(v):v}function VH(e,t){var r=Mo(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Pj([n,i]),l=Mo(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var h=Math.max(t,2),d=Tj(new Ge(u).sub(c).div(h-1),a,0),f=[].concat(Qf(Ou.rangeStep(new Ge(c),new Ge(u).sub(new Ge(.99).mul(d)),d)),[u]);return n>i?Jf(f):f}var GH=Aj(WH),KH=Aj(VH),YH=!0,_d="Invariant failed";function si(e,t){if(!e){if(YH)throw new Error(_d);var r=typeof t=="function"?t():t,n=r?"".concat(_d,": ").concat(r):_d;throw new Error(n)}}var XH=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(this,arguments)}function ZH(e,t){return tW(e)||eW(e,t)||QH(e,t)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return gy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gy(e,t)}}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function tW(e){if(Array.isArray(e))return e}function rW(e,t){if(e==null)return{};var r=nW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mj(n.key),n)}}function aW(e,t,r){return t&&vy(e.prototype,t),r&&vy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oW(e,t,r){return t=nc(t),sW(e,$j()?Reflect.construct(t,r||[],nc(e).constructor):t.apply(e,r))}function sW(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lW(e)}function lW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!e})()}function nc(e){return nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nc(e)}function cW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}function th(e,t){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},th(e,t)}function Ij(e,t,r){return t=Mj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mj(e){var t=uW(e,"string");return Xi(t)=="symbol"?t:t+""}function uW(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bs=function(e){function t(){return iW(this,t),oW(this,t,arguments)}return cW(t,e),aW(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,h=n.xAxis,d=n.yAxis,f=rW(n,XH),p=Se(f,!1);this.props.direction==="x"&&h.type!=="number"&&si(!1);var g=c.map(function(m){var v=u(m,l),b=v.x,y=v.y,j=v.value,w=v.errorVal;if(!w)return null;var x=[],S,N;if(Array.isArray(w)){var _=ZH(w,2);S=_[0],N=_[1]}else S=N=w;if(a==="vertical"){var C=h.scale,E=y+i,O=E+s,A=E-s,k=C(j-S),$=C(j+N);x.push({x1:$,y1:O,x2:$,y2:A}),x.push({x1:k,y1:E,x2:$,y2:E}),x.push({x1:k,y1:O,x2:k,y2:A})}else if(a==="horizontal"){var I=d.scale,T=b+i,R=T-s,U=T+s,D=I(j-S),F=I(j+N);x.push({x1:R,y1:F,x2:U,y2:F}),x.push({x1:T,y1:D,x2:T,y2:F}),x.push({x1:R,y1:D,x2:U,y2:D})}return G.createElement(Re,rc({className:"recharts-errorBar",key:"bar-".concat(x.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},p),x.map(function(M){return G.createElement("line",rc({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return G.createElement(Re,{className:"recharts-errorBars"},g)}}])}(G.Component);Ij(bs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ij(bs,"displayName","ErrorBar");function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yy(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return t=fW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=hW(e,"string");return zo(t)=="symbol"?t:t+""}function hW(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zj=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=tr(r,ei);if(!s)return null;var l=ei.defaultProps,c=l!==void 0?Rn(Rn({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(h,d){var f=d.item,p=d.props,g=p.sectors||p.data||[];return h.concat(g.map(function(m){return{type:s.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(h){var d=h.item,f=d.type.defaultProps,p=f!==void 0?Rn(Rn({},f),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:em(d),value:m||g,payload:p}}),Rn(Rn(Rn({},c),ei.getWithHeight(s,i)),{},{payload:u,item:s})};function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function by(e){return vW(e)||gW(e)||mW(e)||pW()}function pW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(e,t){if(e){if(typeof e=="string")return rh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rh(e,t)}}function gW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vW(e){if(Array.isArray(e))return rh(e)}function rh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xy(Object(r),!0).forEach(function(n){Li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Li(e,t,r){return t=yW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return Lo(t)=="symbol"?t:t+""}function bW(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t,r){return Pe(e)||Pe(t)?r:bt(t)?lr(e,t,r):ke(t)?t(e):r}function so(e,t,r,n){var i=xH(e,function(l){return yt(l,t)});if(r==="number"){var a=i.filter(function(l){return de(l)||parseFloat(l)});return a.length?[Su(a),ju(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Pe(l)}):i;return s.map(function(l){return bt(l)||l instanceof Date?l:""})}var xW=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var h=u>0?i[u-1].coordinate:i[l-1].coordinate,d=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Bt(d-h)!==Bt(f-d)){var g=[];if(Bt(f-d)===Bt(c[1]-c[0])){p=f;var m=d+c[1]-c[0];g[0]=Math.min(m,(m+h)/2),g[1]=Math.max(m,(m+h)/2)}else{p=h;var v=f+c[1]-c[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=i[u].index;break}}else{var y=Math.min(h,f),j=Math.max(h,f);if(t>(y+d)/2&&t<=(j+d)/2){s=i[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){s=n[w].index;break}return s},em=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ct(ct({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},wW=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var h=a[l[c]].stackGroups,d=Object.keys(h),f=0,p=d.length;f<p;f++){var g=h[d[f]],m=g.items,v=g.cateAxisId,b=m.filter(function(N){return ln(N.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,j=y!==void 0?ct(ct({},y),b[0].props):b[0].props,w=j.barSize,x=j[v];s[x]||(s[x]=[]);var S=Pe(w)?r:w;s[x].push({item:b[0],stackList:b.slice(1),barSize:Pe(S)?void 0:Ft(S,n,0)})}}return s},jW=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=Ft(r,i,0,!0),h,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,p=i/c,g=s.reduce(function(w,x){return w+x.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&p>0&&(f=!0,p*=.9,g=c*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};h=s.reduce(function(w,x){var S={item:x.item,position:{offset:v.offset+v.size+u,size:f?p:x.barSize}},N=[].concat(by(w),[S]);return v=N[N.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(_){N.push({item:_,position:v})}),N},d)}else{var b=Ft(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var y=(i-2*b-(c-1)*u)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;h=s.reduce(function(w,x,S){var N=[].concat(by(w),[{item:x.item,position:{offset:b+(y+u)*S+(y-j)/2,size:j}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(_){N.push({item:_,position:N[N.length-1].position})}),N},d)}return h},SW=function(t,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=zj({children:a,legendWidth:c});if(u){var h=i||{},d=h.width,f=h.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&de(t[p]))return ct(ct({},t),{},Li({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&de(t[g]))return ct(ct({},t),{},Li({},g,t[g]+(f||0)))}return t},NW=function(t,r,n){return Pe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Lj=function(t,r,n,i,a){var s=r.props.children,l=cr(s,bs).filter(function(u){return NW(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var d=yt(h,n);if(Pe(d))return u;var f=Array.isArray(d)?[Su(d),ju(d)]:[d,d],p=c.reduce(function(g,m){var v=yt(h,m,0),b=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},OW=function(t,r,n,i,a){var s=r.map(function(l){return Lj(t,l,n,a,i)}).filter(function(l){return!Pe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Rj=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Lj(t,c,u,i)||so(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var h=0,d=u.length;h<d;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},Dj=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Zn=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return h.filter(function(d){return!ps(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},Ed=new WeakMap,Us=function(t,r){if(typeof r!="function")return t;Ed.has(t)||Ed.set(t,new WeakMap);var n=Ed.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Bj=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:ko(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Zl(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:oo(),realScaleType:"point"}:a==="category"?{scale:ko(),realScaleType:"band"}:{scale:Zl(),realScaleType:"linear"};if(ni(i)){var c="scale".concat(lu(i));return{scale:(fy[c]||oo)(),realScaleType:fy[c]?c:"point"}}return ke(i)?{scale:i}:{scale:oo(),realScaleType:"point"}},wy=1e-4,Fj=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-wy,s=Math.max(i[0],i[1])+wy,l=t(r[0]),c=t(r[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},_W=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},EW=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(a[0]=n),(!de(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},AW=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=ps(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},kW=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=ps(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},PW={sign:AW,expand:RL,none:qi,silhouette:DL,wiggle:BL,positive:kW},TW=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=PW[n],s=LL().keys(i).value(function(l,c){return+yt(l,c,0)}).order(Cf).offset(a);return s(t)},CW=function(t,r,n,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(d,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?ct(ct({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return d;var b=g[n],y=d[b]||{hasStack:!1,stackGroups:{}};if(bt(m)){var j=y.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};j.items.push(f),y.hasStack=!0,y.stackGroups[m]=j}else y.stackGroups[Sa("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return ct(ct({},d),{},Li({},b,y))},c),h={};return Object.keys(u).reduce(function(d,f){var p=u[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return ct(ct({},m),{},Li({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:TW(t,b.items,a)}))},g)}return ct(ct({},d),{},Li({},f,p))},h)},qj=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=GH(u,a,l);return t.domain([Su(h),ju(h)]),{niceTicks:h}}if(a&&i==="number"){var d=t.domain(),f=KH(d,a,l);return{niceTicks:f}}return null};function jy(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Pe(i[t.dataKey])){var l=$l(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=yt(i,Pe(s)?t.dataKey:s);return Pe(c)?null:t.scale(c)}var Sy=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=yt(s,r.dataKey,r.domain[l]);return Pe(c)?null:r.scale(c)-a/2+i},$W=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},IW=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ct(ct({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(bt(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},MW=function(t){return t.reduce(function(r,n){return[Su(n.concat([r[0]]).filter(de)),ju(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},Uj=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,h){var d=MW(h.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Ny=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Oy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nh=function(t,r,n){if(ke(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(de(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Ny.test(t[0])){var a=+Ny.exec(t[0])[1];i[0]=r[0]-a}else ke(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(de(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Oy.test(t[1])){var s=+Oy.exec(t[1])[1];i[1]=r[1]+s}else ke(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},ic=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Ap(r,function(d){return d.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],h=a[l-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},_y=function(t,r,n){return!t||!t.length||ls(t,lr(n,"type.defaultProps.domain"))?r:t},Hj=function(t,r){var n=t.type.defaultProps?ct(ct({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,h=n.hide;return ct(ct({},Se(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:em(t),value:yt(r,i),type:c,payload:r,chartType:u,hide:h})};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function Ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(r),!0).forEach(function(n){Wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wj(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=LW(e,"string");return Ro(t)=="symbol"?t:t+""}function LW(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){return qW(e)||FW(e,t)||BW(e,t)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BW(e,t){if(e){if(typeof e=="string")return Ay(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ay(e,t)}}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function qW(e){if(Array.isArray(e))return e}var ac=Math.PI/180,UW=function(t){return t*180/Math.PI},Ze=function(t,r,n,i){return{x:t+Math.cos(-ac*i)*n,y:r+Math.sin(-ac*i)*n}},Vj=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HW=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,h=Ft(t.cx,s,s/2),d=Ft(t.cy,l,l/2),f=Vj(s,l,n),p=Ft(t.innerRadius,f,0),g=Ft(t.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(v,b){var y=r[b],j=y.domain,w=y.reversed,x;if(Pe(y.range))i==="angleAxis"?x=[c,u]:i==="radiusAxis"&&(x=[p,g]),w&&(x=[x[1],x[0]]);else{x=y.range;var S=x,N=RW(S,2);c=N[0],u=N[1]}var _=Bj(y,a),C=_.realScaleType,E=_.scale;E.domain(j).range(x),Fj(E);var O=qj(E,rn(rn({},y),{},{realScaleType:C})),A=rn(rn(rn({},y),O),{},{range:x,radius:g,realScaleType:C,scale:E,cx:h,cy:d,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return rn(rn({},v),{},Wj({},b,A))},{})},WW=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},VW=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,l=WW({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:UW(u),angleInRadian:u}},GW=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},KW=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},ky=function(t,r){var n=t.x,i=t.y,a=VW({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var h=GW(r),d=h.startAngle,f=h.endAngle,p=l,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?rn(rn({},r),{},{radius:s,angle:KW(p,r)}):null},Gj=function(t){return!P.isValidElement(t)&&!ke(t)&&typeof t!="boolean"?t.className:""};function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}var YW=["offset"];function XW(e){return eV(e)||QW(e)||JW(e)||ZW()}function ZW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return ih(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ih(e,t)}}function QW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eV(e){if(Array.isArray(e))return ih(e)}function ih(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tV(e,t){if(e==null)return{};var r=rV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(r),!0).forEach(function(n){nV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nV(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=aV(e,"string");return Do(t)=="symbol"?t:t+""}function aV(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(this,arguments)}var oV=function(t){var r=t.value,n=t.formatter,i=Pe(t.children)?r:t.children;return ke(n)?n(i):i},sV=function(t,r){var n=Bt(r-t),i=Math.min(Math.abs(r-t),360);return n*i},lV=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,h=c.cy,d=c.innerRadius,f=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(d+f)/2,b=sV(p,g),y=b>=0?1:-1,j,w;i==="insideStart"?(j=p+y*s,w=m):i==="insideEnd"?(j=g-y*s,w=!m):i==="end"&&(j=g+y*s,w=m),w=b<=0?w:!w;var x=Ze(u,h,v,j),S=Ze(u,h,v,j+(w?1:-1)*359),N="M".concat(x.x,",").concat(x.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),_=Pe(t.id)?Sa("recharts-radial-line-"):t.id;return G.createElement("text",Bo({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),G.createElement("defs",null,G.createElement("path",{id:_,d:N})),G.createElement("textPath",{xlinkHref:"#".concat(_)},r))},cV=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,h=a.startAngle,d=a.endAngle,f=(h+d)/2;if(i==="outside"){var p=Ze(s,l,u+n,f),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Ze(s,l,v,f),y=b.x,j=b.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},uV=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,u=s.width,h=s.height,d=h>=0?1:-1,f=d*i,p=d>0?"end":"start",g=d>0?"start":"end",m=u>=0?1:-1,v=m*i,b=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-d*i,textAnchor:"middle",verticalAnchor:p};return vt(vt({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var w={x:l+u/2,y:c+h+f,textAnchor:"middle",verticalAnchor:g};return vt(vt({},w),n?{height:Math.max(n.y+n.height-(c+h),0),width:u}:{})}if(a==="left"){var x={x:l-v,y:c+h/2,textAnchor:b,verticalAnchor:"middle"};return vt(vt({},x),n?{width:Math.max(x.x-n.x,0),height:h}:{})}if(a==="right"){var S={x:l+u+v,y:c+h/2,textAnchor:y,verticalAnchor:"middle"};return vt(vt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:h}:{})}var N=n?{width:u,height:h}:{};return a==="insideLeft"?vt({x:l+v,y:c+h/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideRight"?vt({x:l+u-v,y:c+h/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideTop"?vt({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:g},N):a==="insideBottom"?vt({x:l+u/2,y:c+h-f,textAnchor:"middle",verticalAnchor:p},N):a==="insideTopLeft"?vt({x:l+v,y:c+f,textAnchor:y,verticalAnchor:g},N):a==="insideTopRight"?vt({x:l+u-v,y:c+f,textAnchor:b,verticalAnchor:g},N):a==="insideBottomLeft"?vt({x:l+v,y:c+h-f,textAnchor:y,verticalAnchor:p},N):a==="insideBottomRight"?vt({x:l+u-v,y:c+h-f,textAnchor:b,verticalAnchor:p},N):ga(a)&&(de(a.x)||Kn(a.x))&&(de(a.y)||Kn(a.y))?vt({x:l+Ft(a.x,u),y:c+Ft(a.y,h),textAnchor:"end",verticalAnchor:"end"},N):vt({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},N)},dV=function(t){return"cx"in t&&de(t.cx)};function St(e){var t=e.offset,r=t===void 0?5:t,n=tV(e,YW),i=vt({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,h=i.className,d=h===void 0?"":h,f=i.textBreakAll;if(!a||Pe(l)&&Pe(c)&&!P.isValidElement(u)&&!ke(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var p;if(ke(u)){if(p=P.createElement(u,i),P.isValidElement(p))return p}else p=oV(i);var g=dV(a),m=Se(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lV(i,p,m);var v=g?cV(i):uV(i);return G.createElement(ai,Bo({className:$e("recharts-label",d)},m,v,{breakAll:f}),p)}St.displayName="Label";var Kj=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,d=t.x,f=t.y,p=t.top,g=t.left,m=t.width,v=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(de(m)&&de(v)){if(de(d)&&de(f))return{x:d,y:f,width:m,height:v};if(de(p)&&de(g))return{x:p,y:g,width:m,height:v}}return de(d)&&de(f)?{x:d,y:f,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},fV=function(t,r){return t?t===!0?G.createElement(St,{key:"label-implicit",viewBox:r}):bt(t)?G.createElement(St,{key:"label-implicit",viewBox:r,value:t}):P.isValidElement(t)?t.type===St?P.cloneElement(t,{key:"label-implicit",viewBox:r}):G.createElement(St,{key:"label-implicit",content:t,viewBox:r}):ke(t)?G.createElement(St,{key:"label-implicit",content:t,viewBox:r}):ga(t)?G.createElement(St,Bo({viewBox:r},t,{key:"label-implicit"})):null:null},hV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Kj(t),s=cr(i,St).map(function(c,u){return P.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var l=fV(t.label,r||a);return[l].concat(XW(s))};St.parseViewBox=Kj;St.renderCallByParent=hV;function pV(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mV=pV;const gV=ze(mV);function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}var vV=["valueAccessor"],yV=["data","dataKey","clockWise","id","textBreakAll"];function bV(e){return SV(e)||jV(e)||wV(e)||xV()}function xV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wV(e,t){if(e){if(typeof e=="string")return ah(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ah(e,t)}}function jV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SV(e){if(Array.isArray(e))return ah(e)}function ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}function Ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ty(Object(r),!0).forEach(function(n){NV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NV(e,t,r){return t=OV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OV(e){var t=_V(e,"string");return Fo(t)=="symbol"?t:t+""}function _V(e,t){if(Fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $y(e,t){if(e==null)return{};var r=EV(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AV=function(t){return Array.isArray(t.value)?gV(t.value):t.value};function dn(e){var t=e.valueAccessor,r=t===void 0?AV:t,n=$y(e,vV),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=$y(n,yV);return!i||!i.length?null:G.createElement(Re,{className:"recharts-label-list"},i.map(function(h,d){var f=Pe(a)?r(h,d):yt(h&&h.payload,a),p=Pe(l)?{}:{id:"".concat(l,"-").concat(d)};return G.createElement(St,oc({},Se(h,!0),u,p,{parentViewBox:h.parentViewBox,value:f,textBreakAll:c,viewBox:St.parseViewBox(Pe(s)?h:Cy(Cy({},h),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}dn.displayName="LabelList";function kV(e,t){return e?e===!0?G.createElement(dn,{key:"labelList-implicit",data:t}):G.isValidElement(e)||ke(e)?G.createElement(dn,{key:"labelList-implicit",data:t,content:e}):ga(e)?G.createElement(dn,oc({data:t},e,{key:"labelList-implicit"})):null:null}function PV(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=cr(n,dn).map(function(s,l){return P.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=kV(e.label,t);return[a].concat(bV(i))}dn.renderCallByParent=PV;function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(this,arguments)}function Iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iy(Object(r),!0).forEach(function(n){TV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TV(e,t,r){return t=CV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CV(e){var t=$V(e,"string");return qo(t)=="symbol"?t:t+""}function $V(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IV=function(t,r){var n=Bt(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Hs=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(l?1:-1)+i,d=Math.asin(c/h)/ac,f=u?a:a+s*d,p=Ze(r,n,h,f),g=Ze(r,n,i,f),m=u?a-s*d:a,v=Ze(r,n,h*Math.cos(d*ac),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},Yj=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=IV(s,l),u=s+c,h=Ze(r,n,a,s),d=Ze(r,n,a,u),f="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Ze(r,n,i,s),g=Ze(r,n,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},MV=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,d=Bt(h-u),f=Hs({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:s,cornerIsExternal:c}),p=f.circleTangency,g=f.lineTangency,m=f.theta,v=Hs({cx:r,cy:n,radius:a,angle:h,sign:-d,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,y=v.lineTangency,j=v.theta,w=c?Math.abs(u-h):Math.abs(u-h)-m-j;if(w<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Yj({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:h});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var S=Hs({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=S.circleTangency,_=S.lineTangency,C=S.theta,E=Hs({cx:r,cy:n,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),O=E.circleTangency,A=E.lineTangency,k=E.theta,$=c?Math.abs(u-h):Math.abs(u-h)-C-k;if($<0&&s===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},zV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Xj=function(t){var r=My(My({},zV),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,h=r.startAngle,d=r.endAngle,f=r.className;if(s<a||h===d)return null;var p=$e("recharts-sector",f),g=s-a,m=Ft(l,g,0,!0),v;return m>0&&Math.abs(h-d)<360?v=MV({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:d}):v=Yj({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:d}),G.createElement("path",oh({},Se(r,!0),{className:p,d:v,role:"img"}))};function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sh.apply(this,arguments)}function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(r),!0).forEach(function(n){LV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LV(e,t,r){return t=RV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=DV(e,"string");return Uo(t)=="symbol"?t:t+""}function DV(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ry={curveBasisClosed:_L,curveBasisOpen:EL,curveBasis:OL,curveBumpX:dL,curveBumpY:fL,curveLinearClosed:AL,curveLinear:uu,curveMonotoneX:kL,curveMonotoneY:PL,curveNatural:TL,curveStep:CL,curveStepAfter:IL,curveStepBefore:$L},Ws=function(t){return t.x===+t.x&&t.y===+t.y},Ya=function(t){return t.x},Xa=function(t){return t.y},BV=function(t,r){if(ke(t))return t;var n="curve".concat(lu(t));return(n==="curveMonotone"||n==="curveBump")&&r?Ry["".concat(n).concat(r==="vertical"?"Y":"X")]:Ry[n]||uu},FV=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=BV(n,l),d=u?a.filter(function(m){return Ws(m)}):a,f;if(Array.isArray(s)){var p=u?s.filter(function(m){return Ws(m)}):s,g=d.map(function(m,v){return Ly(Ly({},m),{},{base:p[v]})});return l==="vertical"?f=zs().y(Xa).x1(Ya).x0(function(m){return m.base.x}):f=zs().x(Ya).y1(Xa).y0(function(m){return m.base.y}),f.defined(Ws).curve(h),f(g)}return l==="vertical"&&de(s)?f=zs().y(Xa).x1(Ya).x0(s):de(s)?f=zs().x(Ya).y1(Xa).y0(s):f=o2().x(Ya).y(Xa),f.defined(Ws).curve(h),f(d)},sc=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?FV(t):i;return G.createElement("path",sh({},Se(t,!1),Il(t),{className:$e("recharts-curve",r),d:s,ref:a}))},qV=Object.getOwnPropertyNames,UV=Object.getOwnPropertySymbols,HV=Object.prototype.hasOwnProperty;function Dy(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Vs(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function By(e){return qV(e).concat(UV(e))}var WV=Object.hasOwn||function(e,t){return HV.call(e,t)};function pi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var VV="__v",GV="__o",KV="_owner",Fy=Object.getOwnPropertyDescriptor,qy=Object.keys;function YV(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XV(e,t){return pi(e.getTime(),t.getTime())}function ZV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function JV(e,t){return e===t}function Uy(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),h=!1,d=0;(l=u.next())&&!l.done;){if(i[d]){d++;continue}var f=s.value,p=l.value;if(r.equals(f[0],p[0],c,d,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){h=i[d]=!0;break}d++}if(!h)return!1;c++}return!0}var QV=pi;function eG(e,t,r){var n=qy(e),i=n.length;if(qy(t).length!==i)return!1;for(;i-- >0;)if(!Zj(e,t,r,n[i]))return!1;return!0}function Za(e,t,r){var n=By(e),i=n.length;if(By(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!Zj(e,t,r,a)||(s=Fy(e,a),l=Fy(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function tG(e,t){return pi(e.valueOf(),t.valueOf())}function rG(e,t){return e.source===t.source&&e.flags===t.flags}function Hy(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function nG(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function iG(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Zj(e,t,r,n){return(n===KV||n===GV||n===VV)&&(e.$$typeof||t.$$typeof)?!0:WV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var aG="[object Arguments]",oG="[object Boolean]",sG="[object Date]",lG="[object Error]",cG="[object Map]",uG="[object Number]",dG="[object Object]",fG="[object RegExp]",hG="[object Set]",pG="[object String]",mG="[object URL]",gG=Array.isArray,Wy=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Vy=Object.assign,vG=Object.prototype.toString.call.bind(Object.prototype.toString);function yG(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var b=typeof g;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?s(g,m,v):b==="function"?i(g,m,v):!1;var y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return l(g,m,v);if(gG(g))return t(g,m,v);if(Wy!=null&&Wy(g))return d(g,m,v);if(y===Date)return r(g,m,v);if(y===RegExp)return u(g,m,v);if(y===Map)return a(g,m,v);if(y===Set)return h(g,m,v);var j=vG(g);return j===sG?r(g,m,v):j===fG?u(g,m,v):j===cG?a(g,m,v):j===hG?h(g,m,v):j===dG?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):j===mG?f(g,m,v):j===lG?n(g,m,v):j===aG?l(g,m,v):j===oG||j===uG||j===pG?c(g,m,v):!1}}function bG(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Za:YV,areDatesEqual:XV,areErrorsEqual:ZV,areFunctionsEqual:JV,areMapsEqual:n?Dy(Uy,Za):Uy,areNumbersEqual:QV,areObjectsEqual:n?Za:eG,arePrimitiveWrappersEqual:tG,areRegExpsEqual:rG,areSetsEqual:n?Dy(Hy,Za):Hy,areTypedArraysEqual:n?Za:nG,areUrlsEqual:iG};if(r&&(i=Vy({},i,r(i))),t){var a=Vs(i.areArraysEqual),s=Vs(i.areMapsEqual),l=Vs(i.areObjectsEqual),c=Vs(i.areSetsEqual);i=Vy({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function xG(e){return function(t,r,n,i,a,s,l){return e(t,r,l)}}function wG(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var h=n(),d=h.cache,f=d===void 0?t?new WeakMap:void 0:d,p=h.meta;return r(c,u,{cache:f,equals:i,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var jG=Mn();Mn({strict:!0});Mn({circular:!0});Mn({circular:!0,strict:!0});Mn({createInternalComparator:function(){return pi}});Mn({strict:!0,createInternalComparator:function(){return pi}});Mn({circular:!0,createInternalComparator:function(){return pi}});Mn({circular:!0,createInternalComparator:function(){return pi},strict:!0});function Mn(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=bG(e),c=yG(l),u=n?n(c):xG(c);return wG({circular:r,comparator:c,createState:i,equals:u,strict:s})}function SG(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Gy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):SG(i)};requestAnimationFrame(n)}function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}function NG(e){return AG(e)||EG(e)||_G(e)||OG()}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(e,t){if(e){if(typeof e=="string")return Ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(e,t)}}function Ky(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AG(e){if(Array.isArray(e))return e}function kG(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=NG(s),c=l[0],u=l.slice(1);if(typeof c=="number"){Gy(i.bind(null,u),c);return}i(c),Gy(i.bind(null,u));return}lh(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yy(Object(r),!0).forEach(function(n){Jj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jj(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=TG(e,"string");return Ho(t)==="symbol"?t:String(t)}function TG(e,t){if(Ho(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ho(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},$G=function(t){return t},IG=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lo=function(t,r){return Object.keys(r).reduce(function(n,i){return Xy(Xy({},n),{},Jj({},i,t(i,r[i])))},{})},Zy=function(t,r,n){return t.map(function(i){return"".concat(IG(i)," ").concat(r,"ms ").concat(n)}).join(",")};function MG(e,t){return RG(e)||LG(e,t)||Qj(e,t)||zG()}function zG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function RG(e){if(Array.isArray(e))return e}function DG(e){return qG(e)||FG(e)||Qj(e)||BG()}function BG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(e,t){if(e){if(typeof e=="string")return ch(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ch(e,t)}}function FG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qG(e){if(Array.isArray(e))return ch(e)}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lc=1e-4,eS=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},tS=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Jy=function(t,r){return function(n){var i=eS(t,r);return tS(i,n)}},UG=function(t,r){return function(n){var i=eS(t,r),a=[].concat(DG(i.map(function(s,l){return s*l}).slice(1)),[0]);return tS(a,n)}},Qy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=MG(u,4);i=h[0],a=h[1],s=h[2],l=h[3]}}}var d=Jy(i,s),f=Jy(a,l),p=UG(i,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,j=y,w=0;w<8;++w){var x=d(j)-y,S=p(j);if(Math.abs(x-y)<lc||S<lc)return f(j);j=g(j-x/S)}return f(j)};return m.isStepper=!1,m},HG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(h,d,f){var p=-(h-d)*n,g=f*a,m=f+(p-g)*l/1e3,v=f*l/1e3+h;return Math.abs(v-d)<lc&&Math.abs(m)<lc?[d,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},WG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qy(i);case"spring":return HG();default:if(i.split("(")[0]==="cubic-bezier")return Qy(i)}return typeof i=="function"?i:null};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function eb(e){return KG(e)||GG(e)||rS(e)||VG()}function VG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KG(e){if(Array.isArray(e))return dh(e)}function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uh(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=XG(e,"string");return Wo(t)==="symbol"?t:String(t)}function XG(e,t){if(Wo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){return eK(e)||QG(e,t)||rS(e,t)||JG()}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rS(e,t){if(e){if(typeof e=="string")return dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dh(e,t)}}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function eK(e){if(Array.isArray(e))return e}var cc=function(t,r,n){return t+(r-t)*n},fh=function(t){var r=t.from,n=t.to;return r!==n},tK=function e(t,r,n){var i=lo(function(a,s){if(fh(s)){var l=t(s.from,s.to,s.velocity),c=ZG(l,2),u=c[0],h=c[1];return kt(kt({},s),{},{from:u,velocity:h})}return s},r);return n<1?lo(function(a,s){return fh(s)?kt(kt({},s),{},{velocity:cc(s.velocity,i[a].velocity,n),from:cc(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const rK=function(e,t,r,n,i){var a=CG(e,t),s=a.reduce(function(v,b){return kt(kt({},v),{},uh({},b,[e[b],t[b]]))},{}),l=a.reduce(function(v,b){return kt(kt({},v),{},uh({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,h,d=function(){return null},f=function(){return lo(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(fh).length},g=function(b){u||(u=b);var y=b-u,j=y/r.dt;l=tK(r,l,j),i(kt(kt(kt({},e),t),f())),u=b,p()||(c=requestAnimationFrame(d))},m=function(b){h||(h=b);var y=(b-h)/n,j=lo(function(x,S){return cc.apply(void 0,eb(S).concat([r(y)]))},s);if(i(kt(kt(kt({},e),t),j)),y<1)c=requestAnimationFrame(d);else{var w=lo(function(x,S){return cc.apply(void 0,eb(S).concat([r(1)]))},s);i(kt(kt(kt({},e),t),w))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}var nK=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iK(e,t){if(e==null)return{};var r=aK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aK(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ad(e){return cK(e)||lK(e)||sK(e)||oK()}function oK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(e,t){if(e){if(typeof e=="string")return hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hh(e,t)}}function lK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cK(e){if(Array.isArray(e))return hh(e)}function hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ro(e,t,r){return t=nS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nS(n.key),n)}}function dK(e,t,r){return t&&nb(e.prototype,t),r&&nb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nS(e){var t=fK(e,"string");return Zi(t)==="symbol"?t:String(t)}function fK(e,t){if(Zi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ph(e,t)}function ph(e,t){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ph(e,t)}function pK(e){var t=mK();return function(){var n=uc(e),i;if(t){var a=uc(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mh(this,i)}}function mh(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(e)}function gh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uc(e)}var _u=function(e){hK(r,e);var t=pK(r);function r(n,i){var a;uK(this,r),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,h=s.to,d=s.steps,f=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(gh(a)),a.changeStyle=a.changeStyle.bind(gh(a)),!l||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:h}),mh(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},mh(a);a.state={style:c?ro({},c,u):u}}else a.state={style:{}};return a}return dK(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,h=a.to,d=a.from,f=this.state.style;if(l){if(!s){var p={style:c?ro({},c,h):h};this.state&&f&&(c&&f[c]!==h||!c&&f!==h)&&this.setState(p);return}if(!(jG(i.to,h)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?d:i.to;if(this.state&&f){var v={style:c?ro({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(v)}this.runAnimation(Nr(Nr({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,h=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=rK(s,l,WG(u),c,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([f,h,g,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],h=u.style,d=u.duration,f=d===void 0?0:d,p=function(m,v,b){if(b===0)return m;var y=v.duration,j=v.easing,w=j===void 0?"ease":j,x=v.style,S=v.properties,N=v.onAnimationEnd,_=b>0?s[b-1]:v,C=S||Object.keys(x);if(typeof w=="function"||w==="spring")return[].concat(Ad(m),[a.runJSAnimation.bind(a,{from:_.style,to:x,duration:y,easing:w}),y]);var E=Zy(C,y,w),O=Nr(Nr(Nr({},_.style),x),{},{transition:E});return[].concat(Ad(m),[O,y,N]).filter($G)};return this.manager.start([c].concat(Ad(s.reduce(p,[h,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=kG());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=l?ro({},l,c):c,v=Zy(Object.keys(m),s,u);g.start([h,a,Nr(Nr({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=iK(i,nK),u=P.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||u===0||s<=0)return a;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,y=P.cloneElement(p,Nr(Nr({},c),{},{style:Nr(Nr({},v),h),className:b}));return y};return u===1?d(P.Children.only(a)):G.createElement("div",null,P.Children.map(a,function(f){return d(f)}))}}]),r}(P.PureComponent);_u.displayName="Animate";_u.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_u.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};const li=_u;function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function gK(e,t){return xK(e)||bK(e,t)||yK(e,t)||vK()}function vK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yK(e,t){if(e){if(typeof e=="string")return ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ib(e,t)}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function xK(e){if(Array.isArray(e))return e}function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(n){wK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=SK(e,"string");return Vo(t)=="symbol"?t:t+""}function SK(e,t){if(Vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sb=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>s?s:a[f];h="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),h+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),h+="L ".concat(t+n,",").concat(r+i-l*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+i)),h+="L ".concat(t+c*d[3],",").concat(r+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*d[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);h="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*g," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},NK=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),h=Math.max(a,a+l),d=Math.min(s,s+c),f=Math.max(s,s+c);return n>=u&&n<=h&&i>=d&&i<=f}return!1},OK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tm=function(t){var r=ob(ob({},OK),t),n=P.useRef(),i=P.useState(-1),a=gK(i,2),s=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,h=r.width,d=r.height,f=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||h===0||d===0)return null;var j=$e("recharts-rectangle",p);return y?G.createElement(li,{canBegin:s>0,from:{width:h,height:d,x:c,y:u},to:{width:h,height:d,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(w){var x=w.width,S=w.height,N=w.x,_=w.y;return G.createElement(li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},G.createElement("path",dc({},Se(r,!0),{className:j,d:sb(N,_,x,S,f),ref:n})))}):G.createElement("path",dc({},Se(r,!0),{className:j,d:sb(c,u,h,d,f)}))},_K=["points","className","baseLinePoints","connectNulls"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function EK(e,t){if(e==null)return{};var r=AK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lb(e){return CK(e)||TK(e)||PK(e)||kK()}function kK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PK(e,t){if(e){if(typeof e=="string")return vh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vh(e,t)}}function TK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CK(e){if(Array.isArray(e))return vh(e)}function vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cb=function(t){return t&&t.x===+t.x&&t.y===+t.y},$K=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){cb(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),cb(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},co=function(t,r){var n=$K(t);r&&(n=[n.reduce(function(a,s){return[].concat(lb(a),lb(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},IK=function(t,r,n){var i=co(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(co(r.reverse(),n).slice(1))},MK=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=EK(t,_K);if(!r||!r.length)return null;var l=$e("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=IK(r,i,a);return G.createElement("g",{className:l},G.createElement("path",_i({},Se(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?G.createElement("path",_i({},Se(s,!0),{fill:"none",d:co(r,a)})):null,c?G.createElement("path",_i({},Se(s,!0),{fill:"none",d:co(i,a)})):null)}var h=co(r,a);return G.createElement("path",_i({},Se(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}var Eu=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=$e("recharts-dot",a);return r===+r&&n===+n&&i===+i?G.createElement("circle",yh({},Se(t,!1),Il(t),{className:s,cx:r,cy:n,r:i})):null};function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}var zK=["x","y","top","left","width","height","className"];function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=BK(e,"string");return Go(t)=="symbol"?t:t+""}function BK(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){if(e==null)return{};var r=qK(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UK=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},HK=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,h=t.width,d=h===void 0?0:h,f=t.height,p=f===void 0?0:f,g=t.className,m=FK(t,zK),v=LK({x:n,y:a,top:l,left:u,width:d,height:p},m);return!de(n)||!de(a)||!de(d)||!de(p)||!de(l)||!de(u)?null:G.createElement("path",bh({},Se(v,!0),{className:$e("recharts-cross",g),d:UK(n,a,d,p,l,u)}))},WK=wu,VK=bj,GK=Cn;function KK(e,t){return e&&e.length?WK(e,GK(t),VK):void 0}var YK=KK;const XK=ze(YK);var ZK=wu,JK=Cn,QK=xj;function eY(e,t){return e&&e.length?ZK(e,JK(t),QK):void 0}var tY=eY;const rY=ze(tY);var nY=["cx","cy","angle","ticks","axisLine"],iY=["ticks","tick","angle","tickFormatter","stroke"];function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(n){Au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fb(e,t){if(e==null)return{};var r=aY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aS(n.key),n)}}function sY(e,t,r){return t&&hb(e.prototype,t),r&&hb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lY(e,t,r){return t=fc(t),cY(e,iS()?Reflect.construct(t,r||[],fc(e).constructor):t.apply(e,r))}function cY(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uY(e)}function uY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iS=function(){return!!e})()}function fc(e){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fc(e)}function dY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xh(e,t)}function xh(e,t){return xh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xh(e,t)}function Au(e,t,r){return t=aS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aS(e){var t=fY(e,"string");return Ji(t)=="symbol"?t:t+""}function fY(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ku=function(e){function t(){return oY(this,t),lY(this,t,arguments)}return dY(t,e),sY(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return Ze(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=XK(l,function(h){return h.coordinate||0}),u=rY(l,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=fb(n,nY),h=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),d=Ze(i,a,h[0],s),f=Ze(i,a,h[1],s),p=Dn(Dn(Dn({},Se(u,!1)),{},{fill:"none"},Se(c,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return G.createElement("line",uo({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,h=fb(i,iY),d=this.getTickTextAnchor(),f=Se(h,!1),p=Se(s,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),y=Dn(Dn(Dn(Dn({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:m});return G.createElement(Re,uo({className:$e("recharts-polar-radius-axis-tick",Gj(s)),key:"tick-".concat(m.coordinate)},ii(n.props,m,v)),t.renderTickItem(s,y,c?c(m.value,v):m.value))});return G.createElement(Re,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:G.createElement(Re,{className:$e("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return G.isValidElement(n)?s=G.cloneElement(n,i):ke(n)?s=n(i):s=G.createElement(ai,uo({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(P.PureComponent);Au(ku,"displayName","PolarRadiusAxis");Au(ku,"axisType","radiusAxis");Au(ku,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(this,arguments)}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){Pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sS(n.key),n)}}function pY(e,t,r){return t&&mb(e.prototype,t),r&&mb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mY(e,t,r){return t=hc(t),gY(e,oS()?Reflect.construct(t,r||[],hc(e).constructor):t.apply(e,r))}function gY(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vY(e)}function vY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oS=function(){return!!e})()}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hc(e)}function yY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wh(e,t)}function wh(e,t){return wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wh(e,t)}function Pu(e,t,r){return t=sS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sS(e){var t=bY(e,"string");return Qi(t)=="symbol"?t:t+""}function bY(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xY=Math.PI/180,gb=1e-5,Tu=function(e){function t(){return hY(this,t),mY(this,t,arguments)}return yY(t,e),pY(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,h=u||8,d=Ze(a,s,l,n.coordinate),f=Ze(a,s,l+(c==="inner"?-1:1)*h,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*xY),s;return a>gb?s=i==="outer"?"start":"end":a<-gb?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Bn(Bn({},Se(this.props,!1)),{},{fill:"none"},Se(l,!1));if(c==="circle")return G.createElement(Eu,Wn({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var h=this.props.ticks,d=h.map(function(f){return Ze(i,a,s,f.coordinate)});return G.createElement(MK,Wn({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,h=Se(this.props,!1),d=Se(s,!1),f=Bn(Bn({},h),{},{fill:"none"},Se(l,!1)),p=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=Bn(Bn(Bn({textAnchor:b},h),{},{stroke:"none",fill:u},d),{},{index:m,payload:g,x:v.x2,y:v.y2});return G.createElement(Re,Wn({className:$e("recharts-polar-angle-axis-tick",Gj(s)),key:"tick-".concat(g.coordinate)},ii(n.props,g,m)),l&&G.createElement("line",Wn({className:"recharts-polar-angle-axis-tick-line"},f,v)),s&&t.renderTickItem(s,y,c?c(g.value,m):g.value))});return G.createElement(Re,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(Re,{className:$e("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return G.isValidElement(n)?s=G.cloneElement(n,i):ke(n)?s=n(i):s=G.createElement(ai,Wn({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(P.PureComponent);Pu(Tu,"displayName","PolarAngleAxis");Pu(Tu,"axisType","angleAxis");Pu(Tu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wY=P1,jY=wY(Object.getPrototypeOf,Object),SY=jY,NY=gn,OY=SY,_Y=vn,EY="[object Object]",AY=Function.prototype,kY=Object.prototype,lS=AY.toString,PY=kY.hasOwnProperty,TY=lS.call(Object);function CY(e){if(!_Y(e)||NY(e)!=EY)return!1;var t=OY(e);if(t===null)return!0;var r=PY.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lS.call(r)==TY}var $Y=CY;const IY=ze($Y);var MY=gn,zY=vn,LY="[object Boolean]";function RY(e){return e===!0||e===!1||zY(e)&&MY(e)==LY}var DY=RY;const BY=ze(DY);function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}function FY(e,t){return WY(e)||HY(e,t)||UY(e,t)||qY()}function qY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(e,t)}}function vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function WY(e){if(Array.isArray(e))return e}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return t=GY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=KY(e,"string");return Ko(t)=="symbol"?t:t+""}function KY(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xb=function(t,r,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+a),l+="L ".concat(t+n-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},YY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XY=function(t){var r=bb(bb({},YY),t),n=P.useRef(),i=P.useState(-1),a=FY(i,2),s=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,h=r.upperWidth,d=r.lowerWidth,f=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||d!==+d||f!==+f||h===0&&d===0||f===0)return null;var y=$e("recharts-trapezoid",p);return b?G.createElement(li,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:h,lowerWidth:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(j){var w=j.upperWidth,x=j.lowerWidth,S=j.height,N=j.x,_=j.y;return G.createElement(li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},G.createElement("path",pc({},Se(r,!0),{className:y,d:xb(N,_,w,x,S),ref:n})))}):G.createElement("g",null,G.createElement("path",pc({},Se(r,!0),{className:y,d:xb(c,u,h,d,f)})))},ZY=["option","shapeType","propTransformer","activeClassName","isActive"];function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function JY(e,t){if(e==null)return{};var r=QY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){eX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eX(e,t,r){return t=tX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=rX(e,"string");return Yo(t)=="symbol"?t:t+""}function rX(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nX(e,t){return mc(mc({},t),e)}function iX(e,t){return e==="symbols"}function jb(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return G.createElement(tm,r);case"trapezoid":return G.createElement(XY,r);case"sector":return G.createElement(Xj,r);case"symbols":if(iX(t))return G.createElement(Op,r);break;default:return null}}function aX(e){return P.isValidElement(e)?e.props:e}function cS(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?nX:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=JY(e,ZY),u;if(P.isValidElement(t))u=P.cloneElement(t,mc(mc({},c),aX(t)));else if(ke(t))u=t(c);else if(IY(t)&&!BY(t)){var h=i(t,c);u=G.createElement(jb,{shapeType:r,elementProps:h})}else{var d=c;u=G.createElement(jb,{shapeType:r,elementProps:d})}return l?G.createElement(Re,{className:s},u):u}function Cu(e,t){return t!=null&&"trapezoids"in e.props}function $u(e,t){return t!=null&&"sectors"in e.props}function Xo(e,t){return t!=null&&"points"in e.props}function oX(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function sX(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lX(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function cX(e,t){var r;return Cu(e,t)?r=oX:$u(e,t)?r=sX:Xo(e,t)&&(r=lX),r}function uX(e,t){var r;return Cu(e,t)?r="trapezoids":$u(e,t)?r="sectors":Xo(e,t)&&(r="points"),r}function dX(e,t){if(Cu(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($u(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xo(e,t)?t.payload:{}}function fX(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=uX(r,t),a=dX(r,t),s=n.filter(function(c,u){var h=ls(a,c),d=r.props[i].filter(function(g){var m=cX(r,t);return m(g,t)}),f=r.props[i].indexOf(d[d.length-1]),p=u===f;return h&&p}),l=n.indexOf(s[s.length-1]);return l}var ul;function ea(e){"@babel/helpers - typeof";return ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ea(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dS(n.key),n)}}function pX(e,t,r){return t&&Nb(e.prototype,t),r&&Nb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mX(e,t,r){return t=gc(t),gX(e,uS()?Reflect.construct(t,r||[],gc(e).constructor):t.apply(e,r))}function gX(e,t){if(t&&(ea(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(e)}function vX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uS=function(){return!!e})()}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gc(e)}function yX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jh(e,t)}function jh(e,t){return jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jh(e,t)}function mr(e,t,r){return t=dS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dS(e){var t=bX(e,"string");return ea(t)=="symbol"?t:t+""}function bX(e,t){if(ea(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ea(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bn=function(e){function t(r){var n;return hX(this,t),n=mX(this,t,[r]),mr(n,"pieRef",null),mr(n,"sectorRefs",[]),mr(n,"id",Sa("recharts-pie-")),mr(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ke(i)&&i()}),mr(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ke(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yX(t,e),pX(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,h=Se(this.props,!1),d=Se(s,!1),f=Se(l,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,y=Ze(m.cx,m.cy,m.outerRadius+p,b),j=Ye(Ye(Ye(Ye({},h),m),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(y.x,m.cx)},y),w=Ye(Ye(Ye(Ye({},h),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[Ze(m.cx,m.cy,m.outerRadius,b),y]}),x=c;return Pe(c)&&Pe(u)?x="value":Pe(c)&&(x=u),G.createElement(Re,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(s,j,yt(m,x)))});return G.createElement(Re,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,h){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(h),f=c&&i.hasActiveIndex()?c:null,p=d?s:f,g=Ye(Ye({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return G.createElement(Re,Ei({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ii(i.props,u,h),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(h)}),G.createElement(cS,Ei({option:p,isActive:d,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return G.createElement(li,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],y=b.startAngle;return a.forEach(function(j,w){var x=f&&f[w],S=w>0?lr(j,"paddingAngle",0):0;if(x){var N=rr(x.endAngle-x.startAngle,j.endAngle-j.startAngle),_=Ye(Ye({},j),{},{startAngle:y+S,endAngle:y+N(m)+S});v.push(_),y=_.endAngle}else{var C=j.endAngle,E=j.startAngle,O=rr(0,C-E),A=O(m),k=Ye(Ye({},j),{},{startAngle:y+S,endAngle:y+A+S});v.push(k),y=k.endAngle}}),G.createElement(Re,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!ls(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,h=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!de(u)||!de(h)||!de(d)||!de(f))return null;var m=$e("recharts-pie",l);return G.createElement(Re,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),St.renderCallByParent(this.props,null,!1),(!p||g)&&dn.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(G.isValidElement(n))return G.cloneElement(n,i);if(ke(n))return n(i);var s=$e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(sc,Ei({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(G.isValidElement(n))return G.cloneElement(n,i);var s=a;if(ke(n)&&(s=n(i),G.isValidElement(s)))return s;var l=$e("recharts-pie-label-text",typeof n!="boolean"&&!ke(n)?n.className:"");return G.createElement(ai,Ei({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(P.PureComponent);ul=bn;mr(bn,"displayName","Pie");mr(bn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Br.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mr(bn,"parseDeltaAngle",function(e,t){var r=Bt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});mr(bn,"getRealPieData",function(e){var t=e.data,r=e.children,n=Se(e,!1),i=cr(r,pu);return t&&t.length?t.map(function(a,s){return Ye(Ye(Ye({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ye(Ye({},n),a.props)}):[]});mr(bn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=Vj(i,a),l=n+Ft(e.cx,i,i/2),c=r+Ft(e.cy,a,a/2),u=Ft(e.innerRadius,s,0),h=Ft(e.outerRadius,s,s*.8),d=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:d}});mr(bn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ye(Ye({},t.type.defaultProps),t.props):t.props,i=ul.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,h=n.nameKey,d=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),g=ul.parseCoordinateOfPie(n,r),m=ul.parseDeltaAngle(s,l),v=Math.abs(m),b=u;Pe(u)&&Pe(d)?(cn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Pe(u)&&(cn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var y=i.filter(function(_){return yt(_,b,0)!==0}).length,j=(v>=360?y:y-1)*c,w=v-y*p-j,x=i.reduce(function(_,C){var E=yt(C,b,0);return _+(de(E)?E:0)},0),S;if(x>0){var N;S=i.map(function(_,C){var E=yt(_,b,0),O=yt(_,h,C),A=(de(E)?E:0)/x,k;C?k=N.endAngle+Bt(m)*c*(E!==0?1:0):k=s;var $=k+Bt(m)*((E!==0?p:0)+A*w),I=(k+$)/2,T=(g.innerRadius+g.outerRadius)/2,R=[{name:O,value:E,payload:_,dataKey:b,type:f}],U=Ze(g.cx,g.cy,T,I);return N=Ye(Ye(Ye({percent:A,cornerRadius:a,name:O,tooltipPayload:R,midAngle:I,middleRadius:T,tooltipPosition:U},_),g),{},{value:yt(_,b),startAngle:k,endAngle:$,payload:_,paddingAngle:Bt(m)*c}),N})}return Ye(Ye({},g),{},{sectors:S,data:i})});var xX=Math.ceil,wX=Math.max;function jX(e,t,r,n){for(var i=-1,a=wX(xX((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var SX=jX,NX=I2,Ob=1/0,OX=17976931348623157e292;function _X(e){if(!e)return e===0?e:0;if(e=NX(e),e===Ob||e===-Ob){var t=e<0?-1:1;return t*OX}return e===e?e:0}var EX=_X,AX=SX,kX=hu,kd=EX;function PX(e){return function(t,r,n){return n&&typeof n!="number"&&kX(t,r,n)&&(r=n=void 0),t=kd(t),r===void 0?(r=t,t=0):r=kd(r),n=n===void 0?t<r?1:-1:kd(n),AX(t,r,n,e)}}var TX=PX,CX=TX,$X=CX(),IX=$X;const vc=ze(IX);function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){fS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fS(e,t,r){return t=MX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=zX(e,"string");return Zo(t)=="symbol"?t:t+""}function zX(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LX=["Webkit","Moz","O","ms"],RX=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=LX.reduce(function(a,s){return Eb(Eb({},a),{},fS({},s+n,r))},{});return i[t]=r,i};function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pS(n.key),n)}}function BX(e,t,r){return t&&kb(e.prototype,t),r&&kb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FX(e,t,r){return t=bc(t),qX(e,hS()?Reflect.construct(t,r||[],bc(e).constructor):t.apply(e,r))}function qX(e,t){if(t&&(ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UX(e)}function UX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hS=function(){return!!e})()}function bc(e){return bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bc(e)}function HX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sh(e,t)}function Sh(e,t){return Sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sh(e,t)}function er(e,t,r){return t=pS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pS(e){var t=WX(e,"string");return ta(t)=="symbol"?t:t+""}function WX(e,t){if(ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VX=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=oo().domain(vc(0,c)).range([a,a+s-l]),h=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:h}},Pb=function(t){return t.changedTouches&&!!t.changedTouches.length},ra=function(e){function t(r){var n;return DX(this,t),n=FX(this,t,[r]),er(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),er(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),er(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),er(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),er(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),er(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),er(n,"handleSlideDragStart",function(i){var a=Pb(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HX(t,e),BX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,d=Math.min(i,a),f=Math.max(i,a),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,f);return{startIndex:p-p%c,endIndex:g===h?h:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=yt(a[n],l,n);return ke(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,h=c.width,d=c.travellerWidth,f=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+h-d-l,u+h-d-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==f||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Pb(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],h=this.props,d=h.x,f=h.width,p=h.travellerWidth,g=h.onChange,m=h.gap,v=h.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,d+f-p-u):y<0&&(y=Math.max(y,d-u)),b[s]=u+y;var j=this.getIndex(b),w=j.startIndex,x=j.endIndex,S=function(){var _=v.length-1;return s==="startX"&&(l>c?w%m===0:x%m===0)||l<c&&x===_||s==="endX"&&(l>c?x%m===0:w%m===0)||l>c&&x===_};this.setState(er(er({},s,u+y),"brushMoveStartX",n.pageX),function(){g&&S()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,h=this.state[i],d=l.indexOf(h);if(d!==-1){var f=d+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(er({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return G.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,u=n.children,h=n.padding,d=P.Children.only(u);return d?G.cloneElement(d,{x:i,y:a,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,u=c.y,h=c.travellerWidth,d=c.height,f=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),y=Pd(Pd({},Se(this.props,!1)),{},{x:b,y:u,width:h,height:d}),j=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return G.createElement(Re,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),l.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,h=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,h=this.state,d=h.startX,f=h.endX,p=5,g={pointerEvents:"none",fill:u};return G.createElement(Re,{className:"recharts-brush-texts"},G.createElement(ai,yc({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:s+l/2},g),this.getTextOfTick(i)),G.createElement(ai,yc({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+p,y:s+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,u=n.width,h=n.height,d=n.alwaysShowText,f=this.state,p=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,b=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!de(l)||!de(c)||!de(u)||!de(h)||u<=0||h<=0)return null;var j=$e("recharts-brush",a),w=G.Children.count(s)===1,x=RX("userSelect","none");return G.createElement(Re,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),G.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):ke(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,h=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Pd({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?VX({data:a,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(P.PureComponent);er(ra,"displayName","Brush");er(ra,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GX=Ep;function KX(e,t){var r;return GX(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var YX=KX,XX=j1,ZX=Cn,JX=YX,QX=Zt,eZ=hu;function tZ(e,t,r){var n=QX(e)?XX:JX;return r&&eZ(e,t,r)&&(t=void 0),n(e,ZX(t))}var rZ=tZ;const nZ=ze(rZ);var qr=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Tb=k2;function iZ(e,t,r){t=="__proto__"&&Tb?Tb(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aZ=iZ,oZ=aZ,sZ=E2,lZ=Cn;function cZ(e,t){var r={};return t=lZ(t),sZ(e,function(n,i,a){oZ(r,i,t(n,i,a))}),r}var uZ=cZ;const dZ=ze(uZ);function fZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hZ=fZ,pZ=Ep;function mZ(e,t){var r=!0;return pZ(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var gZ=mZ,vZ=hZ,yZ=gZ,bZ=Cn,xZ=Zt,wZ=hu;function jZ(e,t,r){var n=xZ(e)?vZ:yZ;return r&&wZ(e,t,r)&&(t=void 0),n(e,bZ(t))}var SZ=jZ;const NZ=ze(SZ);var OZ=["x","y"];function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return t=EZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e){var t=AZ(e,"string");return Jo(t)=="symbol"?t:t+""}function AZ(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e,t){if(e==null)return{};var r=PZ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TZ(e,t){var r=e.x,n=e.y,i=kZ(e,OZ),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),h=parseInt(u,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Ja(Ja(Ja(Ja(Ja({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:f,name:t.name,radius:t.radius})}function $b(e){return G.createElement(cS,Nh({shapeType:"rectangle",propTransformer:TZ,activeClassName:"recharts-active-bar"},e))}var CZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||si(!1),r)}},$Z=["value","background"],mS;function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(e)}function IZ(e,t){if(e==null)return{};var r=MZ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(n){_n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vS(n.key),n)}}function LZ(e,t,r){return t&&Mb(e.prototype,t),r&&Mb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RZ(e,t,r){return t=wc(t),DZ(e,gS()?Reflect.construct(t,r||[],wc(e).constructor):t.apply(e,r))}function DZ(e,t){if(t&&(na(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BZ(e)}function BZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gS=function(){return!!e})()}function wc(e){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wc(e)}function FZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oh(e,t)}function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Oh(e,t)}function _n(e,t,r){return t=vS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vS(e){var t=qZ(e,"string");return na(t)=="symbol"?t:t+""}function qZ(e,t){if(na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=function(e){function t(){var r;zZ(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=RZ(this,t,[].concat(i)),_n(r,"state",{isAnimationFinished:!1}),_n(r,"id",Sa("recharts-bar-")),_n(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),_n(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return FZ(t,e),LZ(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,h=Se(this.props,!1);return n&&n.map(function(d,f){var p=f===c,g=p?u:s,m=dt(dt(dt({},h),d),{},{isActive:p,option:g,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Re,xc({className:"recharts-bar-rectangle"},ii(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),G.createElement($b,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,d=i.animationId,f=this.state.prevData;return G.createElement(li,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(v,b){var y=f&&f[b];if(y){var j=rr(y.x,v.x),w=rr(y.y,v.y),x=rr(y.width,v.width),S=rr(y.height,v.height);return dt(dt({},v),{},{x:j(g),y:w(g),width:x(g),height:S(g)})}if(s==="horizontal"){var N=rr(0,v.height),_=N(g);return dt(dt({},v),{},{y:v.y+v.height-_,height:_})}var C=rr(0,v.width),E=C(g);return dt(dt({},v),{},{width:E})});return G.createElement(Re,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!ls(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=Se(this.props.background,!1);return a.map(function(u,h){u.value;var d=u.background,f=IZ(u,$Z);if(!d)return null;var p=dt(dt(dt(dt(dt({},f),{},{fill:"#eee"},d),c),ii(n.props,u,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return G.createElement($b,xc({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,d=cr(h,bs);if(!d)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:yt(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Re,g,d.map(function(m){return G.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,h=n.top,d=n.width,f=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=$e("recharts-bar",s),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=y||j,x=Pe(m)?this.id:m;return G.createElement(Re,{className:b},y||j?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(x)},G.createElement("rect",{x:y?u:u-d/2,y:j?h:h-f/2,width:y?d:d*2,height:j?f:f*2}))):null,G.createElement(Re,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(x,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,x),(!p||v)&&dn.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(P.PureComponent);mS=mi;_n(mi,"displayName","Bar");_n(mi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Br.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_n(mi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,d=e.displayedData,f=e.offset,p=_W(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?dt(dt({},m),r.props):r.props,b=v.dataKey,y=v.children,j=v.minPointSize,w=g==="horizontal"?s:a,x=u?w.scale.domain():null,S=$W({numericAxis:w}),N=cr(y,pu),_=d.map(function(C,E){var O,A,k,$,I,T;u?O=EW(u[h+E],x):(O=yt(C,b),Array.isArray(O)||(O=[S,O]));var R=CZ(j,mS.defaultProps.minPointSize)(O[1],E);if(g==="horizontal"){var U,D=[s.scale(O[0]),s.scale(O[1])],F=D[0],M=D[1];A=Sy({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:C,index:E}),k=(U=M??F)!==null&&U!==void 0?U:void 0,$=p.size;var L=F-M;if(I=Number.isNaN(L)?0:L,T={x:A,y:s.y,width:$,height:s.height},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var z=Bt(I||R)*(Math.abs(R)-Math.abs(I));k-=z,I+=z}}else{var K=[a.scale(O[0]),a.scale(O[1])],W=K[0],B=K[1];if(A=W,k=Sy({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:C,index:E}),$=B-W,I=p.size,T={x:a.x,y:k,width:a.width,height:I},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var H=Bt($||R)*(Math.abs(R)-Math.abs($));$+=H}}return dt(dt(dt({},C),{},{x:A,y:k,width:$,height:I,value:u?O:O[1],payload:C,background:T},N&&N[E]&&N[E].props),{},{tooltipPayload:[Hj(r,C)],tooltipPosition:{x:A+$/2,y:k+I/2}})});return dt({data:_,layout:g},f)});function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function UZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yS(n.key),n)}}function HZ(e,t,r){return t&&zb(e.prototype,t),r&&zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lb(Object(r),!0).forEach(function(n){Iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iu(e,t,r){return t=yS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yS(e){var t=WZ(e,"string");return Qo(t)=="symbol"?t:t+""}function WZ(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bS=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,h=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!tr(u,mi);return h.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,y=m.padding,j=y===void 0?{}:y,w=m.mirror,x=m.reversed,S="".concat(v).concat(w?"Mirror":""),N,_,C,E,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var A=b[1]-b[0],k=1/0,$=m.categoricalDomain.sort(Qz);if($.forEach(function(K,W){W>0&&(k=Math.min((K||0)-($[W-1]||0),k))}),Number.isFinite(k)){var I=k/A,T=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=I*T/2),m.padding==="no-gap"){var R=Ft(t.barCategoryGap,I*T),U=I*T/2;N=U-R-(U-R)/T*R}}}i==="xAxis"?_=[n.left+(j.left||0)+(N||0),n.left+n.width-(j.right||0)-(N||0)]:i==="yAxis"?_=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(N||0),n.top+n.height-(j.bottom||0)-(N||0)]:_=m.range,x&&(_=[_[1],_[0]]);var D=Bj(m,a,f),F=D.scale,M=D.realScaleType;F.domain(b).range(_),Fj(F);var L=qj(F,_r(_r({},m),{},{realScaleType:M}));i==="xAxis"?(O=v==="top"&&!w||v==="bottom"&&w,C=n.left,E=d[S]-O*m.height):i==="yAxis"&&(O=v==="left"&&!w||v==="right"&&w,C=d[S]-O*m.width,E=n.top);var z=_r(_r(_r({},m),L),{},{realScaleType:M,x:C,y:E,scale:F,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return z.bandSize=ic(z,L),!m.hide&&i==="xAxis"?d[S]+=(O?-1:1)*z.height:m.hide||(d[S]+=(O?-1:1)*z.width),_r(_r({},p),{},Iu({},g,z))},{})},xS=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},VZ=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return xS({x:r,y:n},{x:i,y:a})},wS=function(){function e(t){UZ(this,e),this.scale=t}return HZ(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Iu(wS,"EPS",1e-4);var rm=function(t){var r=Object.keys(t).reduce(function(n,i){return _r(_r({},n),{},Iu({},i,wS.create(t[i])))},{});return _r(_r({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return dZ(i,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return NZ(i,function(a,s){return r[s].isInRange(a)})}})};function GZ(e){return(e%180+180)%180}var KZ=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=GZ(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},YZ=tz(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jS=P.createContext(void 0),SS=P.createContext(void 0),NS=P.createContext(void 0),XZ=P.createContext({}),OS=P.createContext(void 0),_S=P.createContext(0),ES=P.createContext(0),Rb=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,h=YZ(a);return G.createElement(jS.Provider,{value:n},G.createElement(SS.Provider,{value:i},G.createElement(XZ.Provider,{value:a},G.createElement(NS.Provider,{value:h},G.createElement(OS.Provider,{value:s},G.createElement(_S.Provider,{value:u},G.createElement(ES.Provider,{value:c},l)))))))},ZZ=function(){return P.useContext(OS)},AS=function(t){var r=P.useContext(jS);r==null&&si(!1);var n=r[t];return n==null&&si(!1),n},kS=function(t){var r=P.useContext(SS);r==null&&si(!1);var n=r[t];return n==null&&si(!1),n},JZ=function(){var t=P.useContext(NS);return t},PS=function(){return P.useContext(ES)},TS=function(){return P.useContext(_S)};function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function QZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Db(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$S(n.key),n)}}function eJ(e,t,r){return t&&Db(e.prototype,t),r&&Db(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tJ(e,t,r){return t=jc(t),rJ(e,CS()?Reflect.construct(t,r||[],jc(e).constructor):t.apply(e,r))}function rJ(e,t){if(t&&(ia(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nJ(e)}function nJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CS=function(){return!!e})()}function jc(e){return jc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jc(e)}function iJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_h(e,t)}function _h(e,t){return _h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_h(e,t)}function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(r),!0).forEach(function(n){nm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nm(e,t,r){return t=$S(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $S(e){var t=aJ(e,"string");return ia(t)=="symbol"?t:t+""}function aJ(e,t){if(ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oJ(e,t){return uJ(e)||cJ(e,t)||lJ(e,t)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(e,t){if(e){if(typeof e=="string")return qb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qb(e,t)}}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function uJ(e){if(Array.isArray(e))return e}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}var dJ=function(t,r){var n;return G.isValidElement(t)?n=G.cloneElement(t,r):ke(t)?n=t(r):n=G.createElement("line",Eh({},r,{className:"recharts-reference-line-line"})),n},fJ=function(t,r,n,i,a,s,l,c,u){var h=a.x,d=a.y,f=a.width,p=a.height;if(n){var g=u.y,m=t.y.apply(g,{position:s});if(qr(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:h+f,y:m},{x:h,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,y=t.x.apply(b,{position:s});if(qr(u,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:d+p},{x:y,y:d}];return l==="top"?j.reverse():j}if(i){var w=u.segment,x=w.map(function(S){return t.apply(S,{position:s})});return qr(u,"discard")&&nZ(x,function(S){return!t.isInRange(S)})?null:x}return null};function hJ(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=ZZ(),h=AS(i),d=kS(a),f=JZ();if(!u||!f)return null;cn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=rm({x:h.scale,y:d.scale}),g=bt(t),m=bt(r),v=n&&n.length===2,b=fJ(p,g,m,v,f,e.position,h.orientation,d.orientation,e);if(!b)return null;var y=oJ(b,2),j=y[0],w=j.x,x=j.y,S=y[1],N=S.x,_=S.y,C=qr(e,"hidden")?"url(#".concat(u,")"):void 0,E=Fb(Fb({clipPath:C},Se(e,!0)),{},{x1:w,y1:x,x2:N,y2:_});return G.createElement(Re,{className:$e("recharts-reference-line",l)},dJ(s,E),St.renderCallByParent(e,VZ({x1:w,y1:x,x2:N,y2:_})))}var im=function(e){function t(){return QZ(this,t),tJ(this,t,arguments)}return iJ(t,e),eJ(t,[{key:"render",value:function(){return G.createElement(hJ,this.props)}}])}(G.Component);nm(im,"displayName","ReferenceLine");nm(im,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(this,arguments)}function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){Mu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MS(n.key),n)}}function mJ(e,t,r){return t&&Wb(e.prototype,t),r&&Wb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gJ(e,t,r){return t=Sc(t),vJ(e,IS()?Reflect.construct(t,r||[],Sc(e).constructor):t.apply(e,r))}function vJ(e,t){if(t&&(aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJ(e)}function yJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IS=function(){return!!e})()}function Sc(e){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sc(e)}function bJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}function kh(e,t){return kh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kh(e,t)}function Mu(e,t,r){return t=MS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MS(e){var t=xJ(e,"string");return aa(t)=="symbol"?t:t+""}function xJ(e,t){if(aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=rm({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return qr(t,"discard")&&!s.isInRange(l)?null:l},zu=function(e){function t(){return pJ(this,t),gJ(this,t,arguments)}return bJ(t,e),mJ(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=bt(i),h=bt(a);if(cn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var d=wJ(this.props);if(!d)return null;var f=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,b=qr(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=Hb(Hb({clipPath:b},Se(this.props,!0)),{},{cx:f,cy:p});return G.createElement(Re,{className:$e("recharts-reference-dot",v)},t.renderDot(m,y),St.renderCallByParent(this.props,{x:f-s,y:p-s,width:2*s,height:2*s}))}}])}(G.Component);Mu(zu,"displayName","ReferenceDot");Mu(zu,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Mu(zu,"renderDot",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):ke(e)?r=e(t):r=G.createElement(Eu,Ah({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(this,arguments)}function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(n){Lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LS(n.key),n)}}function SJ(e,t,r){return t&&Kb(e.prototype,t),r&&Kb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=Nc(t),OJ(e,zS()?Reflect.construct(t,r||[],Nc(e).constructor):t.apply(e,r))}function OJ(e,t){if(t&&(oa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(e)}function _J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zS=function(){return!!e})()}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nc(e)}function EJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Th(e,t)}function Th(e,t){return Th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Th(e,t)}function Lu(e,t,r){return t=LS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LS(e){var t=AJ(e,"string");return oa(t)=="symbol"?t:t+""}function AJ(e,t){if(oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kJ=function(t,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,h=a.xAxis,d=a.yAxis;if(!h||!d)return null;var f=rm({x:h.scale,y:d.scale}),p={x:t?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return qr(a,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:xS(p,g)},Ru=function(e){function t(){return jJ(this,t),NJ(this,t,arguments)}return EJ(t,e),SJ(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,h=n.clipPathId;cn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=bt(i),f=bt(a),p=bt(s),g=bt(l),m=this.props.shape;if(!d&&!f&&!p&&!g&&!m)return null;var v=kJ(d,f,p,g,this.props);if(!v&&!m)return null;var b=qr(this.props,"hidden")?"url(#".concat(h,")"):void 0;return G.createElement(Re,{className:$e("recharts-reference-area",c)},t.renderRect(m,Gb(Gb({clipPath:b},Se(this.props,!0)),v)),St.renderCallByParent(this.props,v))}}])}(G.Component);Lu(Ru,"displayName","ReferenceArea");Lu(Ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lu(Ru,"renderRect",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):ke(e)?r=e(t):r=G.createElement(tm,Ph({},t,{className:"recharts-reference-area-rect"})),r});function RS(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)if(r===void 0||r(e[i])===!0)n.push(e[i]);else return;return n}function PJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return KZ(n,r)}function TJ(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function Oc(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function CJ(e,t){return RS(e,t+1)}function $J(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,h=s,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:RS(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,j=c===0||Oc(e,y,b,h,l);j||(c=0,h=s,u+=1),j&&(h=y+e*(b()/2+i),c+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(r),!0).forEach(function(n){IJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IJ(e,t,r){return t=MJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=zJ(e,"string");return es(t)=="symbol"?t:t+""}function zJ(e,t){if(es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LJ(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(f){var p=a[f],g,m=function(){return g===void 0&&(g=r(p,f)),g};if(f===s-1){var v=e*(p.coordinate+e*m()/2-c);a[f]=p=Mt(Mt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[f]=p=Mt(Mt({},p),{},{tickCoord:p.coordinate});var b=Oc(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+i),a[f]=Mt(Mt({},p),{},{isShow:!0}))},h=s-1;h>=0;h--)u(h);return a}function RJ(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var h=n[l-1],d=r(h,l-1),f=e*(h.coordinate+e*d/2-u);s[l-1]=h=Mt(Mt({},h),{},{tickCoord:f>0?h.coordinate-f*e:h.coordinate});var p=Oc(e,h.tickCoord,function(){return d},c,u);p&&(u=h.tickCoord-e*(d/2+i),s[l-1]=Mt(Mt({},h),{},{isShow:!0}))}for(var g=a?l-1:l,m=function(y){var j=s[y],w,x=function(){return w===void 0&&(w=r(j,y)),w};if(y===0){var S=e*(j.coordinate-e*x()/2-c);s[y]=j=Mt(Mt({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else s[y]=j=Mt(Mt({},j),{},{tickCoord:j.coordinate});var N=Oc(e,j.tickCoord,x,c,u);N&&(c=j.tickCoord+e*(x()/2+i),s[y]=Mt(Mt({},j),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function DJ(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,d=e.angle;if(!i||!i.length||!n)return[];if(de(c)||Br.isSsr)return CJ(i,typeof c=="number"&&de(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",g=h&&p==="width"?ao(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(j,w){var x=ke(u)?u(j.value,w):j.value;return p==="width"?PJ(ao(x,{fontSize:t,letterSpacing:r}),g,d):ao(x,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Bt(i[1].coordinate-i[0].coordinate):1,b=TJ(a,v,p);return c==="equidistantPreserveStart"?$J(v,b,m,i,s):(c==="preserveStart"||c==="preserveStartEnd"?f=RJ(v,b,m,i,s,c==="preserveStartEnd"):f=LJ(v,b,m,i,s),f.filter(function(y){return y.isShow}))}var BJ=["viewBox"],FJ=["viewBox"],qJ=["ticks"];function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Td(e,t){if(e==null)return{};var r=UJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BS(n.key),n)}}function WJ(e,t,r){return t&&Zb(e.prototype,t),r&&Zb(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VJ(e,t,r){return t=_c(t),GJ(e,DS()?Reflect.construct(t,r||[],_c(e).constructor):t.apply(e,r))}function GJ(e,t){if(t&&(sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(e)}function KJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DS=function(){return!!e})()}function _c(e){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_c(e)}function YJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ch(e,t)}function Ch(e,t){return Ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ch(e,t)}function am(e,t,r){return t=BS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BS(e){var t=XJ(e,"string");return sa(t)=="symbol"?t:t+""}function XJ(e,t){if(sa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Du=function(e){function t(r){var n;return HJ(this,t),n=VJ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return YJ(t,e),WJ(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Td(n,BJ),l=this.props,c=l.viewBox,u=Td(l,FJ);return!Mi(a,c)||!Mi(s,u)||!Mi(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,h=i.tickSize,d=i.mirror,f=i.tickMargin,p,g,m,v,b,y,j=d?-1:1,w=n.tickSize||h,x=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!d*c,m=v-j*w,y=m-j*f,b=x;break;case"left":m=v=n.coordinate,g=a+ +!d*l,p=g-j*w,b=p-j*f,y=x;break;case"right":m=v=n.coordinate,g=a+ +d*l,p=g+j*w,b=p+j*f,y=x;break;default:p=g=n.coordinate,v=s+ +d*c,m=v+j*w,y=m+j*f,b=x;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,h=n.axisLine,d=Rt(Rt(Rt({},Se(this.props,!1)),Se(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);d=Rt(Rt({},d),{},{x1:i,y1:a+f*l,x2:i+s,y2:a+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=Rt(Rt({},d),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+l})}return G.createElement("line",Ai({},d,{className:$e("recharts-cartesian-axis-line",lr(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,d=l.tickFormatter,f=l.unit,p=DJ(Rt(Rt({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Se(this.props,!1),b=Se(h,!1),y=Rt(Rt({},v),{},{fill:"none"},Se(c,!1)),j=p.map(function(w,x){var S=s.getTickLineCoord(w),N=S.line,_=S.tick,C=Rt(Rt(Rt(Rt({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),_),{},{index:x,payload:w,visibleTicksCount:p.length,tickFormatter:d});return G.createElement(Re,Ai({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ii(s.props,w,x)),c&&G.createElement("line",Ai({},y,N,{className:$e("recharts-cartesian-axis-tick-line",lr(c,"className"))})),h&&t.renderTickItem(h,C,"".concat(ke(d)?d(w.value,x):w.value).concat(f||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var d=this.props,f=d.ticks,p=Td(d,qJ),g=f;return ke(c)&&(g=f&&f.length>0?c(this.props):c(p)),s<=0||l<=0||!g||!g.length?null:G.createElement(Re,{className:$e("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return G.isValidElement(n)?s=G.cloneElement(n,i):ke(n)?s=n(i):s=G.createElement(ai,Ai({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(P.Component);am(Du,"displayName","CartesianAxis");am(Du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ZJ=["type","layout","connectNulls","ref"],JJ=["key"];function la(e){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(e)}function Jb(e,t){if(e==null)return{};var r=QJ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){Er(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xi(e){return nQ(e)||rQ(e)||tQ(e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){if(e){if(typeof e=="string")return $h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $h(e,t)}}function rQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nQ(e){if(Array.isArray(e))return $h(e)}function $h(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qS(n.key),n)}}function aQ(e,t,r){return t&&ex(e.prototype,t),r&&ex(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,r){return t=Ec(t),sQ(e,FS()?Reflect.construct(t,r||[],Ec(e).constructor):t.apply(e,r))}function sQ(e,t){if(t&&(la(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FS=function(){return!!e})()}function Ec(e){return Ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ec(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ih(e,t)}function Ih(e,t){return Ih=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ih(e,t)}function Er(e,t,r){return t=qS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qS(e){var t=uQ(e,"string");return la(t)=="symbol"?t:t+""}function uQ(e,t){if(la(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(la(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xs=function(e){function t(){var r;iQ(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oQ(this,t,[].concat(i)),Er(r,"state",{isAnimationFinished:!0,totalLength:0}),Er(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Er(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var h=Math.floor(s/u),d=s%u,f=l-s,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>d){p=[].concat(xi(c.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(xi(t.repeat(c,h)),xi(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Er(r,"id",Sa("recharts-line-")),Er(r,"pathRef",function(s){r.mainCurve=s}),Er(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Er(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cQ(t,e),aQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,h=a.children,d=cr(h,bs);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:yt(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Re,p,d.map(function(g){return G.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,d=Se(this.props,!1),f=Se(c,!0),p=u.map(function(m,v){var b=Qt(Qt(Qt({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:h,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return G.createElement(Re,fo({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,c=l.type,u=l.layout,h=l.connectNulls;l.ref;var d=Jb(l,ZJ),f=Qt(Qt(Qt({},Se(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:h});return G.createElement(sc,fo({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,h=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,b=this.state,y=b.prevPoints,j=b.totalLength;return G.createElement(li,{begin:h,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var x=w.t;if(y){var S=y.length/l.length,N=l.map(function(A,k){var $=Math.floor(k*S);if(y[$]){var I=y[$],T=rr(I.x,A.x),R=rr(I.y,A.y);return Qt(Qt({},A),{},{x:T(x),y:R(x)})}if(g){var U=rr(m*2,A.x),D=rr(v/2,A.y);return Qt(Qt({},A),{},{x:U(x),y:D(x)})}return Qt(Qt({},A),{},{x:A.x,y:A.y})});return a.renderCurveStatically(N,n,i)}var _=rr(0,j),C=_(x),E;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});E=a.getStrokeDasharray(C,j,O)}else E=a.generateSimpleStrokeDasharray(j,C);return a.renderCurveStatically(l,n,i,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return l&&s&&s.length&&(!u&&h>0||!ls(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,h=i.yAxis,d=i.top,f=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=$e("recharts-line",c),w=u&&u.allowDataOverflow,x=h&&h.allowDataOverflow,S=w||x,N=Pe(v)?this.id:v,_=(n=Se(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=_.r,E=C===void 0?3:C,O=_.strokeWidth,A=O===void 0?2:O,k=l8(s)?s:{},$=k.clipDot,I=$===void 0?!0:$,T=E*2+A;return G.createElement(Re,{className:j},w||x?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(N)},G.createElement("rect",{x:w?f:f-p/2,y:x?d:d-g/2,width:w?p:p*2,height:x?g:g*2})),!I&&G.createElement("clipPath",{id:"clipPath-dots-".concat(N)},G.createElement("rect",{x:f-T/2,y:d-T/2,width:p+T,height:g+T}))):null,!y&&this.renderCurve(S,N),this.renderErrorBar(S,N),(y||s)&&this.renderDots(S,I,N),(!m||b)&&dn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(xi(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(xi(s),xi(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(G.isValidElement(n))a=G.cloneElement(n,i);else if(ke(n))a=n(i);else{var s=i.key,l=Jb(i,JJ),c=$e("recharts-line-dot",typeof n!="boolean"?n.className:"");a=G.createElement(Eu,fo({key:s},l,{className:c}))}return a}}])}(P.PureComponent);Er(xs,"displayName","Line");Er(xs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Br.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Er(xs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,h=t.layout,d=c.map(function(f,p){var g=yt(f,s);return h==="horizontal"?{x:jy({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:Pe(g)?null:n.scale(g),value:g,payload:f}:{x:Pe(g)?null:r.scale(g),y:jy({axis:n,ticks:a,bandSize:l,entry:f,index:p}),value:g,payload:f}});return Qt({points:d,layout:h},u)});function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function dQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WS(n.key),n)}}function fQ(e,t,r){return t&&tx(e.prototype,t),r&&tx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hQ(e,t,r){return t=Ac(t),pQ(e,US()?Reflect.construct(t,r||[],Ac(e).constructor):t.apply(e,r))}function pQ(e,t){if(t&&(ca(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(e)}function mQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function US(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(US=function(){return!!e})()}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ac(e)}function gQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mh(e,t)}function Mh(e,t){return Mh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mh(e,t)}function HS(e,t,r){return t=WS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WS(e){var t=vQ(e,"string");return ca(t)=="symbol"?t:t+""}function vQ(e,t){if(ca(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ca(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(this,arguments)}function yQ(e){var t=e.xAxisId,r=PS(),n=TS(),i=AS(t);return i==null?null:G.createElement(Du,zh({},i,{className:$e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zn(s,!0)}}))}var ua=function(e){function t(){return dQ(this,t),hQ(this,t,arguments)}return gQ(t,e),fQ(t,[{key:"render",value:function(){return G.createElement(yQ,this.props)}}])}(G.Component);HS(ua,"displayName","XAxis");HS(ua,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function da(e){"@babel/helpers - typeof";return da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},da(e)}function bQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KS(n.key),n)}}function xQ(e,t,r){return t&&rx(e.prototype,t),r&&rx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wQ(e,t,r){return t=kc(t),jQ(e,VS()?Reflect.construct(t,r||[],kc(e).constructor):t.apply(e,r))}function jQ(e,t){if(t&&(da(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(e)}function SQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VS=function(){return!!e})()}function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kc(e)}function NQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lh(e,t)}function Lh(e,t){return Lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lh(e,t)}function GS(e,t,r){return t=KS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KS(e){var t=OQ(e,"string");return da(t)=="symbol"?t:t+""}function OQ(e,t){if(da(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(da(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}var _Q=function(t){var r=t.yAxisId,n=PS(),i=TS(),a=kS(r);return a==null?null:G.createElement(Du,Rh({},a,{className:$e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Zn(l,!0)}}))},fa=function(e){function t(){return bQ(this,t),wQ(this,t,arguments)}return NQ(t,e),xQ(t,[{key:"render",value:function(){return G.createElement(_Q,this.props)}}])}(G.Component);GS(fa,"displayName","YAxis");GS(fa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nx(e){return PQ(e)||kQ(e)||AQ(e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(e,t){if(e){if(typeof e=="string")return Dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dh(e,t)}}function kQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PQ(e){if(Array.isArray(e))return Dh(e)}function Dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bh=function(t,r,n,i,a){var s=cr(t,im),l=cr(t,zu),c=[].concat(nx(s),nx(l)),u=cr(t,Ru),h="".concat(i,"Id"),d=i[0],f=r;if(c.length&&(f=c.reduce(function(m,v){if(v.props[h]===n&&qr(v.props,"extendDomain")&&de(v.props[d])){var b=v.props[d];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},f)),u.length){var p="".concat(d,"1"),g="".concat(d,"2");f=u.reduce(function(m,v){if(v.props[h]===n&&qr(v.props,"extendDomain")&&de(v.props[p])&&de(v.props[g])){var b=v.props[p],y=v.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,v){return de(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},YS={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,d,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new i(h,d||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)t.call(h,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=r?r+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},l.prototype.listenerCount=function(u){var h=r?r+u:u,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,h,d,f,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,y,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,d),!0;case 4:return v.fn.call(v.context,h,d,f),!0;case 5:return v.fn.call(v.context,h,d,f,p),!0;case 6:return v.fn.call(v.context,h,d,f,p,g),!0}for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];v.fn.apply(v.context,y)}else{var w=v.length,x;for(j=0;j<w;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),b){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,h);break;case 3:v[j].fn.call(v[j].context,h,d);break;case 4:v[j].fn.call(v[j].context,h,d,f);break;default:if(!y)for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];v[j].fn.apply(v[j].context,y)}}return!0},l.prototype.on=function(u,h,d){return a(this,u,h,d,!1)},l.prototype.once=function(u,h,d){return a(this,u,h,d,!0)},l.prototype.removeListener=function(u,h,d,f){var p=r?r+u:u;if(!this._events[p])return this;if(!h)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===h&&(!f||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==h||f&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(YS);var TQ=YS.exports;const CQ=ze(TQ);var Cd=new CQ,$d="recharts.syncMouseEvents";function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function $Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ix(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XS(n.key),n)}}function IQ(e,t,r){return t&&ix(e.prototype,t),r&&ix(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Id(e,t,r){return t=XS(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XS(e){var t=MQ(e,"string");return ts(t)=="symbol"?t:t+""}function MQ(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ=function(){function e(){$Q(this,e),Id(this,"activeIndex",0),Id(this,"coordinateList",[]),Id(this,"layout","horizontal")}return IQ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,h=r.offset,d=h===void 0?null:h,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+c+u,f=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function LQ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&de(n)&&de(i))return!0}return!1}function RQ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ZS(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Ze(t,r,n,i),l=Ze(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function DQ(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,d=t.angle,f=Ze(l,c,u,d),p=Ze(l,c,h,d);n=f.x,i=f.y,a=p.x,s=p.y}else return ZS(t);return[{x:n,y:i},{x:a,y:s}]}function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(r),!0).forEach(function(n){BQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BQ(e,t,r){return t=FQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=qQ(e,"string");return rs(t)=="symbol"?t:t+""}function qQ(e,t){if(rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UQ(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,d=e.layout,f=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||f!=="ScatterChart"&&i!=="axis")return null;var g,m=sc;if(f==="ScatterChart")g=s,m=HK;else if(f==="BarChart")g=RQ(d,s,c,h),m=tm;else if(d==="radial"){var v=ZS(s),b=v.cx,y=v.cy,j=v.radius,w=v.startAngle,x=v.endAngle;g={cx:b,cy:y,startAngle:w,endAngle:x,innerRadius:j,outerRadius:j},m=Xj}else g={points:DQ(d,s,c)},m=sc;var S=Gs(Gs(Gs(Gs({stroke:"#ccc",pointerEvents:"none"},c),g),Se(p,!1)),{},{payload:l,payloadIndex:u,className:$e("recharts-tooltip-cursor",p.className)});return P.isValidElement(p)?P.cloneElement(p,S):P.createElement(m,S)}var HQ=["item"],WQ=["children","className","width","height","style","compact","title","desc"];function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(this,arguments)}function ox(e,t){return KQ(e)||GQ(e,t)||QS(e,t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function KQ(e){if(Array.isArray(e))return e}function sx(e,t){if(e==null)return{};var r=YQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eN(n.key),n)}}function ZQ(e,t,r){return t&&lx(e.prototype,t),r&&lx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JQ(e,t,r){return t=Pc(t),QQ(e,JS()?Reflect.construct(t,r||[],Pc(e).constructor):t.apply(e,r))}function QQ(e,t){if(t&&(ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eee(e)}function eee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JS=function(){return!!e})()}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pc(e)}function tee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fh(e,t)}function Fh(e,t){return Fh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fh(e,t)}function pa(e){return iee(e)||nee(e)||QS(e)||ree()}function ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QS(e,t){if(e){if(typeof e=="string")return qh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qh(e,t)}}function nee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iee(e){if(Array.isArray(e))return qh(e)}function qh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(r),!0).forEach(function(n){Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ne(e,t,r){return t=eN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eN(e){var t=aee(e,"string");return ha(t)=="symbol"?t:t+""}function aee(e,t){if(ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oee={xAxis:["bottom","top"],yAxis:["left","right"]},see={width:"100%",height:"100%"},tN={x:0,y:0};function Ks(e){return e}var lee=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},cee=function(t,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return re(re(re({},i),Ze(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return re(re(re({},i),Ze(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return tN},Bu=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(pa(l),pa(u)):l},[]);return s.length>0?s:t&&t.length&&de(i)&&de(a)?t.slice(i,a+1):[]};function rN(e){return e==="number"?[0,"auto"]:void 0}var Uh=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=Bu(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var h,d=(h=u.props.data)!==null&&h!==void 0?h:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?l:d;f=$l(p,s.dataKey,i)}else f=d&&d[n]||l[n];return f?[].concat(pa(c),[Hj(u,f)]):c},[])},ux=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=lee(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=xW(s,l,u,c);if(h>=0&&u){var d=u[h]&&u[h].value,f=Uh(t,r,h,d),p=cee(n,l,h,a);return{activeTooltipIndex:h,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},uee=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,d=t.children,f=t.stackOffset,p=Dj(h,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?re(re({},m.type.defaultProps),m.props):m.props,y=b.type,j=b.dataKey,w=b.allowDataOverflow,x=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,_=b.includeHidden,C=b[s];if(g[C])return g;var E=Bu(t.data,{graphicalItems:i.filter(function(L){var z,K=s in L.props?L.props[s]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[s];return K===C}),dataStartIndex:c,dataEndIndex:u}),O=E.length,A,k,$;LQ(b.domain,w,y)&&(A=nh(b.domain,null,w),p&&(y==="number"||S!=="auto")&&($=so(E,j,"category")));var I=rN(y);if(!A||A.length===0){var T,R=(T=b.domain)!==null&&T!==void 0?T:I;if(j){if(A=so(E,j,y),y==="category"&&p){var U=Jz(A);x&&U?(k=A,A=vc(0,O)):x||(A=_y(R,A,m).reduce(function(L,z){return L.indexOf(z)>=0?L:[].concat(pa(L),[z])},[]))}else if(y==="category")x?A=A.filter(function(L){return L!==""&&!Pe(L)}):A=_y(R,A,m).reduce(function(L,z){return L.indexOf(z)>=0||z===""||Pe(z)?L:[].concat(pa(L),[z])},[]);else if(y==="number"){var D=OW(E,i.filter(function(L){var z,K,W=s in L.props?L.props[s]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[s],B="hide"in L.props?L.props.hide:(K=L.type.defaultProps)===null||K===void 0?void 0:K.hide;return W===C&&(_||!B)}),j,a,h);D&&(A=D)}p&&(y==="number"||S!=="auto")&&($=so(E,j,"category"))}else p?A=vc(0,O):l&&l[C]&&l[C].hasStack&&y==="number"?A=f==="expand"?[0,1]:Uj(l[C].stackGroups,c,u):A=Rj(E,i.filter(function(L){var z=s in L.props?L.props[s]:L.type.defaultProps[s],K="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return z===C&&(_||!K)}),y,h,!0);if(y==="number")A=Bh(d,A,C,a,N),R&&(A=nh(R,A,w));else if(y==="category"&&R){var F=R,M=A.every(function(L){return F.indexOf(L)>=0});M&&(A=F)}}return re(re({},g),{},Ne({},C,re(re({},b),{},{axisType:a,domain:A,categoricalDomain:$,duplicateDomain:k,originalDomain:(v=b.domain)!==null&&v!==void 0?v:I,isCategorical:p,layout:h})))},{})},dee=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.layout,d=t.children,f=Bu(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,g=Dj(h,a),m=-1;return n.reduce(function(v,b){var y=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,j=y[s],w=rN("number");if(!v[j]){m++;var x;return g?x=vc(0,p):l&&l[j]&&l[j].hasStack?(x=Uj(l[j].stackGroups,c,u),x=Bh(d,x,j,a)):(x=nh(w,Rj(f,n.filter(function(S){var N,_,C=s in S.props?S.props[s]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[s],E="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return C===j&&!E}),"number",h),i.defaultProps.allowDataOverflow),x=Bh(d,x,j,a)),re(re({},v),{},Ne({},j,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:lr(oee,"".concat(a,".").concat(m%2),null),domain:x,originalDomain:w,isCategorical:g,layout:h})))}return v},{})},fee=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,h=t.children,d="".concat(i,"Id"),f=cr(h,a),p={};return f&&f.length?p=uee(t,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=dee(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},hee=function(t){var r=Ni(t),n=Zn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ap(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ic(r,n)}},dx=function(t){var r=t.children,n=t.defaultShowTooltip,i=tr(r,ra),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},pee=function(t){return!t||!t.length?!1:t.some(function(r){var n=ln(r&&r.type);return n&&n.indexOf("Bar")>=0})},fx=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mee=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,h=n.height,d=n.children,f=n.margin||{},p=tr(d,ra),g=tr(d,ei),m=Object.keys(c).reduce(function(x,S){var N=c[S],_=N.orientation;return!N.mirror&&!N.hide?re(re({},x),{},Ne({},_,x[_]+N.width)):x},{left:f.left||0,right:f.right||0}),v=Object.keys(s).reduce(function(x,S){var N=s[S],_=N.orientation;return!N.mirror&&!N.hide?re(re({},x),{},Ne({},_,lr(x,"".concat(_))+N.height)):x},{top:f.top||0,bottom:f.bottom||0}),b=re(re({},v),m),y=b.bottom;p&&(b.bottom+=p.props.height||ra.defaultProps.height),g&&r&&(b=SW(b,i,n,r));var j=u-b.left-b.right,w=h-b.top-b.bottom;return re(re({brushBottom:y},b),{},{width:Math.max(j,0),height:Math.max(w,0)})},gee=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},om=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,d=t.defaultProps,f=function(b,y){var j=y.graphicalItems,w=y.stackGroups,x=y.offset,S=y.updateId,N=y.dataStartIndex,_=y.dataEndIndex,C=b.barSize,E=b.layout,O=b.barGap,A=b.barCategoryGap,k=b.maxBarSize,$=fx(E),I=$.numericAxisName,T=$.cateAxisName,R=pee(j),U=[];return j.forEach(function(D,F){var M=Bu(b.data,{graphicalItems:[D],dataStartIndex:N,dataEndIndex:_}),L=D.type.defaultProps!==void 0?re(re({},D.type.defaultProps),D.props):D.props,z=L.dataKey,K=L.maxBarSize,W=L["".concat(I,"Id")],B=L["".concat(T,"Id")],H={},q=c.reduce(function(ce,te){var ve=y["".concat(te.axisType,"Map")],je=L["".concat(te.axisType,"Id")];ve&&ve[je]||te.axisType==="zAxis"||si(!1);var we=ve[je];return re(re({},ce),{},Ne(Ne({},te.axisType,we),"".concat(te.axisType,"Ticks"),Zn(we)))},H),V=q[T],Y=q["".concat(T,"Ticks")],J=w&&w[W]&&w[W].hasStack&&IW(D,w[W].stackGroups),X=ln(D.type).indexOf("Bar")>=0,ne=ic(V,Y),ie=[],ae=R&&wW({barSize:C,stackGroups:w,totalSize:gee(q,T)});if(X){var ge,he,Q=Pe(K)?k:K,ee=(ge=(he=ic(V,Y,!0))!==null&&he!==void 0?he:Q)!==null&&ge!==void 0?ge:0;ie=jW({barGap:O,barCategoryGap:A,bandSize:ee!==ne?ee:ne,sizeList:ae[B],maxBarSize:Q}),ee!==ne&&(ie=ie.map(function(ce){return re(re({},ce),{},{position:re(re({},ce.position),{},{offset:ce.position.offset-ee/2})})}))}var se=D&&D.type&&D.type.getComposedData;se&&U.push({props:re(re({},se(re(re({},q),{},{displayedData:M,props:b,dataKey:z,item:D,bandSize:ne,barPosition:ie,offset:x,stackedData:J,layout:E,dataStartIndex:N,dataEndIndex:_}))),{},Ne(Ne(Ne({key:D.key||"item-".concat(F)},I,q[I]),T,q[T]),"animationId",S)),childIndex:d8(D,b.children),item:D})}),U},p=function(b,y){var j=b.props,w=b.dataStartIndex,x=b.dataEndIndex,S=b.updateId;if(!M0({props:j}))return null;var N=j.children,_=j.layout,C=j.stackOffset,E=j.data,O=j.reverseStackOrder,A=fx(_),k=A.numericAxisName,$=A.cateAxisName,I=cr(N,n),T=CW(E,I,"".concat(k,"Id"),"".concat($,"Id"),C,O),R=c.reduce(function(L,z){var K="".concat(z.axisType,"Map");return re(re({},L),{},Ne({},K,fee(j,re(re({},z),{},{graphicalItems:I,stackGroups:z.axisType===k&&T,dataStartIndex:w,dataEndIndex:x}))))},{}),U=mee(re(re({},R),{},{props:j,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function(L){R[L]=h(j,R[L],U,L.replace("Map",""),r)});var D=R["".concat($,"Map")],F=hee(D),M=f(j,re(re({},R),{},{dataStartIndex:w,dataEndIndex:x,updateId:S,graphicalItems:I,stackGroups:T,offset:U}));return re(re({formattedGraphicalItems:M,graphicalItems:I,offset:U,stackGroups:T},F),R)},g=function(v){function b(y){var j,w,x;return XQ(this,b),x=JQ(this,b,[y]),Ne(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(x,"accessibilityManager",new zQ),Ne(x,"handleLegendBBoxUpdate",function(S){if(S){var N=x.state,_=N.dataStartIndex,C=N.dataEndIndex,E=N.updateId;x.setState(re({legendBBox:S},p({props:x.props,dataStartIndex:_,dataEndIndex:C,updateId:E},re(re({},x.state),{},{legendBBox:S}))))}}),Ne(x,"handleReceiveSyncEvent",function(S,N,_){if(x.props.syncId===S){if(_===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(N)}}),Ne(x,"handleBrushChange",function(S){var N=S.startIndex,_=S.endIndex;if(N!==x.state.dataStartIndex||_!==x.state.dataEndIndex){var C=x.state.updateId;x.setState(function(){return re({dataStartIndex:N,dataEndIndex:_},p({props:x.props,dataStartIndex:N,dataEndIndex:_,updateId:C},x.state))}),x.triggerSyncEvent({dataStartIndex:N,dataEndIndex:_})}}),Ne(x,"handleMouseEnter",function(S){var N=x.getMouseInfo(S);if(N){var _=re(re({},N),{},{isTooltipActive:!0});x.setState(_),x.triggerSyncEvent(_);var C=x.props.onMouseEnter;ke(C)&&C(_,S)}}),Ne(x,"triggeredAfterMouseMove",function(S){var N=x.getMouseInfo(S),_=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(_),x.triggerSyncEvent(_);var C=x.props.onMouseMove;ke(C)&&C(_,S)}),Ne(x,"handleItemMouseEnter",function(S){x.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ne(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Ne(x,"handleMouseMove",function(S){S.persist(),x.throttleTriggeredAfterMouseMove(S)}),Ne(x,"handleMouseLeave",function(S){x.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};x.setState(N),x.triggerSyncEvent(N);var _=x.props.onMouseLeave;ke(_)&&_(N,S)}),Ne(x,"handleOuterEvent",function(S){var N=u8(S),_=lr(x.props,"".concat(N));if(N&&ke(_)){var C,E;/.*touch.*/i.test(N)?E=x.getMouseInfo(S.changedTouches[0]):E=x.getMouseInfo(S),_((C=E)!==null&&C!==void 0?C:{},S)}}),Ne(x,"handleClick",function(S){var N=x.getMouseInfo(S);if(N){var _=re(re({},N),{},{isTooltipActive:!0});x.setState(_),x.triggerSyncEvent(_);var C=x.props.onClick;ke(C)&&C(_,S)}}),Ne(x,"handleMouseDown",function(S){var N=x.props.onMouseDown;if(ke(N)){var _=x.getMouseInfo(S);N(_,S)}}),Ne(x,"handleMouseUp",function(S){var N=x.props.onMouseUp;if(ke(N)){var _=x.getMouseInfo(S);N(_,S)}}),Ne(x,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ne(x,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseDown(S.changedTouches[0])}),Ne(x,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseUp(S.changedTouches[0])}),Ne(x,"handleDoubleClick",function(S){var N=x.props.onDoubleClick;if(ke(N)){var _=x.getMouseInfo(S);N(_,S)}}),Ne(x,"handleContextMenu",function(S){var N=x.props.onContextMenu;if(ke(N)){var _=x.getMouseInfo(S);N(_,S)}}),Ne(x,"triggerSyncEvent",function(S){x.props.syncId!==void 0&&Cd.emit($d,x.props.syncId,S,x.eventEmitterSymbol)}),Ne(x,"applySyncEvent",function(S){var N=x.props,_=N.layout,C=N.syncMethod,E=x.state.updateId,O=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)x.setState(re({dataStartIndex:O,dataEndIndex:A},p({props:x.props,dataStartIndex:O,dataEndIndex:A,updateId:E},x.state)));else if(S.activeTooltipIndex!==void 0){var k=S.chartX,$=S.chartY,I=S.activeTooltipIndex,T=x.state,R=T.offset,U=T.tooltipTicks;if(!R)return;if(typeof C=="function")I=C(U,S);else if(C==="value"){I=-1;for(var D=0;D<U.length;D++)if(U[D].value===S.activeLabel){I=D;break}}var F=re(re({},R),{},{x:R.left,y:R.top}),M=Math.min(k,F.x+F.width),L=Math.min($,F.y+F.height),z=U[I]&&U[I].value,K=Uh(x.state,x.props.data,I),W=U[I]?{x:_==="horizontal"?U[I].coordinate:M,y:_==="horizontal"?L:U[I].coordinate}:tN;x.setState(re(re({},S),{},{activeLabel:z,activeCoordinate:W,activePayload:K,activeTooltipIndex:I}))}else x.setState(S)}),Ne(x,"renderCursor",function(S){var N,_=x.state,C=_.isTooltipActive,E=_.activeCoordinate,O=_.activePayload,A=_.offset,k=_.activeTooltipIndex,$=_.tooltipAxisBandSize,I=x.getTooltipEventType(),T=(N=S.props.active)!==null&&N!==void 0?N:C,R=x.props.layout,U=S.key||"_recharts-cursor";return G.createElement(UQ,{key:U,activeCoordinate:E,activePayload:O,activeTooltipIndex:k,chartName:r,element:S,isActive:T,layout:R,offset:A,tooltipAxisBandSize:$,tooltipEventType:I})}),Ne(x,"renderPolarAxis",function(S,N,_){var C=lr(S,"type.axisType"),E=lr(x.state,"".concat(C,"Map")),O=S.type.defaultProps,A=O!==void 0?re(re({},O),S.props):S.props,k=E&&E[A["".concat(C,"Id")]];return P.cloneElement(S,re(re({},k),{},{className:$e(C,k.className),key:S.key||"".concat(N,"-").concat(_),ticks:Zn(k,!0)}))}),Ne(x,"renderPolarGrid",function(S){var N=S.props,_=N.radialLines,C=N.polarAngles,E=N.polarRadius,O=x.state,A=O.radiusAxisMap,k=O.angleAxisMap,$=Ni(A),I=Ni(k),T=I.cx,R=I.cy,U=I.innerRadius,D=I.outerRadius;return P.cloneElement(S,{polarAngles:Array.isArray(C)?C:Zn(I,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(E)?E:Zn($,!0).map(function(F){return F.coordinate}),cx:T,cy:R,innerRadius:U,outerRadius:D,key:S.key||"polar-grid",radialLines:_})}),Ne(x,"renderLegend",function(){var S=x.state.formattedGraphicalItems,N=x.props,_=N.children,C=N.width,E=N.height,O=x.props.margin||{},A=C-(O.left||0)-(O.right||0),k=zj({children:_,formattedGraphicalItems:S,legendWidth:A,legendContent:u});if(!k)return null;var $=k.item,I=sx(k,HQ);return P.cloneElement($,re(re({},I),{},{chartWidth:C,chartHeight:E,margin:O,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Ne(x,"renderTooltip",function(){var S,N=x.props,_=N.children,C=N.accessibilityLayer,E=tr(_,pr);if(!E)return null;var O=x.state,A=O.isTooltipActive,k=O.activeCoordinate,$=O.activePayload,I=O.activeLabel,T=O.offset,R=(S=E.props.active)!==null&&S!==void 0?S:A;return P.cloneElement(E,{viewBox:re(re({},T),{},{x:T.left,y:T.top}),active:R,label:I,payload:R?$:[],coordinate:k,accessibilityLayer:C})}),Ne(x,"renderBrush",function(S){var N=x.props,_=N.margin,C=N.data,E=x.state,O=E.offset,A=E.dataStartIndex,k=E.dataEndIndex,$=E.updateId;return P.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Us(x.handleBrushChange,S.props.onChange),data:C,x:de(S.props.x)?S.props.x:O.left,y:de(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(_.bottom||0),width:de(S.props.width)?S.props.width:O.width,startIndex:A,endIndex:k,updateId:"brush-".concat($)})}),Ne(x,"renderReferenceElement",function(S,N,_){if(!S)return null;var C=x,E=C.clipPathId,O=x.state,A=O.xAxisMap,k=O.yAxisMap,$=O.offset,I=S.type.defaultProps||{},T=S.props,R=T.xAxisId,U=R===void 0?I.xAxisId:R,D=T.yAxisId,F=D===void 0?I.yAxisId:D;return P.cloneElement(S,{key:S.key||"".concat(N,"-").concat(_),xAxis:A[U],yAxis:k[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:E})}),Ne(x,"renderActivePoints",function(S){var N=S.item,_=S.activePoint,C=S.basePoint,E=S.childIndex,O=S.isRange,A=[],k=N.props.key,$=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,I=$.activeDot,T=$.dataKey,R=re(re({index:E,dataKey:T,cx:_.x,cy:_.y,r:4,fill:em(N.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Se(I,!1)),Il(I));return A.push(b.renderActiveDot(I,R,"".concat(k,"-activePoint-").concat(E))),C?A.push(b.renderActiveDot(I,re(re({},R),{},{cx:C.x,cy:C.y}),"".concat(k,"-basePoint-").concat(E))):O&&A.push(null),A}),Ne(x,"renderGraphicChild",function(S,N,_){var C=x.filterFormatItem(S,N,_);if(!C)return null;var E=x.getTooltipEventType(),O=x.state,A=O.isTooltipActive,k=O.tooltipAxis,$=O.activeTooltipIndex,I=O.activeLabel,T=x.props.children,R=tr(T,pr),U=C.props,D=U.points,F=U.isRange,M=U.baseLine,L=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,z=L.activeDot,K=L.hide,W=L.activeBar,B=L.activeShape,H=!!(!K&&A&&R&&(z||W||B)),q={};E!=="axis"&&R&&R.props.trigger==="click"?q={onClick:Us(x.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(q={onMouseLeave:Us(x.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Us(x.handleItemMouseEnter,S.props.onMouseEnter)});var V=P.cloneElement(S,re(re({},C.props),q));function Y(te){return typeof k.dataKey=="function"?k.dataKey(te.payload):null}if(H)if($>=0){var J,X;if(k.dataKey&&!k.allowDuplicatedCategory){var ne=typeof k.dataKey=="function"?Y:"payload.".concat(k.dataKey.toString());J=$l(D,ne,I),X=F&&M&&$l(M,ne,I)}else J=D==null?void 0:D[$],X=F&&M&&M[$];if(B||W){var ie=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[P.cloneElement(S,re(re(re({},C.props),q),{},{activeIndex:ie})),null,null]}if(!Pe(J))return[V].concat(pa(x.renderActivePoints({item:C,activePoint:J,basePoint:X,childIndex:$,isRange:F})))}else{var ae,ge=(ae=x.getItemByXY(x.state.activeCoordinate))!==null&&ae!==void 0?ae:{graphicalItem:V},he=ge.graphicalItem,Q=he.item,ee=Q===void 0?S:Q,se=he.childIndex,ce=re(re(re({},C.props),q),{},{activeIndex:se});return[P.cloneElement(ee,ce),null,null]}return F?[V,null,null]:[V,null]}),Ne(x,"renderCustomized",function(S,N,_){return P.cloneElement(S,re(re({key:"recharts-customized-".concat(_)},x.props),x.state))}),Ne(x,"renderMap",{CartesianGrid:{handler:Ks,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:Ks},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:Ks},YAxis:{handler:Ks},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:Sa("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=M2(x.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),x.state={},x}return tee(b,v),ZQ(b,[{key:"componentDidMount",value:function(){var j,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,w=j.children,x=j.data,S=j.height,N=j.layout,_=tr(w,pr);if(_){var C=_.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,O=Uh(this.state,x,C,E),A=this.state.tooltipTicks[C].coordinate,k=(this.state.offset.top+S)/2,$=N==="horizontal",I=$?{x:A,y:k}:{y:A,x:k},T=this.state.formattedGraphicalItems.find(function(U){var D=U.item;return D.type.name==="Scatter"});T&&(I=re(re({},I),T.props.points[C].tooltipPosition),O=T.props.points[C].tooltipPayload);var R={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:O,activeCoordinate:I};this.setState(R),this.renderCursor(_),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var x,S;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){Sf([tr(j.children,pr)],[tr(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=tr(this.props.children,pr);if(j&&typeof j.props.shared=="boolean"){var w=j.props.shared?"axis":"item";return l.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var w=this.container,x=w.getBoundingClientRect(),S=ZB(x),N={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},_=x.width/w.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,_);if(!C)return null;var E=this.state,O=E.xAxisMap,A=E.yAxisMap,k=this.getTooltipEventType(),$=ux(this.state,this.props.data,this.props.layout,C);if(k!=="axis"&&O&&A){var I=Ni(O).scale,T=Ni(A).scale,R=I&&I.invert?I.invert(N.chartX):null,U=T&&T.invert?T.invert(N.chartY):null;return re(re({},N),{},{xValue:R,yValue:U},$)}return $?re(re({},N),$):null}},{key:"inRange",value:function(j,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=j/x,_=w/x;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=N>=C.left&&N<=C.left+C.width&&_>=C.top&&_<=C.top+C.height;return E?{x:N,y:_}:null}var O=this.state,A=O.angleAxisMap,k=O.radiusAxisMap;if(A&&k){var $=Ni(A);return ky({x:N,y:_},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,w=this.getTooltipEventType(),x=tr(j,pr),S={};x&&w==="axis"&&(x.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Il(this.props,this.handleOuterEvent);return re(re({},N),S)}},{key:"addListener",value:function(){Cd.on($d,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cd.removeListener($d,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,w,x){for(var S=this.state.formattedGraphicalItems,N=0,_=S.length;N<_;N++){var C=S[N];if(C.item===j||C.props.key===j.key||w===ln(C.item.type)&&x===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,w=this.state.offset,x=w.left,S=w.top,N=w.height,_=w.width;return G.createElement("defs",null,G.createElement("clipPath",{id:j},G.createElement("rect",{x,y:S,height:N,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(w,x){var S=ox(x,2),N=S[0],_=S[1];return re(re({},w),{},Ne({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(w,x){var S=ox(x,2),N=S[0],_=S[1];return re(re({},w),{},Ne({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(j){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[j])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(j){var w=this.state,x=w.formattedGraphicalItems,S=w.activeItem;if(x&&x.length)for(var N=0,_=x.length;N<_;N++){var C=x[N],E=C.props,O=C.item,A=O.type.defaultProps!==void 0?re(re({},O.type.defaultProps),O.props):O.props,k=ln(O.type);if(k==="Bar"){var $=(E.data||[]).find(function(U){return NK(j,U)});if($)return{graphicalItem:C,payload:$}}else if(k==="RadialBar"){var I=(E.data||[]).find(function(U){return ky(j,U)});if(I)return{graphicalItem:C,payload:I}}else if(Cu(C,S)||$u(C,S)||Xo(C,S)){var T=fX({graphicalItem:C,activeTooltipItem:S,itemData:A.data}),R=A.activeIndex===void 0?T:A.activeIndex;return{graphicalItem:re(re({},C),{},{childIndex:R}),payload:Xo(C,S)?A.data[T]:C.props.data[T]}}}return null}},{key:"render",value:function(){var j=this;if(!M0(this))return null;var w=this.props,x=w.children,S=w.className,N=w.width,_=w.height,C=w.style,E=w.compact,O=w.title,A=w.desc,k=sx(w,WQ),$=Se(k,!1);if(E)return G.createElement(Rb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(Of,ki({},$,{width:N,height:_,title:O,desc:A}),this.renderClipPath(),L0(x,this.renderMap)));if(this.props.accessibilityLayer){var I,T;$.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,$.role=(T=this.props.role)!==null&&T!==void 0?T:"application",$.onKeyDown=function(U){j.accessibilityManager.keyboardEvent(U)},$.onFocus=function(){j.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return G.createElement(Rb,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",ki({className:$e("recharts-wrapper",S),style:re({position:"relative",cursor:"default",width:N,height:_},C)},R,{ref:function(D){j.container=D}}),G.createElement(Of,ki({},$,{width:N,height:_,title:O,desc:A,style:see}),this.renderClipPath(),L0(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);Ne(g,"displayName",r),Ne(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ne(g,"getDerivedStateFromProps",function(v,b){var y=v.dataKey,j=v.data,w=v.children,x=v.width,S=v.height,N=v.layout,_=v.stackOffset,C=v.margin,E=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var A=dx(v);return re(re(re({},A),{},{updateId:0},p(re(re({props:v},A),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:j,prevWidth:x,prevHeight:S,prevLayout:N,prevStackOffset:_,prevMargin:C,prevChildren:w})}if(y!==b.prevDataKey||j!==b.prevData||x!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||_!==b.prevStackOffset||!Mi(C,b.prevMargin)){var k=dx(v),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=re(re({},ux(b,j,N)),{},{updateId:b.updateId+1}),T=re(re(re({},k),$),I);return re(re(re({},T),p(re({props:v},T),b)),{},{prevDataKey:y,prevData:j,prevWidth:x,prevHeight:S,prevLayout:N,prevStackOffset:_,prevMargin:C,prevChildren:w})}if(!Sf(w,b.prevChildren)){var R,U,D,F,M=tr(w,ra),L=M&&(R=(U=M.props)===null||U===void 0?void 0:U.startIndex)!==null&&R!==void 0?R:E,z=M&&(D=(F=M.props)===null||F===void 0?void 0:F.endIndex)!==null&&D!==void 0?D:O,K=L!==E||z!==O,W=!Pe(j),B=W&&!K?b.updateId:b.updateId+1;return re(re({updateId:B},p(re(re({props:v},b),{},{updateId:B,dataStartIndex:L,dataEndIndex:z}),b)),{},{prevChildren:w,dataStartIndex:L,dataEndIndex:z})}return null}),Ne(g,"renderActiveDot",function(v,b,y){var j;return P.isValidElement(v)?j=P.cloneElement(v,b):ke(v)?j=v(b):j=G.createElement(Eu,b),G.createElement(Re,{className:"recharts-active-dot",key:y},j)});var m=P.forwardRef(function(b,y){return G.createElement(g,ki({},b,{ref:y}))});return m.displayName=g.displayName,m},vee=om({chartName:"LineChart",GraphicalChild:xs,axisComponents:[{axisType:"xAxis",AxisComp:ua},{axisType:"yAxis",AxisComp:fa}],formatAxisMap:bS}),yee=om({chartName:"BarChart",GraphicalChild:mi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ua},{axisType:"yAxis",AxisComp:fa}],formatAxisMap:bS}),bee=om({chartName:"PieChart",GraphicalChild:bn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Tu},{axisType:"radiusAxis",AxisComp:ku}],formatAxisMap:HW,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const hx=["#e63946","#457b9d","#f4a261","#2a9d8f"];function xee(){const[e,t]=P.useState([]),[r,n]=P.useState([]),[i,a]=P.useState([]);return P.useEffect(()=>{fetch("/api/metrics").then(s=>s.json()).then(s=>{t(s.visitsByCountry||[]),n(s.dailyVisits||[]),a(s.distribution||[])}).catch(s=>console.error("Error al cargar m√©tricas:",s))},[]),o.jsxs("div",{className:"text-white",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 text-white",children:"üìä M√©tricas"}),o.jsx("p",{className:"text-white/60",children:"Visualiza estad√≠sticas y datos de la plataforma"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"admin-card",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-white flex items-center gap-2",children:[o.jsx("span",{children:"üåç"})," Visitas por Pa√≠s"]}),e.length===0?o.jsx("p",{className:"text-white/40",children:"No hay datos disponibles a√∫n."}):o.jsx(gd,{width:"100%",height:250,children:o.jsxs(yee,{data:e,children:[o.jsx(ua,{dataKey:"country",stroke:"#ccc"}),o.jsx(fa,{stroke:"#ccc"}),o.jsx(pr,{}),o.jsx(mi,{dataKey:"visits",fill:"#e63946",barSize:40,radius:[5,5,0,0]})]})})]}),o.jsxs("div",{className:"admin-card",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-white flex items-center gap-2",children:[o.jsx("span",{children:"üìà"})," Visitas √öltimos 15 D√≠as"]}),r.length===0?o.jsx("p",{className:"text-white/40",children:"No hay datos disponibles a√∫n."}):o.jsx(gd,{width:"100%",height:250,children:o.jsxs(vee,{data:r,children:[o.jsx(ua,{dataKey:"date",stroke:"#ccc"}),o.jsx(fa,{stroke:"#ccc"}),o.jsx(pr,{}),o.jsx(xs,{type:"monotone",dataKey:"visits",stroke:"#2a9d8f",strokeWidth:3,dot:{r:4}})]})})]})]}),o.jsxs("div",{className:"admin-card mt-8 max-w-xl mx-auto",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-white flex items-center gap-2",children:[o.jsx("span",{children:"üì¶"})," Distribuci√≥n del Contenido"]}),i.length===0?o.jsx("p",{className:"text-white/40 text-center",children:"Sin contenido a√∫n."}):o.jsx(gd,{width:"100%",height:300,children:o.jsxs(bee,{children:[o.jsx(bn,{data:i,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",label:({cx:s,cy:l,midAngle:c,innerRadius:u,outerRadius:h,name:d})=>{const f=Math.PI/180,p=25+u+(h-u),g=s+p*Math.cos(-c*f),m=l+p*Math.sin(-c*f);return o.jsx("text",{x:g,y:m,fill:"#fff",textAnchor:g>s?"start":"end",dominantBaseline:"central",style:{fontSize:12,filter:"drop-shadow(1px 1px 2px black)"},children:d})},children:i.map((s,l)=>o.jsx(pu,{fill:hx[l%hx.length]},`cell-${l}`))}),o.jsx(pr,{}),o.jsx(ei,{verticalAlign:"bottom",height:36})]})})]})]})}function wee(){return o.jsx("div",{className:"min-h-[80vh] flex flex-col items-center justify-center",children:o.jsxs("div",{className:"admin-panel max-w-4xl w-full mx-auto text-center animate-fade-in",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full blur-2xl animate-pulse"}),o.jsx(Pm,{size:64,className:"relative text-red-500 drop-shadow-2xl"})]})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-red-500 via-red-400 to-red-500 bg-clip-text text-transparent",children:"Panel de Administraci√≥n"}),o.jsxs("p",{className:"text-lg text-white/70 mb-8 max-w-2xl mx-auto",children:["Gestiona todas las secciones de la plataforma ",o.jsx("span",{className:"font-semibold text-white",children:"Lev√°ntateCuba"}),": noticias, denuncias, usuarios y m√°s."]}),o.jsx("div",{className:"admin-divider"}),o.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8",children:[o.jsxs(xe,{to:"/admin/metrics",className:"admin-card hover:scale-[1.02] transition-transform group",children:[o.jsx(XO,{className:"text-red-500 text-3xl mb-3 mx-auto group-hover:scale-110 transition-transform"}),o.jsx("h3",{className:"font-semibold text-white mb-2",children:"M√©tricas"}),o.jsx("p",{className:"text-sm text-white/60",children:"Visualiza estad√≠sticas y gr√°ficos"})]}),o.jsxs(xe,{to:"/admin/news",className:"admin-card hover:scale-[1.02] transition-transform group",children:[o.jsx(r_,{className:"text-red-500 text-3xl mb-3 mx-auto group-hover:scale-110 transition-transform"}),o.jsx("h3",{className:"font-semibold text-white mb-2",children:"Noticias"}),o.jsx("p",{className:"text-sm text-white/60",children:"Publica y edita art√≠culos"})]}),o.jsxs(xe,{to:"/admin/reports",className:"admin-card hover:scale-[1.02] transition-transform group",children:[o.jsx(o_,{className:"text-red-500 text-3xl mb-3 mx-auto group-hover:scale-110 transition-transform"}),o.jsx("h3",{className:"font-semibold text-white mb-2",children:"Denuncias"}),o.jsx("p",{className:"text-sm text-white/60",children:"Revisa y modera reportes"})]}),o.jsxs(xe,{to:"/admin/users",className:"admin-card hover:scale-[1.02] transition-transform group",children:[o.jsx(Pm,{className:"text-red-500 text-3xl mb-3 mx-auto group-hover:scale-110 transition-transform"}),o.jsx("h3",{className:"font-semibold text-white mb-2",children:"Usuarios"}),o.jsx("p",{className:"text-sm text-white/60",children:"Administra permisos y roles"})]})]})]})})}function jee(){const[e,t]=P.useState([]),[r,n]=P.useState(null),[i,a]=P.useState("");P.useEffect(()=>{(async()=>{const h=localStorage.getItem("token");try{const d=await fetch("/api/password/all",{headers:{Authorization:`Bearer ${h}`}});if(!d.ok){(d.status===401||d.status===403)&&(localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:changed")),window.location.href="/admin/login");return}const f=await d.json();t(f)}catch(d){console.error("‚ùå Error al obtener solicitudes:",d)}})()},[]);const s=async u=>{const h=localStorage.getItem("token");try{(await fetch("/api/password/delete",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({email:u})})).ok?t(f=>f.filter(p=>p.email!==u)):console.error("‚ùå No se pudo eliminar la solicitud")}catch(d){console.error("‚ùå Error al eliminar solicitud:",d)}},l=u=>{n(u),a("")},c=async()=>{if(!i.trim())return;const u=localStorage.getItem("token");try{const h=await fetch("/api/password/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({email:r,newPassword:i})});if(h.ok)t(d=>d.filter(f=>f.email!==r)),n(null),alert(`‚úÖ Contrase√±a actualizada para ${r}`);else{const d=await h.json();alert("‚ùå "+(d.error||"Error al cambiar contrase√±a."))}}catch(h){console.error("‚ùå Error al cambiar contrase√±a:",h)}};return e.length===0?o.jsx("div",{className:"p-10",children:o.jsx("div",{className:"admin-card p-6 text-center text-white/70",children:"No hay solicitudes pendientes. üôå"})}):o.jsxs("div",{className:"text-white p-6 md:p-10",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2 text-white text-center",children:"üõ† Solicitudes de Recuperaci√≥n"}),o.jsx("ul",{className:"space-y-6 max-w-2xl mx-auto",children:e.map(u=>o.jsxs("li",{className:"admin-card p-5 flex justify-between items-center",children:[o.jsx("span",{className:"text-white text-sm",children:u.email}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>l(u.email),className:"btn-primary text-sm",children:"Cambiar contrase√±a"}),o.jsx("button",{onClick:()=>s(u.email),className:"btn-danger text-sm",children:"Eliminar"})]})]},u._id))}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:o.jsxs("div",{className:"admin-panel p-8 w-full max-w-md space-y-5",children:[o.jsx("h3",{className:"text-xl font-bold",children:"üîê Nueva contrase√±a para:"}),o.jsx("p",{className:"text-red-400",children:r}),o.jsx("input",{type:"password",value:i,onChange:u=>a(u.target.value),placeholder:"Escribe la nueva contrase√±a",className:"admin-input"}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>n(null),className:"btn-ghost",children:"Cancelar"}),o.jsx("button",{onClick:c,className:"btn-primary",children:"Confirmar cambio"})]})]})})]})}function See(){const[e,t]=P.useState({firstName:"",lastName:"",nickname:"",role:"",email:"",profileImage:""}),[r,n]=P.useState(""),[i,a]=P.useState(null),[s,l]=P.useState(null),c=localStorage.getItem("token");P.useEffect(()=>{if(!c)return;(async()=>{try{const p=await fetch("/api/users/profile",{headers:{Authorization:`Bearer ${c}`}});if(!p.ok)throw new Error("‚ùå Error al obtener perfil");const g=await p.json();t({firstName:g.firstName||"",lastName:g.lastName||"",nickname:g.nickname||"",role:g.role||"",email:g.email||"",profileImage:g.profileImage||""}),l(g.profileImage||null)}catch(p){console.error("‚ùå Error al cargar perfil",p)}})()},[c]);const u=f=>{const{name:p,value:g}=f.target;t(m=>({...m,[p]:g}))},h=f=>{const p=f.target.files[0];p&&(a(p),l(URL.createObjectURL(p)))},d=async()=>{try{const f=new FormData;Object.entries(e).forEach(([m,v])=>{v&&f.append(m,v)}),i&&f.append("profileImage",i);const p=await fetch("/api/users/profile",{method:"PUT",headers:{Authorization:`Bearer ${c}`},body:f}),g=await p.json();if(!p.ok)throw console.error("‚ùå Backend response:",g),new Error("Error al actualizar perfil");n("‚úÖ Perfil actualizado correctamente."),setTimeout(()=>n(""),3e3)}catch(f){console.error(f),n("‚ùå Hubo un error al guardar.")}};return o.jsxs("div",{className:"p-4 sm:p-6 text-white text-base min-h-screen",children:[o.jsx("h2",{className:"text-3xl font-bold mb-6 text-red-500",children:"üë§ Mi Perfil"}),o.jsxs("div",{className:"admin-card p-6 max-w-2xl mx-auto space-y-4 text-center",children:[o.jsx("div",{className:"w-28 h-28 mx-auto rounded-full border border-zinc-700 overflow-hidden bg-zinc-900",children:o.jsx("img",{src:s||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Avatar",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-gray-300",children:"‚úçÔ∏è Tus publicaciones ser√°n firmadas como:"}),o.jsx("p",{className:"text-xl font-semibold text-white",children:e.nickname?`"${e.nickname}"`:`${e.firstName} ${e.lastName}`.trim()||"Tu nombre"}),e.nickname&&o.jsx("p",{className:"text-sm text-gray-400",children:"(Sobrenombre activado)"}),o.jsxs("p",{className:"text-sm text-gray-400",children:["üìß ",e.email]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["üîê ",o.jsx("strong",{className:"text-yellow-400",children:e.role})]})]})]}),o.jsxs("div",{className:"admin-card p-6 space-y-5 max-w-2xl mx-auto mt-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 font-semibold mb-2",children:"üì∑ Foto de perfil (opcional):"}),o.jsxs("label",{className:"inline-block btn-ghost cursor-pointer",children:["üìÅ Seleccionar foto",o.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 font-semibold mb-1",children:"Nombre:"}),o.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:u,className:"admin-input",placeholder:"Tu nombre real"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 font-semibold mb-1",children:"Apellidos:"}),o.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:u,className:"admin-input",placeholder:"Tus apellidos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-300 font-semibold mb-1",children:"Sobrenombre (opcional):"}),o.jsx("input",{type:"text",name:"nickname",value:e.nickname,onChange:u,className:"admin-input",placeholder:"Alias p√∫blico"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Si lo llenas, ver√°s este nombre en lugar del real en tus publicaciones."})]}),o.jsx("button",{onClick:d,className:"btn-primary w-full",children:"Guardar Cambios"}),r&&o.jsx("p",{className:"mt-4 text-sm font-semibold text-center",children:r})]})]})}function Nee(){const[e,t]=P.useState([]),[r,n]=P.useState(!0),[i,a]=P.useState(!1),[s,l]=P.useState(new Set),[c,u]=P.useState(!1),[h,d]=P.useState({}),[f,p]=P.useState(!1),[g,m]=P.useState({minImpact:0,confianza:"",categoria:""}),v=(E,O)=>{d(A=>({...A,[E]:O}))};P.useEffect(()=>{b(),y()},[g]);const b=async()=>{try{const E=new URLSearchParams({status:"pending",...g}),k=(await(await fetch(`/api/redactor-ia/topics?${E}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json()).topics||[];return t(k),k.length}catch(E){return console.error("Error fetching topics:",E),ue.error("Error al cargar temas"),0}finally{n(!1)}},y=async()=>{try{const O=await(await fetch("/api/redactor-ia/scan/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();a(O.isScanning)}catch(E){console.error("Error checking scan status:",E)}},j=async()=>{if(i)return;a(!0),ue.loading("Iniciando escaneo...",{id:"scan"});let E=null;const O=12e4,A=2e3;let k=!1;const $=e.length;try{const I=await fetch("/api/redactor-ia/scan",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!I.ok){const D=await I.json();ue.error(D.error||"Error al iniciar escaneo",{id:"scan"});return}ue.success("Escaneo en progreso...",{id:"scan"}),k=!0;const T=Date.now();await new Promise((D,F)=>{const M=async()=>{try{if(Date.now()-T>O){clearInterval(E),F(new Error("Timeout: El escaneo tom√≥ demasiado tiempo"));return}(await(await fetch("/api/redactor-ia/scan/status",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json()).isScanning||(clearInterval(E),D())}catch(L){clearInterval(E),F(L)}};M(),E=setInterval(M,A)});const R=await b(),U=Math.max(0,R-$);U>0?ue.success(`Escaneo completado: ${U} tema${U>1?"s":""} nuevo${U>1?"s":""}`,{id:"scan",duration:4e3}):ue.success("Escaneo completado: sin temas nuevos",{id:"scan",duration:3e3}),window.dispatchEvent(new CustomEvent("redactor-ia:stats-changed"))}catch(I){console.error("Error en escaneo:",I),ue.error(I.message||"Error durante el escaneo",{id:"scan"}),k&&(await b(),window.dispatchEvent(new CustomEvent("redactor-ia:stats-changed")))}finally{E&&clearInterval(E),a(!1)}},w=async(E="factual")=>{if(s.size===0){ue.error("Selecciona al menos un tema");return}const O=s.size,A=Array.from(s),k=E==="factual"?"factual":"opini√≥n";A.forEach($=>v($,"loading")),ue.loading(`üß† Generando ${O} borrador${O>1?"es":""} en modo ${k}...`,{id:"generate"});try{const $=await fetch("/api/redactor-ia/generate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({topicIds:A,mode:E,formatStyle:f?"lectura_viva":"standard"})});if($.ok)A.forEach(I=>v(I,"done")),await new Promise(I=>setTimeout(I,800)),t(I=>I.filter(T=>!s.has(T.idTema))),l(new Set),A.forEach(I=>v(I,"idle")),window.dispatchEvent(new CustomEvent("redactor-ia:stats-changed")),ue.custom(I=>o.jsx("div",{className:`${I.visible?"animate-enter":"animate-leave"} pointer-events-auto max-w-md w-full rounded-lg border p-4 shadow-lg bg-zinc-900 text-zinc-100 ${E==="factual"?"border-sky-600/50":"border-violet-600/50"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`h-2 w-2 mt-2 rounded-full shrink-0 ${E==="factual"?"bg-sky-400":"bg-violet-400"}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-sm font-medium",children:["‚úÖ ",O," borrador",O>1?"es":""," de"," ",E==="factual"?"Factual":"Opini√≥n"," generado",O>1?"s":""," y eliminado",O>1?"s":""," de la cola."]}),o.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:'Revisa la pesta√±a "Borradores IA".'})]})]})}),{id:"generate",duration:4e3});else{const I=await $.json();A.forEach(T=>v(T,"error")),ue.error(I.error||"‚ùå Error al generar el borrador. Intenta nuevamente.",{id:"generate",duration:4e3}),setTimeout(()=>{A.forEach(T=>v(T,"idle"))},2e3)}}catch{A.forEach(I=>v(I,"error")),ue.error("‚ùå Error de conexi√≥n. Intenta nuevamente.",{id:"generate",duration:4e3}),setTimeout(()=>{A.forEach(I=>v(I,"idle"))},2e3)}},x=E=>{const O=new Set(s);O.has(E)?O.delete(E):O.add(E),l(O)},S=E=>{switch(E){case"Alta":return"bg-green-500/20 text-green-400 border-green-500/30";case"Media":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"Baja":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-zinc-500/20 text-zinc-400 border-zinc-500/30"}},N=async()=>{if(window.confirm("Se archivar√°n todos los temas visibles en la cola. Esta acci√≥n no borra permanentemente y puede revertirse desde la base de datos si es necesario. ¬øContinuar?")){u(!0),ue.loading("Archivando cola...",{id:"clear-queue"});try{const A=await(await fetch("/api/redactor-ia/topics/queue",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(!A.ok)throw new Error(A.error||"Error al limpiar la cola");ue.success(`Archivados: ${A.modified} tema(s)`,{id:"clear-queue"}),l(new Set),await b()}catch(O){ue.error(O.message,{id:"clear-queue"})}finally{u(!1)}}},_=async()=>{if(s.size===0){ue.error("No hay temas seleccionados");return}if(window.confirm(`Se archivar√°n ${s.size} tema(s) seleccionado(s). ¬øConfirmas?`)){u(!0),ue.loading("Archivando seleccionados...",{id:"delete-selected"});try{const A=await(await fetch("/api/redactor-ia/topics",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({ids:Array.from(s)})})).json();if(!A.ok)throw new Error(A.error||"Error al archivar seleccionados");ue.success(`Archivados: ${A.modified} tema(s)`,{id:"delete-selected"}),l(new Set),await b()}catch(O){ue.error(O.message,{id:"delete-selected"})}finally{u(!1)}}},C=()=>{s.size===e.length&&e.length>0?l(new Set):l(new Set(e.map(E=>E.idTema)))};return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-2 lg:gap-3",children:[o.jsx("button",{onClick:j,disabled:i||c,"aria-label":i?"Escaneando":"Escanear ahora",className:"h-11 xl:h-12 min-w-[44px] lg:col-span-2 flex items-center justify-center gap-2 px-4 lg:px-5 bg-cyan-600 hover:bg-cyan-700 disabled:bg-zinc-600 disabled:cursor-not-allowed rounded-xl font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Ix,{size:16,className:"animate-spin"}),o.jsx("span",{className:"hidden sm:inline",children:"Escaneando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Fd,{size:16}),o.jsx("span",{children:"Escanear"})]})}),o.jsxs("button",{onClick:N,disabled:c||r||e.length===0,"aria-label":"Archivar todos los temas de la cola",className:"h-11 xl:h-12 min-w-[44px] lg:col-span-2 flex items-center justify-center gap-2 px-4 lg:px-5 bg-zinc-800 hover:bg-zinc-700 disabled:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed text-zinc-100 border border-zinc-700 rounded-xl font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-zinc-600",children:[o.jsx(vr,{size:16}),o.jsx("span",{className:"hidden md:inline",children:"Limpiar"})]}),o.jsxs("button",{onClick:_,disabled:c||s.size===0,"aria-label":`Eliminar ${s.size} temas seleccionados`,className:"h-11 xl:h-12 min-w-[44px] lg:col-span-2 flex items-center justify-center gap-2 px-4 lg:px-5 bg-rose-700 hover:bg-rose-800 disabled:bg-rose-900 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-rose-600",children:[o.jsx(vr,{size:16}),o.jsxs("span",{className:"hidden sm:inline",children:["Eliminar (",s.size,")"]}),o.jsxs("span",{className:"sm:hidden",children:["(",s.size,")"]})]}),o.jsxs("button",{onClick:()=>w("factual"),disabled:s.size===0||c,"aria-label":"Generar borradores factuales",className:"h-11 xl:h-12 min-w-[44px] lg:col-span-3 xl:col-span-2 flex items-center justify-center gap-2 px-4 lg:px-5 bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-700 disabled:cursor-not-allowed rounded-xl font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx(mm,{size:16}),o.jsx("span",{children:"Factual"})]}),o.jsxs("button",{onClick:()=>w("opinion"),disabled:s.size===0||c,"aria-label":"Generar borradores de opini√≥n",className:"h-11 xl:h-12 min-w-[44px] lg:col-span-3 xl:col-span-2 flex items-center justify-center gap-2 px-4 lg:px-5 bg-purple-600 hover:bg-purple-700 disabled:bg-zinc-700 disabled:cursor-not-allowed rounded-xl font-medium transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx(mm,{size:16}),o.jsx("span",{children:"Opini√≥n"})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[o.jsx("div",{className:"relative flex items-center",children:o.jsx("input",{type:"checkbox",checked:f,onChange:E=>p(E.target.checked),className:"w-5 h-5 rounded border-2 border-zinc-600 bg-zinc-800 checked:bg-emerald-600 checked:border-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-colors cursor-pointer"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-white group-hover:text-emerald-400 transition-colors",children:"‚ú® Formato Lectura Viva"}),f&&o.jsx("span",{className:"px-2 py-0.5 bg-emerald-600/20 text-emerald-400 text-[10px] rounded font-semibold",children:"ACTIVADO"})]}),o.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Contenido moderno dividido en bloques narrativos breves con subt√≠tulos emocionales, citas destacadas y referencias visuales"})]})]})}),s.size>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:o.jsxs("p",{className:"text-sm text-zinc-400",children:[o.jsx("span",{className:"font-medium text-white",children:s.size})," tema(s) seleccionado(s)"]})})]}),o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 lg:mb-4",children:[o.jsx(Vh,{size:16,className:"text-zinc-400"}),o.jsx("span",{className:"font-medium text-sm lg:text-base text-white",children:"Filtros"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 lg:gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Impacto m√≠nimo"}),o.jsx("input",{type:"range",min:"0",max:"100",value:g.minImpact,onChange:E=>m({...g,minImpact:E.target.value}),"aria-label":"Impacto m√≠nimo",className:"w-full h-2 min-w-0"}),o.jsxs("span",{className:"text-xs text-zinc-500 break-words",children:[g.minImpact,"%"]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Confianza"}),o.jsxs("select",{value:g.confianza,onChange:E=>m({...g,confianza:E.target.value}),"aria-label":"Filtro de confianza",className:"w-full h-11 xl:h-12 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Todas"}),o.jsx("option",{value:"Alta",children:"Alta"}),o.jsx("option",{value:"Media",children:"Media"}),o.jsx("option",{value:"Baja",children:"Baja"})]})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2 lg:col-span-1 xl:col-span-2",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Categor√≠a"}),o.jsxs("select",{value:g.categoria,onChange:E=>m({...g,categoria:E.target.value}),"aria-label":"Filtro de categor√≠a",className:"w-full h-11 xl:h-12 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Todas"}),o.jsx("option",{value:"Pol√≠tica",children:"Pol√≠tica"}),o.jsx("option",{value:"Econom√≠a",children:"Econom√≠a"}),o.jsx("option",{value:"Internacional",children:"Internacional"}),o.jsx("option",{value:"Socio pol√≠tico",children:"Socio pol√≠tico"}),o.jsx("option",{value:"General",children:"General"})]})]})]})]}),r?o.jsx("div",{className:"text-center py-12 text-zinc-400",children:"Cargando temas..."}):e.length===0?o.jsxs("div",{className:"text-center py-12 bg-zinc-800/30 border border-zinc-700 rounded-xl",children:[o.jsx(Fd,{size:48,className:"mx-auto mb-4 text-zinc-600"}),o.jsx("p",{className:"text-zinc-400",children:"No hay temas pendientes"}),o.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:'Haz clic en "Escanear Ahora" para buscar nuevas noticias'})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-zinc-800/30 border border-zinc-700 rounded-lg p-3 mb-4",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:s.size===e.length&&e.length>0,onChange:C,className:"w-5 h-5 shrink-0 accent-cyan-500 cursor-pointer"}),o.jsxs("span",{className:"text-sm text-zinc-300 font-medium",children:["Seleccionar todos (",e.length," temas)"]})]})}),(()=>{const E=[...e].sort((O,A)=>new Date(A.detectedAt)-new Date(O.detectedAt));return o.jsx("div",{className:"space-y-4",children:E.map(O=>{var $;const A=h[O.idTema]||"idle",k=A==="loading";return o.jsxs("div",{className:`grid grid-cols-[auto,1fr] lg:grid-cols-[auto,1fr,auto] gap-3 lg:gap-4 items-start p-3 sm:p-4 lg:p-4 xl:p-5 rounded-2xl border bg-zinc-900/60 backdrop-blur transition-all duration-200 hover:bg-zinc-900/80 hover:border-zinc-600 ${s.has(O.idTema)?"border-cyan-500 shadow-lg shadow-cyan-500/20":"border-zinc-800"} ${k?"pointer-events-none opacity-75":""}`,children:[o.jsxs("div",{className:"sr-only","aria-live":"polite",children:[A==="loading"&&"Procesando borrador...",A==="done"&&"Borrador listo",A==="error"&&"Error al generar borrador"]}),o.jsx("input",{type:"checkbox",checked:s.has(O.idTema),onChange:()=>x(O.idTema),disabled:k,"aria-label":`Seleccionar tema: ${O.tituloSugerido}`,className:"w-5 h-5 lg:w-6 lg:h-6 mt-1 shrink-0 accent-cyan-500 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h3",{className:"text-base lg:text-lg xl:text-xl font-semibold text-white break-words line-clamp-3 lg:line-clamp-2 mb-2",children:O.tituloSugerido}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs lg:text-sm mb-3",children:[A==="loading"&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 bg-blue-600/20 text-blue-300 border border-blue-600/30 rounded-full text-xs font-medium",children:[o.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}),A==="done"&&o.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-300 border border-green-600/30 rounded-full text-xs font-medium",children:"‚úì Listo"}),A==="error"&&o.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-600/20 text-red-300 border border-red-600/30 rounded-full text-xs font-medium",children:"‚úó Error"}),o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-zinc-900 border border-zinc-700 rounded-lg shrink-0",children:[o.jsx(Jn,{size:14,className:"text-cyan-400"}),o.jsx("span",{className:"font-bold text-cyan-400",children:O.impacto})]}),o.jsx("span",{className:`px-2 py-1 border rounded-lg font-medium shrink-0 ${S(O.confianza)}`,children:O.confianza})]}),o.jsx("p",{className:"text-sm lg:text-[15px] xl:text-base text-zinc-400 line-clamp-2 mb-3 break-words",children:O.resumenBreve}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-3 text-xs lg:text-sm text-zinc-500 break-words",children:[o.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[o.jsx(ir,{size:14}),o.jsx("span",{className:"hidden sm:inline",children:new Date(O.detectedAt).toLocaleString("es-ES")}),o.jsx("span",{className:"sm:hidden",children:new Date(O.detectedAt).toLocaleDateString("es-ES")})]}),o.jsx("span",{className:"px-2 py-0.5 bg-zinc-900 rounded shrink-0",children:O.categoriaSugerida}),o.jsxs("span",{className:"shrink-0",children:[(($=O.fuentesTop)==null?void 0:$.length)||0," fuentes"]})]}),O.fuentesTop&&O.fuentesTop.length>0&&o.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded-lg p-3",children:[o.jsx("p",{className:"text-xs font-medium text-zinc-400 mb-2",children:"Fuentes principales:"}),o.jsx("div",{className:"space-y-2",children:O.fuentesTop.slice(0,3).map((I,T)=>o.jsxs("a",{href:I.url,target:"_blank",rel:"noopener noreferrer","aria-label":`Leer fuente: ${I.titulo}`,className:"flex items-start gap-2 text-sm hover:text-cyan-400 transition-colors group focus:outline-none focus:ring-2 focus:ring-cyan-500 rounded",children:[o.jsx(sn,{size:14,className:"mt-0.5 shrink-0 text-zinc-500 group-hover:text-cyan-400"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"font-medium line-clamp-2 break-words",children:I.titulo}),o.jsxs("p",{className:"text-xs text-zinc-500 break-words",children:[I.medio," ‚Ä¢ ",new Date(I.fecha).toLocaleDateString("es-ES")]})]})]},T))})]})]})]},O.idTema)})})})()]})]})}function Oee({draft:e,onClose:t,onApprove:r,onRequestChanges:n,onResetToPending:i,onPublish:a,onRefresh:s}){var we,rt,Ot,Be,Wr,He,_t,Vr,Gr;const[l,c]=P.useState(0),[u,h]=P.useState(!1),[d,f]=P.useState(""),[p,g]=P.useState(!1),[m,v]=P.useState(!1),[b,y]=P.useState(""),[j,w]=P.useState(!1),[x,S]=P.useState(!1),[N,_]=P.useState(!1),[C,E]=P.useState(""),[O,A]=P.useState(!1),[k,$]=P.useState(null),[I,T]=P.useState("idle"),R=600,U=P.useRef(null),D=P.useRef(null),F=(e==null?void 0:e.reviewStatus)==="changes_requested",M=((we=e==null?void 0:e.changesRequested)==null?void 0:we[e.changesRequested.length-1])||(e==null?void 0:e.reviewNotes)||"";P.useEffect(()=>{e!=null&&e.coverHash&&c(pe=>pe+1)},[e==null?void 0:e.coverHash]),P.useEffect(()=>{if(!(e!=null&&e._id))return;const pe=sessionStorage.getItem(`changeJob:${e._id}`);return pe&&($(pe),T("queued"),ce(pe)),()=>{D.current&&clearInterval(D.current)}},[e==null?void 0:e._id]),P.useEffect(()=>{F&&M&&(_(!0),E(M))},[F,M]);const L=pe=>{pe.target===pe.currentTarget&&t()},z=()=>{r&&r(e._id)},K=()=>{i&&i(e._id)},W=()=>{a&&a(e)},B=(e==null?void 0:e.reviewStatus)||"pending",H=B!=="approved",q=!F&&["idle","completed","failed"].includes(I),V=F&&["idle","failed","completed"].includes(I),Y=V&&C.trim().length>0,J=B!=="pending",X=B==="approved"&&!(e!=null&&e.publishedAs),ne=["queued","running"].includes(I),ie=async(pe="approved")=>{g(!0);try{const at=await(await fetch(`/api/redactor-ia/drafts/${e._id}/diff?baseline=${pe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(!at.hasBaseline){ue.error("No hay versi√≥n base para comparar"),h(!1);return}if(at.hasChanges||ue("No hay cambios entre versiones",{icon:"‚ÑπÔ∏è"}),window.Diff2Html){const oe=window.Diff2Html.getPrettyHtml(at.patch,{inputFormat:"diff",showFiles:!1,matching:"lines",outputFormat:"side-by-side"});f(oe)}else f(`<pre class="text-xs overflow-x-auto p-4 bg-zinc-900 rounded">${at.patch}</pre>`)}catch(Ee){console.error("Error cargando diff:",Ee),ue.error("Error al cargar diferencias")}finally{g(!1)}},ae=()=>{u||ie("approved"),h(pe=>!pe)},ge=async()=>{var pe;if(!((pe=e==null?void 0:e.reviewNotes)!=null&&pe.trim())){ue.error("Agrega una Nota de revisi√≥n con las instrucciones");return}v(!0),ue.loading("Generando propuesta...",{id:"gen-proposal"});try{const at=await(await fetch(`/api/redactor-ia/drafts/${e._id}/generate-changes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({baseHtml:e.contenidoHTML||e.contenidoMarkdown||"",reviewNote:e.reviewNotes})})).json();at.ok&&at.proposedHtml?(y(at.proposedHtml),ue.success("Propuesta generada",{id:"gen-proposal"})):ue.warning(at.message||"No se generaron cambios",{id:"gen-proposal"})}catch(Ee){console.error("Error generando propuesta:",Ee),ue.error("No se pudo generar la propuesta",{id:"gen-proposal"})}finally{v(!1)}},he=async()=>{if(b){if(!j){const{createTwoFilesPatch:pe}=require("diff"),Ee=(e==null?void 0:e.contenidoHTML)||(e==null?void 0:e.contenidoMarkdown)||"",at=pe("actual","propuesta",Ee,b,"","",{context:3});if(window.Diff2Html){const oe=window.Diff2Html.getPrettyHtml(at,{inputFormat:"diff",showFiles:!1,matching:"lines",outputFormat:"side-by-side"});f(oe)}else f(`<pre class="text-xs overflow-x-auto p-4 bg-zinc-900 rounded">${at}</pre>`)}w(pe=>!pe)}},Q=async()=>{if(b){S(!0),ue.loading("Aplicando cambios...",{id:"apply-proposal"});try{const Ee=await(await fetch(`/api/redactor-ia/drafts/${e._id}/apply-proposed`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({contentHtml:b})})).json();Ee.ok?(ue.success("Cambios aplicados al borrador",{id:"apply-proposal"}),y(""),w(!1),s&&await s()):ue.error(Ee.error||"No se pudieron aplicar los cambios",{id:"apply-proposal"})}catch(pe){console.error("Error aplicando propuesta:",pe),ue.error("Error de conexi√≥n",{id:"apply-proposal"})}finally{S(!1)}}},ee=()=>{y(""),w(!1),ue.info("Propuesta descartada")},se=()=>{_(pe=>!pe),N||setTimeout(()=>{var pe;return(pe=U.current)==null?void 0:pe.focus()},100)},ce=pe=>{D.current&&clearInterval(D.current),D.current=setInterval(async()=>{try{const at=await(await fetch(`/api/redactor-ia/jobs/${pe}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();at.status==="completed"?(clearInterval(D.current),sessionStorage.removeItem(`changeJob:${e._id}`),T("completed"),$(null),E(""),_(!1),ue.success("Cambios generados y aplicados"),s&&await s()):at.status==="failed"?(clearInterval(D.current),sessionStorage.removeItem(`changeJob:${e._id}`),T("failed"),$(null),ue.error("Error al generar cambios")):at.status==="running"&&T("running")}catch(Ee){console.error("Error polling job:",Ee)}},2e3)},[te,ve]=P.useState(!1),je=async()=>{if(C.trim()){T("queued"),ve(!1),ue.loading("Iniciando generaci√≥n...",{id:"gen-changes"}),console.log("[UI] generate-changes: iniciando solicitud");try{const Ee=await(await fetch(`/api/redactor-ia/drafts/${e._id}/generate-changes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({baseHtml:e.contenidoHTML||e.contenidoMarkdown||"",reviewNote:C.trim(),requestText:C.trim()})})).json();if(console.log("[UI] generate-changes: respuesta recibida",{status:Ee.status,ok:Ee.ok}),Ee.status==="nochange"){T("idle"),ve(!0),ue.warning(Ee.message||"La IA devolvi√≥ un resultado id√©ntico",{id:"gen-changes",duration:5e3}),console.log("[UI] generate-changes: status=nochange");return}Ee.jobId?(sessionStorage.setItem(`changeJob:${e._id}`,Ee.jobId),$(Ee.jobId),ue.success("Generaci√≥n en proceso (en segundo plano)",{id:"gen-changes"}),ce(Ee.jobId),console.log("[UI] generate-changes: status=queued, jobId=",Ee.jobId)):Ee.status==="completed"&&Ee.proposedHtml?(y(Ee.proposedHtml),T("completed"),ve(!1),ue.success("Cambios generados",{id:"gen-changes"}),console.log("[UI] generate-changes: status=completed")):Ee.ok&&Ee.proposedHtml?(y(Ee.proposedHtml),T("completed"),ve(!1),ue.success("Cambios generados",{id:"gen-changes"}),console.log("[UI] generate-changes: status=completed (fallback)")):(T("failed"),ue.error(Ee.error||"No se pudieron generar cambios",{id:"gen-changes"}),console.log("[UI] generate-changes: status=failed"))}catch(pe){console.error("[UI] Error generando cambios:",pe),T("failed"),ue.error("Error de conexi√≥n",{id:"gen-changes"})}}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:L,children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-700/50 rounded-lg w-full max-w-4xl max-h-[85vh] flex flex-col shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-700/50",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Vista previa del borrador"}),o.jsx("button",{onClick:t,className:"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-800 hover:bg-zinc-700 text-white/70 hover:text-white transition-all duration-200",children:o.jsx(Ut,{size:18})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("div",{className:"space-y-4",children:[((e==null?void 0:e.coverUrl)||((rt=e==null?void 0:e.generatedImages)==null?void 0:rt.principal))&&o.jsxs("div",{className:"relative",children:[e.coverUrl&&e.imageKind==="processed"?o.jsxs("picture",{className:"block w-full",children:[o.jsx("source",{srcSet:`${e.coverUrl}?v=${e.coverHash||""}`,type:"image/avif"}),o.jsx("img",{src:`${e.coverFallbackUrl||e.coverUrl}?v=${e.coverHash||""}`,alt:e.titulo||"Imagen principal",className:"w-full h-56 md:h-64 object-cover rounded-lg border border-zinc-800 shadow-lg",loading:"eager",decoding:"async"})]}):o.jsx("img",{src:`${e.coverUrl||((Ot=e.generatedImages)==null?void 0:Ot.principal)}?v=${e.coverHash||Date.now()}`,alt:e.titulo||"Imagen principal",className:"w-full h-56 md:h-64 object-cover rounded-lg border border-zinc-800 shadow-lg",loading:"eager",decoding:"async"}),(e.imageKind==="ai"||e.imageKind==="real")&&o.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-purple-600/90 backdrop-blur text-white text-xs rounded font-medium",title:((Be=e.aiMetadata)==null?void 0:Be.usedSource)===!1?"Generada con IA desde contexto (sin referencia)":"Generada con IA usando referencia de fuente",children:((Wr=e.aiMetadata)==null?void 0:Wr.usedSource)===!1?"‚ú® IA - sin ref":"‚ú® IA (DALL-E)"}),e.imageKind==="processed"&&o.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-emerald-600/90 backdrop-blur text-white text-xs rounded",title:"Imagen procesada y almacenada localmente desde fuente",children:"‚úì Procesada"}),((He=e==null?void 0:e.aiMetadata)==null?void 0:He.likenessMetadata)&&o.jsx("div",{className:`absolute bottom-2 left-2 px-2 py-1 backdrop-blur text-white text-xs rounded font-medium flex items-center gap-1 ${e.aiMetadata.likenessMetadata.likeness?"bg-amber-600/90":"bg-blue-600/90"}`,title:e.aiMetadata.likenessMetadata.likeness?`Figura real: ${e.aiMetadata.likenessMetadata.person||"personaje detectado"} (con referencia)`:e.aiMetadata.likenessMetadata.person?`Imagen contextual: ${e.aiMetadata.likenessMetadata.person} (sin referencia disponible)`:"Imagen contextual",children:e.aiMetadata.likenessMetadata.likeness?o.jsx(o.Fragment,{children:"üé≠ Figura real"}):o.jsx(o.Fragment,{children:"üèõÔ∏è Contextual"})})]},`cover-${e.coverHash||l}`),o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white leading-tight",children:(e==null?void 0:e.titulo)||"Sin t√≠tulo"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[o.jsx("span",{className:"px-2 py-1 rounded bg-blue-500/15 text-blue-300 ring-1 ring-blue-500/20 font-medium",children:(e==null?void 0:e.categoria)||"Sin categor√≠a"}),o.jsx("span",{className:`px-2 py-1 rounded font-medium ring-1 ${(e==null?void 0:e.mode)==="opinion"?"bg-purple-500/15 text-purple-300 ring-purple-500/20":"bg-emerald-500/15 text-emerald-300 ring-emerald-500/20"}`,children:(e==null?void 0:e.mode)==="opinion"?"Opini√≥n":"Factual"}),((_t=e==null?void 0:e.aiMetadata)==null?void 0:_t.categoryConfidence)!=null&&o.jsxs("span",{className:`px-2 py-1 rounded font-medium flex items-center gap-1 ${e.aiMetadata.categoryLowConfidence?"bg-orange-500/15 text-orange-300 ring-1 ring-orange-500/20":e.aiMetadata.categoryConfidence>=.7?"bg-emerald-500/15 text-emerald-400 ring-1 ring-emerald-500/20":"bg-blue-500/15 text-blue-300 ring-1 ring-blue-500/20"}`,children:[e.aiMetadata.categoryLowConfidence&&o.jsx(or,{size:12}),"Cat: ",Math.round(e.aiMetadata.categoryConfidence*100),"%"]}),((Vr=e==null?void 0:e.aiMetadata)==null?void 0:Vr.originalityScore)!==void 0&&o.jsx("span",{className:`px-2 py-1 rounded font-medium ${e.aiMetadata.contentOrigin==="ai_synthesized"?"bg-cyan-500/15 text-cyan-300 ring-1 ring-cyan-500/20":"bg-amber-500/15 text-amber-300 ring-1 ring-amber-500/20"}`,children:e.aiMetadata.contentOrigin==="ai_synthesized"?`Original ${Math.round(e.aiMetadata.originalityScore*100)}%`:`Derivado ${Math.round(e.aiMetadata.originalityScore*100)}%`}),(e==null?void 0:e.reviewStatus)&&e.reviewStatus!=="pending"&&o.jsx("span",{className:`px-2 py-1 rounded font-medium flex items-center gap-1 ${e.reviewStatus==="approved"?"bg-emerald-500/15 text-emerald-300 ring-1 ring-emerald-500/20":e.reviewStatus==="changes_requested"?"bg-amber-500/15 text-amber-300 ring-1 ring-amber-500/20":e.reviewStatus==="changes_in_progress"?"bg-sky-500/15 text-sky-300 ring-1 ring-sky-500/20":e.reviewStatus==="changes_completed"?"bg-green-500/15 text-green-300 ring-1 ring-green-500/20":"bg-red-500/15 text-red-300 ring-1 ring-red-500/20"}`,children:e.reviewStatus==="approved"?o.jsxs(o.Fragment,{children:[o.jsx(Vn,{size:12})," Aprobado"]}):e.reviewStatus==="changes_requested"?o.jsxs(o.Fragment,{children:[o.jsx(jn,{size:12})," Cambios solicitados"]}):e.reviewStatus==="changes_in_progress"?o.jsxs(o.Fragment,{children:[o.jsx(ir,{size:12})," En revisi√≥n por IA"]}):e.reviewStatus==="changes_completed"?o.jsxs(o.Fragment,{children:[o.jsx(Vn,{size:12})," Cambios aplicados"]}):o.jsxs(o.Fragment,{children:[o.jsx(or,{size:12})," Rechazado"]})})]}),((Gr=e==null?void 0:e.etiquetas)==null?void 0:Gr.length)>0&&o.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.etiquetas.map((pe,Ee)=>o.jsx("span",{className:"text-xs px-2 py-0.5 bg-zinc-800 text-zinc-400 rounded",children:pe},Ee))}),(e==null?void 0:e.bajada)&&o.jsx("p",{className:"text-zinc-300 leading-relaxed text-base border-l-2 border-cyan-500/50 pl-3 italic",children:e.bajada}),((e==null?void 0:e.lastApprovedContent)||(e==null?void 0:e.previousContent))&&o.jsx("div",{className:"flex gap-2",children:o.jsxs("button",{onClick:ae,disabled:p,className:"px-3 py-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-sm flex items-center gap-2 transition-colors disabled:opacity-50",children:[p?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):u?o.jsx(Dd,{size:16}):o.jsx(Di,{size:16}),u?"Ocultar diferencias":"Ver diferencias"]})}),u&&d&&o.jsxs("div",{className:"mt-3 rounded-lg border border-zinc-700 overflow-hidden bg-zinc-900/50",children:[o.jsx("div",{className:"px-3 py-2 bg-zinc-800/50 border-b border-zinc-700 text-xs text-zinc-400 font-medium",children:"Comparaci√≥n: Versi√≥n aprobada vs. Actual"}),o.jsx("div",{className:"prose prose-invert prose-sm max-w-none overflow-x-auto",dangerouslySetInnerHTML:{__html:d},style:{fontSize:"12px"}})]}),!u&&!j&&o.jsx("div",{className:"prose prose-invert prose-sm md:prose-base max-w-none",dangerouslySetInnerHTML:{__html:(e==null?void 0:e.contenidoHTML)||""}}),b&&!u&&!j&&o.jsxs("section",{className:"mt-4 rounded-lg border border-sky-700 bg-sky-900/30 p-4",children:[o.jsxs("div",{className:"text-sm font-semibold text-sky-300 mb-3 flex items-center gap-2",children:[o.jsx($r,{size:16}),"Versi√≥n propuesta (generada por IA)"]}),o.jsx("article",{className:"prose prose-invert prose-sm md:prose-base max-w-none",dangerouslySetInnerHTML:{__html:b}}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-sky-700/50 flex items-center gap-3",children:[o.jsx("button",{onClick:Q,disabled:x,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2 font-medium shadow-sm","aria-label":"Aplicar cambios propuestos al borrador",children:x?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Guardando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vn,{size:16}),"Guardar cambios"]})}),o.jsxs("button",{onClick:ee,disabled:x,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2","aria-label":"Descartar propuesta sin aplicar cambios",children:[o.jsx(Ut,{size:16}),"Descartar propuesta"]})]})]}),j&&b&&o.jsxs("div",{className:"mt-3 rounded-lg border border-zinc-700 overflow-hidden bg-zinc-900/50",children:[o.jsxs("div",{className:"px-3 py-2 bg-zinc-800/50 border-b border-zinc-700 text-xs text-zinc-400 font-medium flex items-center gap-2",children:[o.jsx(Pi,{size:14}),"Comparaci√≥n: Contenido actual vs. Propuesta generada"]}),o.jsx("div",{className:"prose prose-invert prose-sm max-w-none overflow-x-auto",dangerouslySetInnerHTML:{__html:d},style:{fontSize:"12px"}})]}),(e==null?void 0:e.reviewNotes)&&o.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(jn,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-amber-300 mb-1",children:"Notas de revisi√≥n:"}),o.jsx("p",{className:"text-sm text-zinc-300",children:e.reviewNotes})]})]})}),Array.isArray(e==null?void 0:e.fuentes)&&e.fuentes.length>0&&o.jsxs("div",{className:"pt-4 border-t border-zinc-800",children:[o.jsxs("h3",{className:"text-sm uppercase tracking-wider text-zinc-400 font-semibold mb-3 flex items-center gap-2",children:[o.jsx(sn,{size:14}),"Fuentes utilizadas (",e.fuentes.length,")"]}),o.jsx("ul",{className:"space-y-2",children:e.fuentes.map((pe,Ee)=>o.jsxs("li",{className:"text-sm",children:[pe!=null&&pe.url?o.jsxs("a",{href:pe.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-2 group",children:[o.jsx(sn,{size:12,className:"flex-shrink-0"}),o.jsx("span",{className:"group-hover:underline",children:(pe==null?void 0:pe.titulo)||pe.medio||pe.url})]}):o.jsx("span",{className:"text-zinc-400",children:(pe==null?void 0:pe.titulo)||pe.medio||"Fuente sin t√≠tulo"}),(pe==null?void 0:pe.medio)&&o.jsxs("span",{className:"text-xs text-zinc-500 ml-2",children:["¬∑ ",pe.medio]})]},Ee))})]}),(e==null?void 0:e.aiMetadata)&&o.jsxs("details",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-3",children:[o.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Metadata t√©cnico (debugging)"}),o.jsxs("div",{className:"mt-2 text-xs text-zinc-500 space-y-1",children:[o.jsxs("p",{children:["Modelo: ",e.aiMetadata.model]}),o.jsxs("p",{children:["Tokens: ",e.aiMetadata.tokensUsed||"N/A"]}),o.jsxs("p",{children:["Tiempo: ",e.aiMetadata.generationTime?(e.aiMetadata.generationTime/1e3).toFixed(1)+"s":"N/A"]}),o.jsxs("p",{children:["Confianza general: ",e.aiMetadata.confidence||0,"%"]}),e.aiMetadata.categoryDetail&&o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"cursor-pointer hover:text-zinc-400",children:"Detalle de clasificaci√≥n"}),o.jsx("pre",{className:"mt-1 text-[10px] overflow-x-auto",children:JSON.stringify(JSON.parse(e.aiMetadata.categoryDetail),null,2)})]})]})]}),te&&o.jsx("div",{className:"mt-4 rounded-lg border border-orange-600 bg-orange-900/30 p-4 animate-in fade-in slide-in-from-top-2 duration-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(or,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-orange-300 mb-1",children:"La IA devolvi√≥ un resultado id√©ntico al actual"}),o.jsx("p",{className:"text-xs text-orange-200/80 leading-relaxed",children:"Ajusta tu solicitud siendo m√°s espec√≠fico (indica p√°rrafos, secciones o cambios concretos) y vuelve a intentar."})]})]})}),N&&o.jsxs("section",{id:"more-request-panel",className:"mt-4 rounded-lg border border-amber-700 bg-amber-900/30 p-4 animate-in fade-in slide-in-from-top-2 duration-200","aria-label":"Nueva solicitud de cambios",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h4",{className:"text-amber-200 font-medium text-sm flex items-center gap-2",children:[o.jsx(jn,{size:16}),F?"Solicitud de cambios":"A√±adir nueva nota de revisi√≥n"]}),o.jsxs("span",{className:`text-xs font-mono ${C.length>R*.9?"text-amber-400 font-semibold":"text-amber-300/80"}`,children:[C.length,"/",R]})]}),o.jsx("textarea",{ref:U,value:C,onChange:pe=>{const Ee=pe.target.value.slice(0,R);E(Ee),te&&ve(!1)},className:"w-full min-h-[96px] rounded-md bg-zinc-900/70 border border-amber-800/60 text-amber-50 placeholder:text-amber-200/50 p-3 text-sm outline-none focus:ring-2 focus:ring-amber-600 focus:border-amber-600 transition-all resize-y",placeholder:"Describe con precisi√≥n los cambios adicionales que deseas solicitar‚Ä¶","aria-describedby":"more-help",disabled:O}),o.jsx("p",{id:"more-help",className:"mt-2 text-xs text-amber-200/80 leading-relaxed",children:"üí° S√© espec√≠fico. Evita cambios ambiguos o subjetivos; indica p√°rrafos o secciones a modificar."}),o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[V&&o.jsx("button",{onClick:je,disabled:!Y||ne,title:C.trim()?"":"Describe los cambios",className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-600/50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2 font-medium border border-amber-500/60 shadow-sm",children:ne?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Procesando‚Ä¶"]}):o.jsxs(o.Fragment,{children:[o.jsx(jn,{size:16}),"Solicitar cambios"]})}),o.jsx("button",{onClick:()=>{E(""),_(!1)},disabled:ne,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors border border-zinc-700",children:F?"Cerrar":"Cancelar"})]})]})]})}),(r||n||i||a)&&o.jsxs("div",{className:"p-4 border-t border-zinc-700/50 space-y-3",children:[(e==null?void 0:e.reviewNotes)&&o.jsxs("div",{className:"flex items-center justify-between gap-3 pb-3 border-b border-zinc-700/50",children:[o.jsx("button",{onClick:ge,disabled:m,className:"px-4 py-2 bg-amber-700 hover:bg-amber-800 disabled:bg-amber-900 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center gap-2 font-medium border border-amber-600/60 shadow-sm",children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Generando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Pi,{size:16}),"Generar cambios solicitados"]})}),b&&o.jsxs("button",{onClick:he,className:"px-3 py-2 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[j?o.jsx(Dd,{size:16}):o.jsx(Di,{size:16}),j?"Ocultar diff":"Ver diferencias"]})]}),o.jsxs("div",{className:"flex justify-between items-center gap-3",children:[o.jsxs("div",{className:"flex gap-2",children:[i&&J&&o.jsxs("button",{onClick:K,disabled:m||ne||x,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center gap-2",children:[o.jsx(ir,{size:16}),"Volver a pendiente"]}),a&&X&&o.jsxs("button",{onClick:W,disabled:m||ne||x,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[o.jsx(sn,{size:16}),"Publicar"]})]}),o.jsxs("div",{className:"flex gap-3",children:[q&&o.jsxs("button",{onClick:se,disabled:ne||x,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2","aria-expanded":N,"aria-controls":"more-request-panel",children:[o.jsx(jn,{size:16}),N?"Ocultar solicitud":"Solicitar cambios"]}),V&&!N&&o.jsxs("button",{onClick:()=>_(!0),disabled:ne||x,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-600/50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2 font-medium border border-amber-500/60",children:[o.jsx(jn,{size:16}),"Solicitar cambios"]}),ne&&o.jsxs("div",{className:"px-4 py-2 bg-sky-600/30 border border-sky-600/50 text-sky-200 rounded-lg flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-sky-300 border-t-transparent"}),I==="queued"?"En cola...":"Generando cambios..."]}),x&&o.jsxs("div",{className:"px-4 py-2 bg-emerald-600/30 border border-emerald-600/50 text-emerald-200 rounded-lg flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-emerald-300 border-t-transparent"}),"Guardando cambios..."]}),r&&H&&o.jsxs("button",{onClick:z,disabled:m||ne||x,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white rounded-lg transition-colors flex items-center gap-2",children:[o.jsx(Vn,{size:16}),"Aprobar"]}),o.jsx("button",{onClick:t,disabled:m||x,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 disabled:opacity-50 text-white rounded-lg transition-colors",children:"Cerrar"})]})]})]})]})})}function _ee({title:e="Solicitar cambios",initialNotes:t="",required:r=!0,maxLength:n=500,onSubmit:i,onClose:a,mode:s="notes"}){const[l,c]=P.useState(t),[u,h]=P.useState(!1),d=P.useRef(null);P.useEffect(()=>{d.current&&d.current.focus();const y=j=>{j.key==="Escape"&&!u&&a()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[u,a]);const f=y=>{y.target===y.currentTarget&&!u&&a()},p=y=>{(y.ctrlKey||y.metaKey)&&y.key==="Enter"&&!u&&(y.preventDefault(),g())},g=async()=>{const y=l.trim();if(!(r&&!y)){h(!0);try{if(s==="changes-list"){const j=y.split(`
`).map(w=>w.trim()).filter(w=>w.length>0);if(j.length===0&&r){h(!1);return}await i(j)}else await i(y);a()}catch(j){console.error("Error en submit:",j)}finally{h(!1)}}},m=!r||l.trim().length>0,b=n-l.length<=100;return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:f,role:"dialog","aria-modal":"true","aria-labelledby":"review-notes-title",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-700/50 rounded-xl w-full max-w-lg shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-zinc-800",children:[o.jsx("h3",{id:"review-notes-title",className:"text-lg font-semibold text-white",children:e}),o.jsx("button",{onClick:a,disabled:u,className:"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Cerrar",children:o.jsx(Ut,{size:18})})]}),o.jsxs("div",{className:"p-5 space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"review-notes",className:"block text-sm font-medium text-zinc-300 mb-2",children:[s==="changes-list"?"Lista de cambios solicitados":"Notas de revisi√≥n"," ",r&&o.jsx("span",{className:"text-amber-400",children:"*"})]}),s==="changes-list"&&o.jsx("p",{className:"text-xs text-zinc-400 mb-2",children:"Escribe un cambio por l√≠nea. Cada l√≠nea ser√° un punto en la lista."}),o.jsx("textarea",{ref:d,id:"review-notes",value:l,onChange:y=>c(y.target.value),onKeyDown:p,maxLength:n,rows:s==="changes-list"?8:6,disabled:u,placeholder:s==="changes-list"?`Ejemplo:
Corregir t√≠tulo para mayor claridad
Agregar m√°s contexto en la introducci√≥n
Verificar ortograf√≠a en p√°rrafo 3`:r?"Describe los cambios necesarios...":"Notas opcionales...",className:"w-full rounded-lg bg-zinc-900 border border-zinc-800 focus:border-amber-500 focus:ring-1 focus:ring-amber-500 text-zinc-200 placeholder-zinc-500 p-3 resize-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsxs("span",{className:`font-medium ${b?"text-amber-400":"text-zinc-400"}`,children:[l.length,"/",n," caracteres"]}),r&&!m&&o.jsxs("div",{className:"flex items-center gap-1 text-amber-400",children:[o.jsx(or,{size:14}),o.jsx("span",{children:"Las notas son obligatorias"})]})]}),o.jsxs("p",{className:"text-xs text-zinc-500",children:["Presiona ",o.jsx("kbd",{className:"px-1.5 py-0.5 bg-zinc-800 border border-zinc-700 rounded text-zinc-400",children:"Ctrl+Enter"})," para enviar"]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-zinc-800 bg-zinc-900/50",children:[o.jsx("button",{onClick:a,disabled:u,className:"px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),o.jsx("button",{onClick:g,disabled:!m||u,className:"px-4 py-2 rounded-lg bg-amber-600 hover:bg-amber-700 disabled:bg-amber-900 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium transition-colors flex items-center gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Enviando..."]}):"Enviar"})]})]})})}function Eee({draft:e,onSubmit:t,onClose:r}){var y;const[n,i]=P.useState(!0),[a,s]=P.useState(""),[l,c]=P.useState(""),[u,h]=P.useState([]),[d,f]=P.useState(!1),p=P.useRef(null),g=["General","Pol√≠tica","Econom√≠a","Internacional","Socio pol√≠tico","Tecnolog√≠a"];P.useEffect(()=>{c((e==null?void 0:e.categoria)||"General"),h((e==null?void 0:e.etiquetas)||[]);const j=w=>{w.key==="Escape"&&!d&&r()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[e,d,r]);const m=j=>{j.target===j.currentTarget&&!d&&r()},v=async()=>{if(!(!n&&!a)){f(!0);try{await t({scheduleAt:n?null:a,categoryOverride:l,tagsOverride:u.length>0?u:void 0}),r()}catch(j){console.error("Error en submit:",j)}finally{f(!1)}}},b=n||a&&new Date(a)>new Date;return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:m,role:"dialog","aria-modal":"true","aria-labelledby":"publish-modal-title",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-700/50 rounded-xl w-full max-w-2xl shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-zinc-800",children:[o.jsx("h3",{id:"publish-modal-title",className:"text-lg font-semibold text-white",children:"Publicar borrador"}),o.jsx("button",{onClick:r,disabled:d,className:"flex items-center justify-center w-8 h-8 rounded-full bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Cerrar",children:o.jsx(Ut,{size:18})})]}),o.jsxs("div",{className:"p-5 space-y-5",children:[o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Vista previa:"}),o.jsx("h4",{className:"text-base font-semibold text-white mb-2",children:e==null?void 0:e.titulo}),(e==null?void 0:e.bajada)&&o.jsx("p",{className:"text-sm text-zinc-300",children:e.bajada})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg border border-zinc-800 hover:border-zinc-700 transition-colors",children:[o.jsx("input",{type:"radio",checked:n,onChange:()=>i(!0),disabled:d,className:"w-4 h-4 accent-indigo-500"}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(ir,{size:18,className:"text-indigo-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Publicar ahora"}),o.jsx("p",{className:"text-xs text-zinc-400",children:"La noticia se publicar√° inmediatamente"})]})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 rounded-lg border border-zinc-800 hover:border-zinc-700 transition-colors",children:[o.jsx("input",{type:"radio",checked:!n,onChange:()=>i(!1),disabled:d,className:"w-4 h-4 accent-indigo-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Mx,{size:18,className:"text-indigo-400"}),o.jsx("span",{className:"text-white font-medium",children:"Programar publicaci√≥n"})]}),!n&&o.jsx("input",{ref:p,type:"datetime-local",value:a,onChange:j=>s(j.target.value),disabled:d,min:new Date().toISOString().slice(0,16),className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 disabled:opacity-50"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-zinc-300 mb-2",children:[o.jsx(TN,{size:16}),"Categor√≠a"]}),((y=e==null?void 0:e.aiMetadata)==null?void 0:y.categoryConfidence)!==void 0&&o.jsxs("p",{className:"text-xs text-zinc-400 mb-2 flex items-center gap-1.5",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 text-cyan-400",children:[o.jsx($r,{size:12}),"Sugerida por IA:"]}),o.jsx("span",{className:"text-zinc-300 font-medium",children:e.categoria}),o.jsxs("span",{className:"text-zinc-500",children:["(precisi√≥n ",Math.round((e.aiMetadata.categoryConfidence||0)*100),"%)"]})]}),o.jsx("select",{value:l,onChange:j=>c(j.target.value),disabled:d,className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 disabled:opacity-50",children:g.map(j=>o.jsx("option",{value:j,children:j},j))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-zinc-300 mb-2",children:[o.jsx(CN,{size:16}),"Etiquetas (separadas por coma)"]}),o.jsx("input",{type:"text",value:u.join(", "),onChange:j=>{const w=j.target.value.split(",").map(x=>x.trim()).filter(Boolean);h(w)},disabled:d,placeholder:"Cuba, Pol√≠tica, Internacional...",className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 disabled:opacity-50"}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map((j,w)=>o.jsx("span",{className:"px-2 py-1 bg-indigo-500/20 border border-indigo-500/30 text-indigo-300 text-xs rounded",children:j},w))})]}),!n&&!b&&o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[o.jsx(ir,{size:16,className:"text-amber-400 shrink-0"}),o.jsx("p",{className:"text-sm text-amber-300",children:"Selecciona una fecha y hora futura para programar la publicaci√≥n"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-5 border-t border-zinc-800 bg-zinc-900/50",children:[o.jsx("button",{onClick:r,disabled:d,className:"px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),o.jsx("button",{onClick:v,disabled:!b||d,className:"px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-900 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium transition-colors flex items-center gap-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Publicando..."]}):n?"Publicar ahora":"Programar publicaci√≥n"})]})]})})}function Aee(){const[e,t]=P.useState([]),[r,n]=P.useState(!0),[i,a]=P.useState(null),[s,l]=P.useState({}),[c,u]=P.useState({}),[h,d]=P.useState({}),[f,p]=P.useState(null),[g,m]=P.useState(null),[v,b]=P.useState(null),[y,j]=P.useState({status:"draft",mode:"",reviewStatus:""}),w=()=>{window.dispatchEvent(new CustomEvent("redactor-ia:stats-changed"))};P.useEffect(()=>{x()},[y]);const x=async()=>{try{const T=new URLSearchParams(y),U=await(await fetch(`/api/redactor-ia/drafts?${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();t(U.drafts||[])}catch(T){console.error("Error fetching drafts:",T),ue.error("Error al cargar borradores")}finally{n(!1)}},S=async T=>{b(null),l(R=>({...R,[T]:!0})),ue.loading("Generando con IA (con referencia)...",{id:`img-${T}`});try{const R=await fetch(`/api/redactor-ia/drafts/${T}/generate-image`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({mode:"synthesize_from_source",provider:"dall-e-3",force:!0})}),U=await R.json();console.log("[BorradoresIA] Respuesta IA del servidor:",{status:R.status,ok:R.ok,data:U}),U.success||U.ok?(ue.success("Cover generado con IA (con referencia)",{id:`img-${T}`}),t(D=>D.map(F=>{var M,L,z,K,W,B,H,q;return F._id===T?{...F,coverUrl:U.imageUrl||U.cover||((M=U.draft)==null?void 0:M.coverUrl),coverFallbackUrl:(L=U.draft)==null?void 0:L.coverFallbackUrl,coverHash:U.hash||U.coverHash||((z=U.draft)==null?void 0:z.coverHash),imageKind:U.imageKind||((K=U.draft)==null?void 0:K.imageKind)||"ai",coverImageUrl:(W=U.draft)==null?void 0:W.coverImageUrl,generatedImages:(B=U.draft)==null?void 0:B.generatedImages,aiMetadata:{...F.aiMetadata,imageProvider:U.provider||((q=(H=U.draft)==null?void 0:H.aiMetadata)==null?void 0:q.imageProvider)||"dall-e-3"}}:F})),(i==null?void 0:i._id)===T&&a(U.draft)):(console.error("[BorradoresIA] Error en respuesta IA:",U),ue.error(U.error||"No se pudo generar con IA",{id:`img-${T}`}))}catch(R){console.error("Error generando con IA:",R),ue.error("Error de conexi√≥n",{id:`img-${T}`})}finally{l(R=>({...R,[T]:!1}))}},N=async T=>{b(null),l(R=>({...R,[T]:!0})),ue.loading("Generando con IA (sin referencia)...",{id:`img-${T}`});try{const R=await fetch(`/api/redactor-ia/drafts/${T}/generate-image`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({mode:"synthesize_from_context",provider:"dall-e-3",force:!0})}),U=await R.json();console.log("[BorradoresIA] Respuesta IA (contexto) del servidor:",{status:R.status,ok:R.ok,data:U}),U.success||U.ok?(ue.success("Cover generado con IA (sin referencia)",{id:`img-${T}`}),t(D=>D.map(F=>{var M,L,z,K,W,B,H,q;return F._id===T?{...F,coverUrl:U.imageUrl||U.cover||((M=U.draft)==null?void 0:M.coverUrl),coverFallbackUrl:(L=U.draft)==null?void 0:L.coverFallbackUrl,coverHash:U.hash||U.coverHash||((z=U.draft)==null?void 0:z.coverHash),imageKind:U.imageKind||((K=U.draft)==null?void 0:K.imageKind)||"ai",coverImageUrl:(W=U.draft)==null?void 0:W.coverImageUrl,generatedImages:(B=U.draft)==null?void 0:B.generatedImages,aiMetadata:{...F.aiMetadata,imageProvider:U.provider||((q=(H=U.draft)==null?void 0:H.aiMetadata)==null?void 0:q.imageProvider)||"dall-e-3"}}:F})),(i==null?void 0:i._id)===T&&a(U.draft)):(console.error("[BorradoresIA] Error en respuesta IA (contexto):",U),ue.error(U.error||"No se pudo generar con IA",{id:`img-${T}`}))}catch(R){console.error("Error generando con IA (contexto):",R),ue.error("Error de conexi√≥n",{id:`img-${T}`})}finally{l(R=>({...R,[T]:!1}))}},_=async(T,R,U)=>{u(D=>({...D,[T]:!0})),ue.loading("Procesando revisi√≥n...",{id:`review-${T}`});try{const F=await(await fetch(`/api/redactor-ia/drafts/${T}/review`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:R,notes:U||""})})).json();F.ok?(ue.success(F.message,{id:`review-${T}`}),t(M=>M.map(L=>L._id===T?F.draft:L)),(i==null?void 0:i._id)===T&&a(F.draft),(R==="approved"||R==="changes_requested")&&w()):ue.error(F.error||"Error al procesar revisi√≥n",{id:`review-${T}`})}catch{ue.error("Error de conexi√≥n",{id:`review-${T}`})}finally{u(D=>({...D,[T]:!1}))}},C=(T,R)=>{var D;const U=e.find(F=>F._id===T);if((U==null?void 0:U.reviewStatus)===R){ue.error("El borrador ya tiene ese estado");return}R==="changes_requested"?p({draftId:T,status:R,title:"Solicitar cambios espec√≠ficos",initialNotes:((D=U==null?void 0:U.changesRequested)==null?void 0:D.join(`
`))||"",required:!0,mode:"changes-list"}):R==="approved"?p({draftId:T,status:R,title:"Aprobar borrador",initialNotes:"",required:!1,mode:"notes"}):_(T,R,"")},E=async(T,{scheduleAt:R,categoryOverride:U,tagsOverride:D})=>{d(F=>({...F,[T]:!0})),ue.loading("Publicando borrador...",{id:`publish-${T}`});try{const M=await(await fetch(`/api/redactor-ia/drafts/${T}/publish`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({scheduleAt:R,categoryOverride:U,tagsOverride:D})})).json();M.ok?(ue.success(M.message||"Noticia publicada correctamente",{id:`publish-${T}`}),t(L=>L.map(z=>z._id===T?M.draft:z)),(i==null?void 0:i._id)===T&&a(M.draft),w(),M.news&&M.alreadyPublished):ue.error(M.error||"Error al publicar",{id:`publish-${T}`})}catch{ue.error("Error de conexi√≥n",{id:`publish-${T}`})}finally{d(F=>({...F,[T]:!1}))}},O=async T=>{if(confirm("¬øRechazar este borrador?"))try{(await fetch(`/api/redactor-ia/drafts/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?((i==null?void 0:i._id)===T&&a(null),ue.success("Borrador rechazado"),x(),w()):ue.error("Error al rechazar")}catch{ue.error("Error de conexi√≥n")}},A=T=>{const R={draft:"bg-blue-500/20 text-blue-400 border-blue-500/30",reviewed:"bg-green-500/20 text-green-400 border-green-500/30",published:"bg-purple-500/20 text-purple-400 border-purple-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"},U={draft:"Borrador",reviewed:"Revisado",published:"Publicado",rejected:"Rechazado"};return o.jsx("span",{className:`px-2 py-1 border rounded text-xs font-medium ${R[T]||R.draft}`,children:U[T]||T})},k=T=>T==="opinion"?o.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded text-xs font-medium",children:"Opini√≥n"}):o.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded text-xs font-medium",children:"Factual"}),$=T=>T==="lectura_viva"?o.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded text-xs font-medium flex items-center gap-1",children:"‚ú® Lectura Viva"}):null,I=T=>{const R={pending:"bg-zinc-600/40 text-zinc-300",approved:"bg-emerald-600/25 text-emerald-200 border border-emerald-600/40",changes_requested:"bg-amber-600/25 text-amber-200 border border-amber-600/40",changes_in_progress:"bg-sky-600/25 text-sky-200 border border-sky-600/40",changes_completed:"bg-green-600/25 text-green-200 border border-green-600/40",rejected:"bg-red-600/25 text-red-200 border border-red-600/40"},U={pending:"Pendiente",approved:"Aprobado",changes_requested:"Cambios solicitados",changes_in_progress:"En revisi√≥n por IA",changes_completed:"Cambios aplicados",rejected:"Rechazado"};return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${R[T]||R.pending}`,children:U[T]||T})};return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{children:[o.jsx("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Estado"}),o.jsxs("select",{value:y.status,onChange:T=>j({...y,status:T.target.value}),"aria-label":"Filtro de estado",className:"w-full h-11 xl:h-12 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"draft",children:"Borradores"}),o.jsx("option",{value:"reviewed",children:"Revisados"}),o.jsx("option",{value:"published",children:"Publicados"}),o.jsx("option",{value:"rejected",children:"Rechazados"})]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Modo"}),o.jsxs("select",{value:y.mode,onChange:T=>j({...y,mode:T.target.value}),"aria-label":"Filtro de modo",className:"w-full h-11 xl:h-12 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"factual",children:"Factual"}),o.jsx("option",{value:"opinion",children:"Opini√≥n"})]})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2 lg:col-span-1",children:[o.jsx("label",{className:"block text-xs lg:text-sm text-zinc-400 mb-2",children:"Revisi√≥n"}),o.jsxs("select",{value:y.reviewStatus,onChange:T=>j({...y,reviewStatus:T.target.value}),"aria-label":"Filtro de revisi√≥n",className:"w-full h-11 xl:h-12 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"pending",children:"Pendientes"}),o.jsx("option",{value:"approved",children:"Aprobados"}),o.jsx("option",{value:"changes_requested",children:"Cambios solicitados"}),o.jsx("option",{value:"changes_in_progress",children:"En revisi√≥n por IA"}),o.jsx("option",{value:"changes_completed",children:"Cambios aplicados"}),o.jsx("option",{value:"rejected",children:"Rechazados"})]})]})]})}),r?o.jsx("div",{className:"text-center py-12 text-zinc-400",children:"Cargando borradores..."}):e.length===0?o.jsxs("div",{className:"text-center py-12 bg-zinc-800/30 border border-zinc-700 rounded-xl",children:[o.jsx(Pi,{size:48,className:"mx-auto mb-4 text-zinc-600"}),o.jsx("p",{className:"text-zinc-400",children:"No hay borradores"}),o.jsx("p",{className:"text-sm text-zinc-500 mt-2",children:'Ve a "Cola de Temas" y selecciona temas para generar'})]}):o.jsx("div",{className:"space-y-4",children:e.map(T=>{var R,U,D,F,M,L,z,K,W,B,H,q,V,Y,J;return o.jsxs("div",{className:`rounded-2xl border bg-zinc-900/60 backdrop-blur p-4 md:p-5 transition-all duration-200 ${(i==null?void 0:i._id)===T._id?"border-cyan-500 shadow-lg shadow-cyan-500/20 bg-zinc-900/80":"border-zinc-800 hover:bg-zinc-900/80 hover:border-zinc-600"}`,children:[o.jsxs("div",{className:"md:hidden grid grid-cols-[96px,1fr] gap-3 cursor-pointer",onClick:()=>a(T),children:[o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"w-24 h-16 rounded-md overflow-hidden border border-zinc-800/60 bg-zinc-800/60 relative",children:[T.imageKind==="processed"&&T.coverUrl&&o.jsxs("picture",{className:"absolute inset-0",children:[o.jsx("source",{srcSet:`${T.coverUrl}?v=${T.coverHash||""}`,type:"image/avif"}),o.jsx("img",{src:`${T.coverFallbackUrl||T.coverUrl}?v=${T.coverHash||""}`,alt:T.titulo,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:X=>{X.target.style.display="none"}})]},T.coverHash||T._id),T.imageKind!=="processed"&&((R=T.generatedImages)==null?void 0:R.principal)&&o.jsx("img",{src:`${T.generatedImages.principal}?v=${T.coverHash||Date.now()}`,alt:T.titulo,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:X=>{X.target.style.display="none"}},T.coverHash||T._id),T.imageKind==="placeholder"&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-zinc-800/90 backdrop-blur text-zinc-400 text-[10px] rounded",title:"Imagen temporal",children:"Placeholder"}),T.imageKind==="processed"&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-emerald-600/80 backdrop-blur text-white text-[10px] rounded",title:"Imagen procesada y almacenada localmente desde fuente",children:"‚úì Procesada"}),(T.imageKind==="ai"||T.imageKind==="real")&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-purple-600/80 backdrop-blur text-white text-[10px] rounded font-medium",title:(U=T.aiMetadata)!=null&&U.usedSource?"Generada con IA usando referencia de fuente":"Generada con IA desde contexto (sin referencia)",children:((D=T.aiMetadata)==null?void 0:D.usedSource)===!1?"‚ú® IA - sin ref":"‚ú® IA (DALL-E)"}),s[T._id]&&o.jsx("div",{className:"absolute inset-0 grid place-items-center bg-zinc-900/80 backdrop-blur-sm",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-purple-400 border-t-transparent"})}),!T.coverUrl&&!((F=T.generatedImages)!=null&&F.principal)&&!s[T._id]&&o.jsx("div",{className:"absolute inset-0 grid place-items-center bg-zinc-800/70 text-zinc-500",children:o.jsx(Pi,{size:24,className:"opacity-70"})})]})}),o.jsx("div",{}),o.jsxs("div",{className:"col-span-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-1.5",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-purple-500/20 to-cyan-500/20 text-purple-400 border border-purple-500/30 rounded text-xs font-bold shrink-0",children:[o.jsx($r,{size:12}),"IA"]}),I(T.reviewStatus||"pending"),k(T.mode),$((M=T.aiMetadata)==null?void 0:M.formatStyle),A(T.status)]}),o.jsx("h3",{className:"mt-1 font-semibold text-white text-base leading-snug w-full line-clamp-3",children:T.titulo??"Sin t√≠tulo"}),T.bajada&&o.jsx("p",{className:"text-zinc-400 text-sm mt-1 w-full line-clamp-2",children:T.bajada}),o.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-zinc-500",children:[o.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[o.jsx(ir,{size:14}),o.jsx("span",{className:"hidden sm:inline",children:new Date(T.createdAt||T.generatedAt).toLocaleString("es-ES")}),o.jsx("span",{className:"sm:hidden",children:new Date(T.createdAt||T.generatedAt).toLocaleDateString("es-ES")})]}),o.jsx("span",{className:"px-2 py-0.5 bg-zinc-900 rounded shrink-0",children:T.categoria}),((L=T.etiquetas)==null?void 0:L.length)>0&&o.jsxs("span",{className:"shrink-0",children:[T.etiquetas.length," tags"]}),T.generatedBy&&o.jsxs("span",{className:"hidden md:inline shrink-0",children:["Por: ",T.generatedBy.nombre||T.generatedBy.email]}),((z=T.aiMetadata)==null?void 0:z.originalityScore)!==void 0&&o.jsx("span",{className:`px-2 py-0.5 rounded font-medium shrink-0 ${T.aiMetadata.contentOrigin==="ai_synthesized"?"bg-cyan-500/15 text-cyan-400":"bg-amber-500/15 text-amber-400"}`,children:T.aiMetadata.contentOrigin==="ai_synthesized"?`Orig ${Math.round(T.aiMetadata.originalityScore*100)}%`:`Der ${Math.round(T.aiMetadata.originalityScore*100)}%`}),((K=T.aiMetadata)==null?void 0:K.categoryConfidence)!==void 0&&o.jsxs("span",{className:`px-2 py-0.5 rounded font-medium flex items-center gap-1 shrink-0 ${T.aiMetadata.categoryLowConfidence?"bg-orange-500/15 text-orange-400":T.aiMetadata.categoryConfidence>=.7?"bg-emerald-500/15 text-emerald-400":"bg-blue-500/15 text-blue-400"}`,title:"Confianza de clasificaci√≥n ensemble",children:[T.aiMetadata.categoryLowConfidence&&o.jsx(or,{size:12}),"Cat: ",Math.round(T.aiMetadata.categoryConfidence*100),"%"]})]})]})]}),o.jsxs("div",{className:"hidden md:grid md:grid-cols-[auto,1fr,auto] md:gap-4 items-start cursor-pointer",onClick:()=>a(T),children:[o.jsxs("div",{className:"w-40 h-24 rounded-md overflow-hidden bg-zinc-800/60 border border-zinc-800/60 relative shrink-0 z-0",children:[T.imageKind==="processed"&&T.coverUrl&&o.jsxs("picture",{className:"absolute inset-0",children:[o.jsx("source",{srcSet:`${T.coverUrl}?v=${T.coverHash||""}`,type:"image/avif"}),o.jsx("img",{src:`${T.coverFallbackUrl||T.coverUrl}?v=${T.coverHash||""}`,alt:T.titulo,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",decoding:"async",onError:X=>{X.target.style.display="none"}})]},T.coverHash||T._id),T.imageKind!=="processed"&&((W=T.generatedImages)==null?void 0:W.principal)&&o.jsx("img",{src:`${T.generatedImages.principal}?v=${T.coverHash||Date.now()}`,alt:T.titulo,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",decoding:"async",onError:X=>{X.target.style.display="none"}},T.coverHash||T._id),T.imageKind==="placeholder"&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-zinc-800/90 backdrop-blur text-zinc-400 text-[10px] rounded z-10",title:"Imagen temporal",children:"Placeholder"}),T.imageKind==="processed"&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-emerald-600/80 backdrop-blur text-white text-[10px] rounded z-10",title:"Imagen procesada y almacenada localmente desde fuente",children:"‚úì Procesada"}),(T.imageKind==="ai"||T.imageKind==="real")&&o.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-purple-600/80 backdrop-blur text-white text-[10px] rounded font-medium z-10",title:(B=T.aiMetadata)!=null&&B.usedSource?"Generada con IA usando referencia de fuente":"Generada por IA (DALL-E)",children:"‚ú® IA (DALL-E)"}),s[T._id]&&o.jsx("div",{className:"absolute inset-0 grid place-items-center bg-zinc-900/80 backdrop-blur-sm z-20",children:o.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-purple-400 border-t-transparent"})}),!T.coverUrl&&!((H=T.generatedImages)!=null&&H.principal)&&!s[T._id]&&o.jsx("div",{className:"absolute inset-0 grid place-items-center bg-zinc-800/70 text-zinc-500",children:o.jsx(Pi,{size:24,className:"opacity-70"})})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-purple-500/20 to-cyan-500/20 text-purple-400 border border-purple-500/30 rounded text-xs font-bold shrink-0",children:[o.jsx($r,{size:12}),"IA"]}),I(T.reviewStatus||"pending"),k(T.mode),$((q=T.aiMetadata)==null?void 0:q.formatStyle),A(T.status)]}),o.jsx("h3",{className:"text-lg font-semibold text-white line-clamp-2 mb-2 break-words",children:T.titulo}),T.bajada&&o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2 mb-3 break-words",children:T.bajada}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-zinc-500 break-words",children:[o.jsxs("span",{className:"flex items-center gap-1 shrink-0",children:[o.jsx(ir,{size:14}),o.jsx("span",{className:"hidden sm:inline",children:new Date(T.createdAt||T.generatedAt).toLocaleString("es-ES")}),o.jsx("span",{className:"sm:hidden",children:new Date(T.createdAt||T.generatedAt).toLocaleDateString("es-ES")})]}),o.jsx("span",{className:"px-2 py-0.5 bg-zinc-900 rounded shrink-0",children:T.categoria}),((V=T.etiquetas)==null?void 0:V.length)>0&&o.jsxs("span",{className:"shrink-0",children:[T.etiquetas.length," tags"]}),T.generatedBy&&o.jsxs("span",{className:"hidden md:inline shrink-0",children:["Por: ",T.generatedBy.nombre||T.generatedBy.email]}),((Y=T.aiMetadata)==null?void 0:Y.originalityScore)!==void 0&&o.jsx("span",{className:`px-2 py-0.5 rounded font-medium shrink-0 ${T.aiMetadata.contentOrigin==="ai_synthesized"?"bg-cyan-500/15 text-cyan-400":"bg-amber-500/15 text-amber-400"}`,children:T.aiMetadata.contentOrigin==="ai_synthesized"?`Orig ${Math.round(T.aiMetadata.originalityScore*100)}%`:`Der ${Math.round(T.aiMetadata.originalityScore*100)}%`}),((J=T.aiMetadata)==null?void 0:J.categoryConfidence)!==void 0&&o.jsxs("span",{className:`px-2 py-0.5 rounded font-medium flex items-center gap-1 shrink-0 ${T.aiMetadata.categoryLowConfidence?"bg-orange-500/15 text-orange-400":T.aiMetadata.categoryConfidence>=.7?"bg-emerald-500/15 text-emerald-400":"bg-blue-500/15 text-blue-400"}`,title:"Confianza de clasificaci√≥n ensemble",children:[T.aiMetadata.categoryLowConfidence&&o.jsx(or,{size:12}),"Cat: ",Math.round(T.aiMetadata.categoryConfidence*100),"%"]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 shrink-0 items-stretch justify-start",children:[o.jsxs("button",{onClick:X=>{X.stopPropagation(),a(T)},"aria-label":"Ver borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-cyan-600 hover:bg-cyan-700 rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx(Di,{size:16}),o.jsx("span",{children:"Ver"})]}),o.jsxs("div",{className:"relative",onClick:X=>X.stopPropagation(),children:[o.jsxs("div",{className:"flex h-10",children:[o.jsxs("button",{onClick:X=>{X.stopPropagation(),S(T._id)},disabled:s[T._id],"aria-label":"Generar imagen con IA (con referencia)",className:"h-10 flex items-center justify-center gap-1.5 px-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-l-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx($r,{size:16}),o.jsx("span",{children:s[T._id]?"Generando...":"Generar IA"})]}),o.jsx("button",{onClick:X=>{X.stopPropagation(),b(v===T._id?null:T._id)},disabled:s[T._id],"aria-label":"Opciones de generaci√≥n",className:"h-10 w-8 flex items-center justify-center bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-r-xl border-l border-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500",children:o.jsx(vo,{size:14})})]}),v===T._id&&o.jsx("div",{className:"absolute top-full right-0 mt-1 w-64 bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl z-10 overflow-hidden",children:o.jsxs("button",{onClick:X=>{X.stopPropagation(),N(T._id)},className:"w-full px-3 py-2 text-left text-sm hover:bg-zinc-700 transition-colors flex items-start gap-2",children:[o.jsx($r,{size:14,className:"mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:"Generar desde contexto"}),o.jsx("div",{className:"text-xs text-zinc-400 mt-0.5",children:"Sin referencia, solo DALL-E"})]})]})})]}),T.status==="draft"&&o.jsxs("button",{onClick:X=>{X.stopPropagation(),O(T._id)},"aria-label":"Rechazar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-red-600 hover:bg-red-700 rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx(vr,{size:16}),o.jsx("span",{children:"Rechazar"})]}),(()=>{const X=T.reviewStatus||"pending",ne=T.status==="draft"&&X!=="approved",ie=T.status==="draft"&&X!=="changes_requested",ae=T.status==="draft"&&X!=="pending",ge=X==="approved"&&!T.publishedAs;return o.jsxs(o.Fragment,{children:[ne&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"approved")},disabled:c[T._id],"aria-label":"Aprobar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[o.jsx(Vn,{size:16}),o.jsx("span",{children:"Aprobar"})]}),ge&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),m(T)},disabled:h[T._id],"aria-label":"Publicar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.jsx(sn,{size:16}),o.jsx("span",{children:h[T._id]?"Publicando...":"Publicar"})]}),ie&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"changes_requested")},disabled:c[T._id],"aria-label":"Solicitar cambios",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx(gm,{size:16}),o.jsx("span",{children:"Cambios"})]}),ae&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"pending")},disabled:c[T._id],"aria-label":"Volver a pendiente",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-zinc-700 hover:bg-zinc-600 disabled:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-zinc-600",children:[o.jsx(ir,{size:16}),o.jsx("span",{children:"Pendiente"})]})]})})()]})]}),o.jsxs("div",{className:"md:hidden flex flex-wrap gap-2 mt-3",children:[o.jsxs("button",{onClick:X=>{X.stopPropagation(),a(T)},"aria-label":"Ver borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-cyan-600 hover:bg-cyan-700 rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx(Di,{size:16}),o.jsx("span",{children:"Ver"})]}),o.jsxs("div",{className:"relative",onClick:X=>X.stopPropagation(),children:[o.jsxs("div",{className:"flex h-10",children:[o.jsxs("button",{onClick:X=>{X.stopPropagation(),S(T._id)},disabled:s[T._id],"aria-label":"Generar imagen con IA (con referencia)",className:"h-10 flex items-center justify-center gap-1.5 px-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-l-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx($r,{size:16}),o.jsx("span",{children:s[T._id]?"Generando...":"Generar IA"})]}),o.jsx("button",{onClick:X=>{X.stopPropagation(),b(v===`mobile-${T._id}`?null:`mobile-${T._id}`)},disabled:s[T._id],"aria-label":"Opciones de generaci√≥n",className:"h-10 w-8 flex items-center justify-center bg-purple-600 hover:bg-purple-700 disabled:bg-purple-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-r-xl border-l border-purple-700 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500",children:o.jsx(vo,{size:14})})]}),v===`mobile-${T._id}`&&o.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl z-10 overflow-hidden",children:o.jsxs("button",{onClick:X=>{X.stopPropagation(),N(T._id)},className:"w-full px-3 py-2 text-left text-sm hover:bg-zinc-700 transition-colors flex items-start gap-2",children:[o.jsx($r,{size:14,className:"mt-0.5 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-white",children:"Generar desde contexto"}),o.jsx("div",{className:"text-xs text-zinc-400 mt-0.5",children:"Sin referencia, solo DALL-E"})]})]})})]}),T.status==="draft"&&o.jsxs("button",{onClick:X=>{X.stopPropagation(),O(T._id)},"aria-label":"Rechazar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-red-600 hover:bg-red-700 rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx(vr,{size:16}),o.jsx("span",{children:"Rechazar"})]}),(()=>{const X=T.reviewStatus||"pending",ne=T.status==="draft"&&X!=="approved",ie=T.status==="draft"&&X!=="changes_requested",ae=T.status==="draft"&&X!=="pending",ge=X==="approved"&&!T.publishedAs;return o.jsxs(o.Fragment,{children:[ne&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"approved")},disabled:c[T._id],"aria-label":"Aprobar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[o.jsx(Vn,{size:16}),o.jsx("span",{children:"Aprobar"})]}),ge&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),m(T)},disabled:h[T._id],"aria-label":"Publicar borrador",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[o.jsx(sn,{size:16}),o.jsx("span",{children:h[T._id]?"Publicando...":"Publicar"})]}),ie&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"changes_requested")},disabled:c[T._id],"aria-label":"Solicitar cambios",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-amber-600 hover:bg-amber-700 disabled:bg-amber-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-amber-500",children:[o.jsx(gm,{size:16}),o.jsx("span",{children:"Cambios"})]}),ae&&o.jsxs("button",{onClick:he=>{he.stopPropagation(),C(T._id,"pending")},disabled:c[T._id],"aria-label":"Volver a pendiente",className:"h-10 min-w-[44px] flex items-center justify-center gap-1.5 px-4 bg-zinc-700 hover:bg-zinc-600 disabled:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-xl text-sm font-medium transition-colors shrink-0 whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-zinc-600",children:[o.jsx(ir,{size:16}),o.jsx("span",{children:"Pendiente"})]})]})})()]})]},T._id)})})]}),i&&o.jsx(Oee,{draft:i,onClose:()=>a(null),onApprove:T=>{C(T,"approved")},onRequestChanges:T=>{C(T,"changes_requested")},onResetToPending:T=>{C(T,"pending")},onPublish:T=>{m(T)},onRefresh:x}),f&&o.jsx(_ee,{title:f.title,initialNotes:f.initialNotes,required:f.required,maxLength:500,mode:f.mode||"notes",onSubmit:async T=>{if(f.mode==="changes-list"&&Array.isArray(T)){u(R=>({...R,[f.draftId]:!0})),ue.loading("Registrando cambios...",{id:`changes-${f.draftId}`});try{const U=await(await fetch(`/api/redactor-ia/drafts/${f.draftId}/request-changes`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({items:T})})).json();U.ok?(ue.success("Cambios solicitados registrados",{id:`changes-${f.draftId}`}),t(D=>D.map(F=>F._id===f.draftId?U.draft:F)),(i==null?void 0:i._id)===f.draftId&&a(U.draft),w()):ue.error(U.error||"Error al solicitar cambios",{id:`changes-${f.draftId}`})}catch{ue.error("Error de conexi√≥n",{id:`changes-${f.draftId}`})}finally{u(R=>({...R,[f.draftId]:!1}))}}else await _(f.draftId,f.status,T);p(null)},onClose:()=>p(null)}),g&&o.jsx(Eee,{draft:g,onSubmit:async T=>{await E(g._id,T),m(null)},onClose:()=>m(null)})]})}function kee(){var v,b;const[e,t]=P.useState(null),[r,n]=P.useState(null),[i,a]=P.useState(!0),[s,l]=P.useState(!1),[c,u]=P.useState(null);P.useEffect(()=>{h(),d(),f();const y=()=>{console.log("[ConfiguracionIA] Refrescando estad√≠sticas..."),d()};return window.addEventListener("redactor-ia:stats-changed",y),()=>{window.removeEventListener("redactor-ia:stats-changed",y)}},[]);const h=async()=>{try{const j=await(await fetch("/api/redactor-ia/config",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();t(j)}catch(y){console.error("Error fetching config:",y),ue.error("Error al cargar configuraci√≥n")}finally{a(!1)}},d=async()=>{try{const j=await(await fetch("/api/redactor-ia/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(j.usage)}catch(y){console.error("Error fetching stats:",y)}},f=async()=>{try{const j=await(await fetch("/api/redactor-ia/config/suggest-frequency",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();u(j)}catch(y){console.error("Error fetching suggestion:",y)}},p=async y=>{const j={...e,enforceSourceAllowlist:y};t(j);try{ue.loading("Actualizando configuraci√≥n...",{id:"allowlist"}),(await fetch("/api/redactor-ia/config",{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({enforceSourceAllowlist:y})})).ok?(ue.success(y?"Modo estricto activado":"Modo estricto desactivado",{id:"allowlist"}),h()):(ue.error("Error al actualizar",{id:"allowlist"}),t(e))}catch{ue.error("Error de conexi√≥n",{id:"allowlist"}),t(e)}},g=async()=>{l(!0),ue.loading("Guardando configuraci√≥n...",{id:"save"});try{const y=await fetch("/api/redactor-ia/config",{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({scanFrequency:e.scanFrequency,autoGenerateImages:!!e.autoGenerateImages,maxTopicsPerScan:Number(e.maxTopicsPerScan),minSourcesForHighConfidence:Number(e.minSourcesForHighConfidence),suggestOptimalFrequency:!!e.suggestOptimalFrequency,newsApiEnabled:!!e.newsApiEnabled,strictCuba:!!(e.strictCuba??!1),freshnessWindowHours:Number(e.freshnessWindowHours||48),perSourceCap:Number(e.perSourceCap||5),aiModel:e.aiModel,imageProvider:e.imageProvider,enforceSourceAllowlist:!!e.enforceSourceAllowlist})});if(y.ok)ue.success("Configuraci√≥n guardada",{id:"save"}),h(),f();else{const j=await y.json();ue.error(j.error||"Error al guardar",{id:"save"})}}catch{ue.error("Error de conexi√≥n",{id:"save"})}finally{l(!1)}},m=()=>{c!=null&&c.suggested&&t({...e,scanFrequency:c.suggested})};return i?o.jsx("div",{className:"text-center py-12 text-zinc-400",children:"Cargando configuraci√≥n..."}):e?o.jsxs("div",{className:"mx-auto lg:max-w-none",children:[(c==null?void 0:c.shouldChange)&&e.suggestOptimalFrequency&&o.jsx("div",{className:"min-w-0 rounded-2xl border border-cyan-900/30 bg-cyan-900/20 p-3 sm:p-4 lg:p-4 xl:p-5 2xl:p-6 mb-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center lg:justify-between gap-3 lg:gap-6",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[o.jsx(Jn,{className:"text-cyan-400 shrink-0 mt-1",size:20}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"text-base sm:text-lg font-semibold text-cyan-400 mb-2",children:"Sugerencia de optimizaci√≥n"}),o.jsxs("p",{className:"text-sm text-zinc-300 break-words",children:["Basado en tus estad√≠sticas, recomendamos cambiar la frecuencia de escaneo de ",o.jsx("strong",{children:c.current})," a ",o.jsx("strong",{children:c.suggested}),"."]})]})]}),o.jsx("button",{onClick:m,"aria-label":"Aplicar sugerencia de frecuencia",className:"h-11 xl:h-12 px-4 lg:px-5 shrink-0 bg-cyan-600 hover:bg-cyan-700 rounded-xl text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500",children:"Aplicar sugerencia"})]})}),o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 xl:p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 lg:mb-5",children:[o.jsx(ir,{className:"text-cyan-400",size:20}),o.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"Configuraci√≥n de Escaneo"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Frecuencia de escaneo autom√°tico"}),o.jsxs("select",{value:e.scanFrequency,onChange:y=>t({...e,scanFrequency:y.target.value}),"aria-label":"Frecuencia de escaneo",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"manual",children:"Manual (sin escaneo autom√°tico)"}),o.jsx("option",{value:"2h",children:"Cada 2 horas"}),o.jsx("option",{value:"3h",children:"Cada 3 horas (recomendado)"}),o.jsx("option",{value:"4h",children:"Cada 4 horas"}),o.jsx("option",{value:"6h",children:"Cada 6 horas"}),o.jsx("option",{value:"12h",children:"Cada 12 horas"}),o.jsx("option",{value:"24h",children:"Diariamente"})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:e.scanFrequency==="manual"?"Solo escanear√°s cuando lo ejecutes manualmente":"Mayor frecuencia = m√°s temas detectados, pero mayor costo de API"}),e.scanFrequency==="manual"&&o.jsxs("p",{className:"mt-2 text-sm text-zinc-400 break-words",children:["El escaneo autom√°tico est√° desactivado. Usa el bot√≥n ",o.jsx("strong",{children:"Escanear"})," en ",o.jsx("em",{children:"Cola de Temas"}),"."]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"M√°ximo de temas por escaneo"}),o.jsx("input",{type:"number",min:"1",max:"20",value:e.maxTopicsPerScan,onChange:y=>t({...e,maxTopicsPerScan:Number(y.target.value)||8}),"aria-label":"M√°ximo de temas por escaneo",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:"Temas m√°s relevantes por escaneo (1-20)"})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Fuentes m√≠nimas para confianza alta"}),o.jsx("input",{type:"number",min:"1",max:"10",value:e.minSourcesForHighConfidence,onChange:y=>t({...e,minSourcesForHighConfidence:Number(y.target.value)||3}),"aria-label":"Fuentes m√≠nimas",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:'Fuentes para marcar "Alta confianza"'})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2 flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",id:"newsApiEnabled",checked:e.newsApiEnabled,onChange:y=>t({...e,newsApiEnabled:y.target.checked}),className:"w-5 h-5 shrink-0 accent-cyan-500 cursor-pointer focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("label",{htmlFor:"newsApiEnabled",className:"text-xs sm:text-sm text-zinc-300 cursor-pointer break-words",children:"Habilitar NewsAPI para escaneo de fuentes internacionales"})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",id:"strictCuba",checked:e.strictCuba??!1,onChange:y=>t({...e,strictCuba:y.target.checked}),className:"w-5 h-5 shrink-0 accent-amber-500 cursor-pointer focus:outline-none focus:ring-2 focus:ring-amber-500"}),o.jsx("label",{htmlFor:"strictCuba",className:"text-xs sm:text-sm text-zinc-300 cursor-pointer break-words font-medium",children:"Modo Cuba estricto (solo noticias relacionadas)"})]}),o.jsx("p",{className:"text-[10px] sm:text-xs text-zinc-500 leading-relaxed ml-8",children:"Si est√° activo, el esc√°ner mostrar√° exclusivamente noticias con menci√≥n expl√≠cita a Cuba o entidades relacionadas. Si no se encuentran resultados, revisa el allowlist, los idiomas y el umbral de confianza."})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2 flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",id:"suggestOptimal",checked:e.suggestOptimalFrequency,onChange:y=>t({...e,suggestOptimalFrequency:y.target.checked}),className:"w-5 h-5 shrink-0 accent-cyan-500 cursor-pointer focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("label",{htmlFor:"suggestOptimal",className:"text-xs sm:text-sm text-zinc-300 cursor-pointer break-words",children:"Mostrar sugerencias autom√°ticas de frecuencia √≥ptima"})]})]})]}),o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 xl:p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 lg:mb-5",children:[o.jsx(ir,{className:"text-emerald-400",size:20}),o.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"Priorizaci√≥n de Frescura"})]}),o.jsx("p",{className:"text-xs sm:text-sm text-zinc-400 mb-4 leading-relaxed",children:"Controla c√≥mo se priorizan las noticias m√°s recientes. Una ventana menor muestra solo lo m√°s nuevo; el cap por fuente evita que medios prol√≠ficos dominen la cola."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Ventana de tiempo"}),o.jsxs("select",{value:e.freshnessWindowHours||48,onChange:y=>t({...e,freshnessWindowHours:Number(y.target.value)}),"aria-label":"Ventana de tiempo para frescura",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[o.jsx("option",{value:"12",children:"12 horas (ultra-reciente)"}),o.jsx("option",{value:"24",children:"24 horas (1 d√≠a)"}),o.jsx("option",{value:"48",children:"48 horas (2 d√≠as) - Recomendado"}),o.jsx("option",{value:"72",children:"72 horas (3 d√≠as)"}),o.jsx("option",{value:"168",children:"7 d√≠as (semana completa)"})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:"Solo art√≠culos publicados en este per√≠odo"})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"M√°ximo por fuente"}),o.jsx("input",{type:"number",min:"1",max:"10",value:e.perSourceCap||5,onChange:y=>t({...e,perSourceCap:Number(y.target.value)||5}),"aria-label":"M√°ximo de art√≠culos por fuente",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:"Art√≠culos m√°s recientes por dominio (1-10)"})]}),o.jsx("div",{className:"min-w-0 sm:col-span-2 bg-emerald-900/10 border border-emerald-900/30 rounded-lg p-3",children:o.jsxs("p",{className:"text-[10px] sm:text-xs text-emerald-300/90 leading-relaxed",children:[o.jsx("strong",{children:"Efecto:"})," Las noticias se ordenan por score de frescura √ó impacto. Art√≠culos recientes obtienen mayor puntuaci√≥n, decayendo exponencialmente con el tiempo. Esto garantiza que lo m√°s nuevo aparezca primero en la cola."]})})]})]}),o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-3 sm:p-4 lg:p-5 xl:p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 lg:mb-5",children:[o.jsx(Wh,{className:"text-purple-400",size:20}),o.jsx("h3",{className:"text-base sm:text-lg font-bold",children:"Configuraci√≥n de Generaci√≥n"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"checkbox",id:"autoImages",checked:e.autoGenerateImages,onChange:y=>t({...e,autoGenerateImages:y.target.checked}),className:"w-5 h-5 shrink-0 accent-purple-500 cursor-pointer focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"autoImages",className:"text-xs sm:text-sm text-zinc-300 cursor-pointer break-words",children:"Generar im√°genes autom√°ticamente al crear borradores"})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2 ml-8 break-words",children:"Si est√° desactivado, deber√°s generar im√°genes manualmente para cada borrador"})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Modelo de texto (LLM)"}),o.jsxs("select",{value:e.aiModel,onChange:y=>t({...e,aiModel:y.target.value}),"aria-label":"Modelo de IA",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"claude-sonnet-4.5-thinking",children:"Claude Sonnet 4.5 Thinking (recomendado)"}),o.jsx("option",{value:"claude-opus",children:"Claude Opus (premium)"}),o.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),o.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o-mini"})]})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Proveedor de im√°genes"}),o.jsxs("select",{value:e.imageProvider,onChange:y=>t({...e,imageProvider:y.target.value}),"aria-label":"Proveedor de im√°genes",className:"w-full h-11 min-w-0 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"dall-e-3",children:"DALL-E 3 (OpenAI)"}),o.jsx("option",{value:"dall-e-2",children:"DALL-E 2 (OpenAI)"}),o.jsx("option",{value:"stable-diffusion",children:"Stable Diffusion"}),o.jsx("option",{value:"midjourney",children:"Midjourney"})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:"‚ö†Ô∏è Genera im√°genes con IA; puede tener costos por uso"})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsx("label",{className:"block text-xs text-zinc-400 mb-2",children:"Fuentes confiables (allowlist)"}),o.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl p-3 max-h-40 overflow-y-auto min-w-0",children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(e.trustedSources||[]).map((y,j)=>o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-cyan-600/20 text-cyan-400 text-xs rounded-full border border-cyan-600/30 shrink-0",children:[o.jsx("span",{className:"break-all",children:y}),o.jsx("button",{onClick:()=>{const w=e.trustedSources.filter((x,S)=>S!==j);t({...e,trustedSources:w})},"aria-label":`Eliminar ${y}`,className:"hover:text-red-400 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 rounded",children:"√ó"})]},j))}),o.jsx("input",{type:"text",placeholder:"Agregar dominio (ej: bbc.com)",onKeyPress:y=>{var j;if(y.key==="Enter"&&y.target.value.trim()){const w=y.target.value.trim();(j=e.trustedSources)!=null&&j.includes(w)||t({...e,trustedSources:[...e.trustedSources||[],w]}),y.target.value=""}},"aria-label":"Agregar fuente confiable",className:"w-full h-10 min-w-0 px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-xl text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1 break-words",children:"Solo art√≠culos de estos dominios ser√°n considerados (presiona Enter para agregar)"})]}),o.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.enforceSourceAllowlist||!1,onChange:y=>p(y.target.checked),className:"w-5 h-5 shrink-0 rounded border-zinc-700 bg-zinc-900 text-cyan-600 cursor-pointer focus:ring-2 focus:ring-cyan-600 focus:ring-offset-0"}),o.jsx("span",{className:"text-xs sm:text-sm text-zinc-300 break-words",children:"Aplicar allowlist estrictamente (solo fuentes confiables)"})]}),e.enforceSourceAllowlist&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 p-2 sm:p-3 bg-cyan-500/10 border border-cyan-500/30 rounded-xl min-w-0",children:[o.jsx(Vn,{size:16,className:"text-cyan-400 shrink-0"}),o.jsx("p",{className:"text-xs text-cyan-300 break-words",children:"üîí Modo estricto activo ‚Äî solo se escanear√°n fuentes verificadas"})]})]})]})]}),r&&o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-xl p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Jn,{className:"text-green-400",size:20}),o.jsx("h3",{className:"text-lg font-bold",children:"Estad√≠sticas de Uso"}),o.jsx("span",{className:"text-xs text-zinc-500 ml-auto",children:(v=r.range)!=null&&v.days?`√öltimos ${r.range.days} d√≠as`:"Mes actual"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Temas por escaneo"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:(r.scans||0)===0?"‚Äî":(r.avgTopicsPerScan||0).toFixed(1)}),o.jsxs("p",{className:"text-xs text-zinc-600 mt-1",children:[r.scans||0," escaneos"]})]}),o.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Borradores aprobados"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.approvedDrafts||0}),o.jsxs("p",{className:"text-xs text-zinc-600 mt-1",children:[((b=r.approvalRate)==null?void 0:b.toFixed(0))||0,"% de ",r.totalDrafts||0]})]}),o.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Costo promedio"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:r.avgCost>0?`$${r.avgCost.toFixed(4)}`:"‚Äî"}),o.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:r.totalCost>0?`Total: $${r.totalCost.toFixed(2)}`:"Sin datos"})]})]}),r.costsByType&&Object.keys(r.costsByType).length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-700",children:[o.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:"Desglose de costos:"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(r.costsByType).map(([y,j])=>o.jsxs("div",{className:"text-xs",children:[o.jsxs("span",{className:"text-zinc-400 capitalize",children:[y,":"]}),o.jsxs("span",{className:"text-white ml-1 font-medium",children:["$",j.total.toFixed(2)]}),o.jsxs("span",{className:"text-zinc-600 ml-1",children:["(",j.count,")"]})]},y))})]})]}),o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(or,{className:"text-blue-400 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-blue-400 mb-2",children:"Informaci√≥n importante"}),o.jsxs("ul",{className:"text-sm text-zinc-300 space-y-1",children:[o.jsx("li",{children:"‚Ä¢ El escaneo solo detecta temas, NO genera texto autom√°ticamente"}),o.jsx("li",{children:"‚Ä¢ Debes seleccionar manualmente los temas que deseas convertir en borradores"}),o.jsx("li",{children:"‚Ä¢ Los borradores generados NO se publican autom√°ticamente"}),o.jsx("li",{children:"‚Ä¢ Revisa y edita cada borrador antes de publicarlo"}),o.jsx("li",{children:"‚Ä¢ Las im√°genes generadas pueden requerir revisi√≥n editorial"})]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:g,disabled:s,"aria-label":"Guardar configuraci√≥n",className:"h-11 xl:h-12 min-w-[44px] flex items-center justify-center gap-2 px-6 lg:px-8 bg-cyan-600 hover:bg-cyan-700 disabled:bg-zinc-600 disabled:cursor-not-allowed rounded-xl font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500",children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"hidden sm:inline",children:"Guardando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx($N,{size:18}),o.jsx("span",{className:"hidden sm:inline",children:"Guardar Configuraci√≥n"}),o.jsx("span",{className:"sm:hidden",children:"Guardar"})]})})})]}):o.jsx("div",{className:"text-center py-12 text-red-400",children:"Error al cargar configuraci√≥n"})}function Pee(){const[e,t]=P.useState("cola"),r=[{id:"cola",label:"Cola de Temas",icon:IN},{id:"borradores",label:"Borradores IA",icon:$r},{id:"config",label:"Configuraci√≥n",icon:MN}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:[o.jsxs("div",{className:"sticky top-[0px] z-40 bg-zinc-900/85 backdrop-blur supports-[backdrop-filter]:bg-zinc-900/60 border-b border-zinc-800",children:[o.jsxs("div",{className:"max-w-screen-2xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 2xl:px-10 py-4 sm:py-6 lg:py-4",children:[o.jsx("div",{className:"flex items-center justify-between gap-2 flex-wrap mb-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($r,{className:"text-cyan-400",size:28}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Redactor IA"})]})}),o.jsx("p",{className:"text-sm sm:text-base text-zinc-400",children:"Automatizador de Noticias ‚Äî Escaneo inteligente y generaci√≥n asistida"})]}),o.jsx("div",{className:"max-w-screen-2xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 2xl:px-10 py-3",children:o.jsx("div",{className:"relative flex items-center gap-2 sm:gap-3 overflow-hidden overflow-x-auto lg:overflow-visible no-scrollbar px-1",role:"tablist","aria-label":"Pesta√±as Redactor IA",children:r.map(n=>{const i=n.icon;return o.jsxs("button",{onClick:()=>t(n.id),role:"tab","aria-selected":e===n.id,className:`shrink-0 rounded-xl px-3 sm:px-4 lg:px-5 xl:px-6 h-10 lg:h-11 xl:h-12 flex items-center justify-center gap-2 text-sm font-medium transition-all ${e===n.id?"bg-cyan-600 text-white":"text-zinc-400 hover:text-white hover:bg-zinc-800/70"}`,children:[o.jsx(i,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:n.label}),o.jsx("span",{className:"sm:hidden",children:n.label.split(" ")[0]})]},n.id)})})})]}),o.jsxs("div",{className:"max-w-screen-2xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 2xl:px-10 pt-[96px] lg:pt-[104px] pb-6",children:[e==="cola"&&o.jsx(Nee,{}),e==="borradores"&&o.jsx(Aee,{}),e==="config"&&o.jsx(kee,{})]})]})}function Tee(){return o.jsx(Bx,{children:o.jsxs(qe,{path:"/",element:o.jsx(FN,{}),children:[o.jsx(qe,{index:!0,element:o.jsx(wee,{})}),o.jsx(qe,{path:"metrics",element:o.jsx(xee,{})}),o.jsx(qe,{path:"news",element:o.jsx(BM,{})}),o.jsx(qe,{path:"reports",element:o.jsx(FM,{})}),o.jsx(qe,{path:"users",element:o.jsx(qM,{})}),o.jsx(qe,{path:"password-requests",element:o.jsx(jee,{})}),o.jsx(qe,{path:"perfil",element:o.jsx(See,{})}),o.jsx(qe,{path:"redactor-ia",element:o.jsx(Pee,{})})]})})}function Cee(){const[e,t]=P.useState(!1),r=Pr();P.useEffect(()=>{localStorage.getItem("token")||r("/admin/login",{replace:!0})},[r]);const n=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("userEmail"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:changed")),r("/admin/login",{replace:!0})};return o.jsxs("div",{className:"admin-ui flex min-h-screen bg-zinc-950 text-white",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Vm,{})}),e&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 md:hidden",onClick:()=>t(!1),children:o.jsx("div",{className:"absolute top-0 left-0 w-64 h-full sidebar border-r border-zinc-800",onClick:i=>i.stopPropagation(),children:o.jsx(Vm,{})})}),o.jsxs("main",{className:"flex-grow p-4 md:p-8 overflow-y-auto w-full bg-zinc-950 admin-scrollbar text-white",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 md:hidden",children:[o.jsx("button",{onClick:()=>t(!0),className:"text-white/80 hover:text-white",children:o.jsx(zN,{size:28})}),o.jsx("button",{onClick:n,className:"bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800 text-sm",children:"Cerrar sesi√≥n"})]}),o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(Tee,{})})]})]})}function $ee(){const e=Pr(),[t,r]=P.useState(""),[n,i]=P.useState(""),[a,s]=P.useState(""),l=async c=>{c.preventDefault(),s("");try{const u=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),h=await u.json();if(!u.ok){s(h.error||"Error al iniciar sesi√≥n");return}const{token:d,user:f}=h;localStorage.setItem("token",d),localStorage.setItem("role",f.role),localStorage.setItem("userEmail",f.email),ue.success("‚úÖ Inicio de sesi√≥n exitoso"),f.role==="admin"||f.role==="editor"?e("/admin"):e("/"),setTimeout(()=>{window.location.reload()},100)}catch{s("‚ùå No se pudo conectar con el servidor.")}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-800 to-red-400",children:o.jsxs("form",{onSubmit:l,className:"glass p-8 rounded-lg shadow-lg w-full max-w-md text-white text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Acceso Administrativo"}),a&&o.jsx("div",{className:"bg-white/10 text-white p-2 rounded text-sm border border-white/20",children:a}),o.jsx("input",{type:"email",placeholder:"Correo electr√≥nico",value:t,onChange:c=>r(c.target.value),className:"w-full px-4 py-2 rounded bg-white/10 border border-white/20 placeholder-white text-white focus:outline-none",required:!0}),o.jsx("input",{type:"password",placeholder:"Contrase√±a",value:n,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 rounded bg-white/10 border border-white/20 placeholder-white text-white focus:outline-none",required:!0}),o.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded transition",children:"Iniciar Sesi√≥n"}),o.jsxs("div",{className:"mt-4 text-sm text-white",children:["¬øOlvidaste tu contrase√±a?"," ",o.jsx(xe,{to:"/forgot-password",className:"text-white underline hover:text-gray-300",children:"Recuperarla"})]})]})})}function nN({variant:e="default"}){var v,b,y,j;const[t,r]=P.useState(null),[n,i]=P.useState(!0);P.useEffect(()=>{let w=!0;const x=window.innerWidth<768;return console.debug("[ShopCTA] Component mounted",{variant:e,isMobile:x,windowWidth:window.innerWidth}),(async()=>{var S,N;try{const C=`${{}.VITE_API_BASE||((N=(S=window.__APP_CONFIG__)==null?void 0:S.SHOPIFY_API_BASE)==null?void 0:N.replace("/api/shopify",""))||"http://localhost:5000"}/api/shopify/products`;console.debug("[ShopCTA] Fetching products from:",C);const E=await fetch(C,{credentials:"include"});if(console.debug("[ShopCTA] Fetch response:",E.status,E.statusText),!E.ok){console.warn("[ShopCTA] Fetch failed:",E.status);return}const O=await E.json(),A=Array.isArray(O)?O:[];if(console.debug("[ShopCTA] Products received:",A.length),!A.length){console.warn("[ShopCTA] No products available");return}const k=A.find($=>$.handle==="camiseta-de-manga-corta-unisex")||A[0];w&&(r(k),console.debug("[ShopCTA] ‚úÖ Product set:",k==null?void 0:k.title))}catch(_){console.error("[ShopCTA] ‚ùå Error loading product:",_)}finally{w&&(i(!1),console.debug("[ShopCTA] Loading finished"))}})(),()=>{w=!1}},[e]),P.useEffect(()=>{console.debug("[ShopCTA] State changed:",{loading:n,hasProduct:!!t,productTitle:t==null?void 0:t.title})},[n,t]);function a(w){if(!w)return"";const x=String(w).trim();return x?x.startsWith("//")?"https:"+x:x.startsWith("http://")?x.replace(/^http:\/\//i,"https://"):x:""}function s(w){var S,N,_,C,E,O,A,k;const x=[(S=w==null?void 0:w.featuredImage)==null?void 0:S.url,w==null?void 0:w.imageUrl,w==null?void 0:w.image,(_=(N=w==null?void 0:w.images)==null?void 0:N[0])==null?void 0:_.url,(O=(E=(C=w==null?void 0:w.variants)==null?void 0:C[0])==null?void 0:E.image)==null?void 0:O.url,(k=(A=((w==null?void 0:w.variants)||[]).find($=>{var I;return(I=$==null?void 0:$.image)==null?void 0:I.url}))==null?void 0:A.image)==null?void 0:k.url].filter(Boolean);for(const $ of x){const I=a($);if(I)return I}return""}const l=P.useMemo(()=>s(t),[t]),[c,u]=P.useState(l);P.useEffect(()=>{u(l)},[l]);const h=()=>{u("/img/og-default.jpg")};if(n&&e==="compact")return o.jsxs("section",{className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 p-4 md:p-5 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded w-32 mb-2"}),o.jsx("div",{className:"h-3 bg-white/5 rounded w-48 mb-4"}),o.jsxs("div",{className:"grid grid-cols-[100px,1fr] gap-3",children:[o.jsx("div",{className:"aspect-[4/3] bg-white/10 rounded-lg"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),o.jsx("div",{className:"h-3 bg-white/5 rounded w-20"})]})]})]});if(!t)return console.warn("[ShopCTA] ‚ö†Ô∏è No product available after loading"),e==="compact"?o.jsxs("section",{"aria-label":"Apoya la causa",className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 md:p-5 w-full",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),o.jsx("p",{className:"text-xs md:text-sm text-white/60 mt-1",children:"Tu compra nos ayuda a sostener la plataforma."})]}),o.jsxs("div",{className:"grid grid-cols-[100px,1fr] sm:grid-cols-[120px,1fr] md:grid-cols-[140px,1fr] gap-3 md:gap-4",children:[o.jsx("div",{className:"aspect-[4/3] w-full rounded-lg bg-white/10 border border-white/10 grid place-content-center",children:o.jsx(Rr,{size:20,className:"text-white/50"})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("p",{className:"text-sm md:text-base font-semibold text-white mb-1 line-clamp-2",children:"Descubre nuestros productos solidarios"}),o.jsx("p",{className:"text-xs md:text-sm text-white/60 mb-3",children:"Visita la tienda para ver todos los art√≠culos."}),o.jsx("div",{className:"mt-auto flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:o.jsx(xe,{to:"/tienda",className:"inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-500 px-4 py-2.5 text-sm text-white font-semibold transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver todos"})})]})]})]}):null;const d=((b=(v=t==null?void 0:t.priceRange)==null?void 0:v.minVariantPrice)==null?void 0:b.amount)||(t==null?void 0:t.price)||(t==null?void 0:t.priceMin),f=((j=(y=t==null?void 0:t.priceRange)==null?void 0:y.minVariantPrice)==null?void 0:j.currencyCode)||(t==null?void 0:t.currencyCode)||"USD",p=(t==null?void 0:t.handle)||"";if(e==="compact")return o.jsxs("section",{"aria-label":"Apoya la causa",className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 md:p-5 w-full",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),o.jsx("p",{className:"text-xs md:text-sm text-white/60 mt-1",children:"Tu compra nos ayuda a sostener la plataforma."})]}),o.jsxs("div",{className:"grid grid-cols-[100px,1fr] sm:grid-cols-[120px,1fr] md:grid-cols-[140px,1fr] gap-3 md:gap-4",children:[o.jsx(xe,{to:`/tienda/${p}`,className:"block group flex-shrink-0",children:o.jsx("div",{className:"aspect-[4/3] w-full rounded-lg bg-white/10 border border-white/10 group-hover:border-red-500/50 transition-all duration-300 overflow-hidden",children:o.jsx("img",{src:c||"/img/og-default.jpg",alt:t.title||"Producto solidario",className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"eager",fetchpriority:"high",decoding:"async",referrerPolicy:"no-referrer",onError:h})})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx(xe,{to:`/tienda/${p}`,className:"text-sm md:text-base font-semibold text-white hover:text-red-500 hover:underline line-clamp-2 transition-colors mb-1",children:t.title}),o.jsx("div",{className:"text-sm md:text-base text-white/90 font-medium mb-3",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-red-500 font-bold",children:["$",Number(d).toFixed(2)]}),o.jsx("span",{className:"text-white/50 text-xs ml-1",children:f})]}):o.jsx("span",{className:"text-white/50 text-xs",children:"Precio no disponible"})}),o.jsxs("div",{className:"mt-auto flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[o.jsx(xe,{to:`/tienda/${p}`,className:"inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-500 px-4 py-2.5 text-sm text-white font-semibold transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver producto"}),o.jsx(xe,{to:"/tienda",className:"inline-flex items-center justify-center rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 px-4 py-2.5 text-sm text-white/90 hover:text-white font-medium transition-all duration-200",children:"Ver todos"})]})]})]})]});const g=()=>{try{const w=new CustomEvent("cart:add",{detail:{productHandle:p,quantity:1,product:t},bubbles:!0,cancelable:!0});window.dispatchEvent(w)}catch{}},m=typeof window<"u"&&!1;return o.jsxs("section",{"aria-label":"Apoya la causa comprando merchandising",className:"mt-12 mb-10 rounded-2xl border border-zinc-800 bg-gradient-to-br from-zinc-900/50 to-zinc-900/30 backdrop-blur-sm p-6 md:p-8",children:[o.jsx("div",{className:"flex items-start justify-between mb-6",children:o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[o.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),o.jsx("p",{className:"text-zinc-400 text-sm md:text-base",children:"Tu compra nos ayuda a sostener la plataforma y continuar luchando por la libertad."})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[180px,1fr] gap-6",children:[o.jsx(xe,{to:`/tienda/${p}`,className:"block group",children:o.jsx("div",{className:"aspect-[4/5] w-full overflow-hidden rounded-xl bg-zinc-800 border border-zinc-700 group-hover:border-red-500/50 transition-all duration-300",children:o.jsx("img",{src:c||"/img/og-default.jpg",alt:t.title||"Producto solidario",className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"eager",fetchpriority:"high",decoding:"async",referrerPolicy:"no-referrer",onError:h})})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(xe,{to:`/tienda/${p}`,className:"text-xl font-bold text-white hover:text-red-500 transition-colors mb-2",children:t.title}),o.jsx("div",{className:"text-white mb-4",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-3xl font-bold text-red-500",children:["$",Number(d).toFixed(2)]}),o.jsx("span",{className:"text-zinc-400 text-sm ml-2",children:f})]}):o.jsx("span",{className:"text-zinc-400",children:"Precio no disponible"})}),t.description&&o.jsx("p",{className:"text-zinc-400 text-sm mb-6 line-clamp-2",children:t.description}),o.jsxs("div",{className:"mt-auto flex flex-wrap gap-3",children:[o.jsxs(xe,{to:`/tienda/${p}`,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-red-600 hover:bg-red-700 px-6 py-3 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-red-600/20",children:["Ver producto",o.jsx(Tx,{size:18})]}),o.jsxs(xe,{to:"/tienda",className:"inline-flex items-center justify-center gap-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 hover:border-zinc-600 px-6 py-3 text-zinc-200 font-medium transition-all duration-200",children:[o.jsx(Rr,{size:18}),"Ver todos los productos"]}),m&&o.jsx("button",{type:"button",onClick:g,className:"inline-flex items-center justify-center rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 border border-zinc-700/50 px-6 py-3 text-zinc-300 font-medium transition-all duration-200",children:"Agregar r√°pido"})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-800",children:o.jsx("p",{className:"text-zinc-500 text-xs text-center",children:"üõ°Ô∏è Compra segura ‚Ä¢ Env√≠o a todo el mundo ‚Ä¢ Productos de calidad garantizada"})})]})}nN.propTypes={variant:Ce.oneOf(["default","compact"])};function Iee(){P.useState(null);const t=!!0;return P.useEffect(()=>{},[t]),null}function Mee(e){if(!Array.isArray(e))return 0;let t=0;const r=n=>{n.forEach(i=>{t++,i.respuestas&&Array.isArray(i.respuestas)&&i.respuestas.length>0&&r(i.respuestas)})};return r(e),t}function zee({contextType:e,targetId:t}){const[r,n]=P.useState([]),[i,a]=P.useState(!1),[s,l]=P.useState(null),[c,u]=P.useState(new Map),[h,d]=P.useState(new Map),[f,p]=P.useState(new Map),g=P.useRef(0),m=localStorage.getItem("token"),v=m?(()=>{try{const S=Xh(m);return{id:S.sub||S.id,name:S.name||S.username||S.nickname||"An√≥nimo",email:S.email,role:S.role}}catch{return null}})():null,b=P.useCallback(()=>{switch(e){case"news":return`/api/comments/${t}`;case"report":return`/api/reports/${t}/comentarios`;default:throw new Error(`Contexto desconocido: ${e}`)}},[e,t]),y=P.useCallback(async()=>{a(!0),l(null);try{const S=await fetch(b());if(!S.ok)throw new Error("Error al cargar comentarios");const N=await S.json();let _=N;e==="news"?_=Array.isArray(N)?N:[]:e==="report"&&(_=Array.isArray(N)?N:N.comentarios||[]),n(_),_.forEach(C=>{var E;((E=C.respuestas)==null?void 0:E.length)>0&&p(O=>new Map(O).set(C._id,C.respuestas.length>10))})}catch(S){console.error("Error al cargar comentarios:",S),l(S.message),n([])}finally{a(!1)}},[b,e]),j=P.useCallback(async S=>{const N=h.get(S),_=`${b()}?parentId=${S}${N?`&cursor=${N}`:""}&limit=10`;try{const C=await fetch(_);if(!C.ok)throw new Error("Error al cargar m√°s respuestas");const E=await C.json(),O=E.comments||[],A=E.nextCursor,k=$=>$.map(I=>I._id===S?{...I,respuestas:[...I.respuestas||[],...O]}:I.respuestas?{...I,respuestas:k(I.respuestas)}:I);n($=>k($)),A?(d($=>new Map($).set(S,A)),p($=>new Map($).set(S,!0))):p($=>new Map($).set(S,!1))}catch(C){console.error("Error al cargar m√°s respuestas:",C)}},[h,b]),w=P.useCallback(async({contenido:S,parentId:N=null})=>{if(!(S!=null&&S.trim()))return{success:!1,error:"Contenido vac√≠o"};if(!v)return{success:!1,error:"No autenticado"};const _=`temp_${Date.now()}_${g.current++}`,C={_id:_,contenido:S.trim(),texto:S.trim(),usuario:v.name,userId:v.id,createdAt:new Date().toISOString(),padre:N,parentId:N,respuestas:[],isOptimistic:!0};if(N){const E=O=>O.map(A=>A._id===N?{...A,respuestas:[...A.respuestas||[],C]}:A.respuestas?{...A,respuestas:E(A.respuestas)}:A);n(O=>E(O))}else n(E=>[C,...E]);u(E=>new Map(E).set(_,C));try{let E,O;e==="news"?(E=`/api/comments/${t}`,O=JSON.stringify({contenido:S.trim(),parentId:N})):e==="report"&&(E=N?`/api/reports/${t}/comentarios/${N}/responder`:`/api/reports/${t}/comentarios`,O=JSON.stringify({mensaje:S.trim()}));const A=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:O});if(!A.ok)throw new Error("Error al enviar comentario");const k=await A.json(),$=I=>I.map(T=>T._id===_?{...k,isOptimistic:!1}:T.respuestas?{...T,respuestas:$(T.respuestas)}:T);return n(I=>N?$(I):I.map(T=>T._id===_?{...k,isOptimistic:!1}:T)),u(I=>{const T=new Map(I);return T.delete(_),T}),{success:!0,comment:k}}catch(E){console.error("Error al enviar comentario:",E);const O=A=>A.filter(k=>k._id!==_).map(k=>({...k,respuestas:k.respuestas?O(k.respuestas):[]}));return n(A=>O(A)),u(A=>{const k=new Map(A);return k.delete(_),k}),{success:!1,error:E.message}}},[e,t,v,m]),x=P.useCallback(async S=>{if(!v)return{success:!1,error:"No autenticado"};if(!window.confirm("¬øEst√°s seguro de que quieres eliminar este comentario?"))return{success:!1,error:"Cancelado por usuario"};try{let N;if(e==="news"?N=`/api/comments/${S}`:e==="report"&&(N=`/api/reports/comentarios/${S}`),!(await fetch(N,{method:"DELETE",headers:{Authorization:`Bearer ${m}`}})).ok)throw new Error("Error al eliminar comentario");const C=E=>E.filter(O=>O._id!==S).map(O=>({...O,respuestas:O.respuestas?C(O.respuestas):[]}));return n(E=>C(E)),{success:!0}}catch(N){return console.error("Error al eliminar comentario:",N),{success:!1,error:N.message}}},[e,v,m]);return P.useEffect(()=>{t&&y()},[t,y]),{rootComments:r,isLoading:i,error:s,currentUser:v,isAuthenticated:!!v,loadMore:j,addComment:w,deleteComment:x,refresh:y,hasMoreReplies:S=>f.get(S)||!1,isOptimistic:S=>c.has(S),totalCommentCount:Mee(r)}}function Lee({contextType:e,targetId:t,className:r=""}){const{rootComments:n,isLoading:i,error:a,currentUser:s,isAuthenticated:l,addComment:c,deleteComment:u,hasMoreReplies:h,isOptimistic:d,totalCommentCount:f}=zee({contextType:e,targetId:t}),[p,g]=P.useState({}),[m,v]=P.useState(""),[b,y]=P.useState(null),[j,w]=P.useState({}),[x,S]=P.useState({}),N=P.useRef({});P.useEffect(()=>{if(b&&N.current[b]){const k=setTimeout(()=>{var $;($=N.current[b])==null||$.focus()},50);return()=>clearTimeout(k)}},[b]);const _=k=>{const $=Math.floor((new Date-new Date(k))/1e3),I={a√±o:31536e3,mes:2592e3,d√≠a:86400,hora:3600,minuto:60};for(const[T,R]of Object.entries(I)){const U=Math.floor($/R);if(U>=1)return`${U} ${T}${U>1?T==="mes"?"es":"s":""}`}return"ahora"};P.useCallback((k,$)=>{g(I=>({...I,[k]:$}))},[]);const C=P.useCallback(k=>{v(k)},[]),E=async(k=null,$,I)=>{const T=k?$:m;if(!(T!=null&&T.trim()))return;if(!l){alert("‚ö† Debes iniciar sesi√≥n para comentar.");return}S(U=>({...U,[k||"root"]:!0}));const R=await c({contenido:T,parentId:k});R.success?k?(I==null||I(),y(null)):v(""):alert(`‚ùå Error: ${R.error||"No se pudo enviar el comentario"}`),S(U=>({...U,[k||"root"]:!1}))};P.useCallback(k=>{g($=>{const I={...$};return delete I[k],I}),y(null)},[]);const O=async k=>{const $=await u(k);!$.success&&$.error!=="Cancelado por usuario"&&alert(`‚ùå Error: ${$.error||"No se pudo eliminar el comentario"}`)},A=P.memo(({comentario:k,nivel:$=0})=>{var W;const I=b===k._id,T=k.respuestas&&k.respuestas.length>0,R=j[k._id],U=(s==null?void 0:s.id)===k.userId,D=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="editor",F=U||D,M=d(k._id),[L,z]=P.useState(""),K=P.useRef(null);return P.useEffect(()=>{if(b===k._id){const B=setTimeout(()=>{var H;return(H=K.current)==null?void 0:H.focus()},40);return()=>clearTimeout(B)}},[b,k._id]),o.jsx("div",{className:`${$>0?"ml-12 mt-2":"mt-3"}`,children:o.jsx("div",{className:`group ${$===0?"border-l-2 border-zinc-800 pl-4":""} ${M?"opacity-70":""}`,children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${$===0?"bg-zinc-800":"bg-zinc-900"}`,children:(W=k.usuario)!=null&&W.profileImage?o.jsx("img",{src:k.usuario.profileImage,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}):o.jsx(En,{className:"w-4 h-4 text-zinc-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-white text-sm",children:k.usuario||"An√≥nimo"}),M&&o.jsx("span",{className:"text-xs text-blue-400 animate-pulse",children:"Enviando..."}),o.jsxs("span",{className:"text-xs text-zinc-500",children:["¬∑ ",_(k.createdAt)]})]}),o.jsx("p",{className:"text-sm text-zinc-300 break-words",dangerouslySetInnerHTML:{__html:Kt.sanitize(k.contenido||k.texto||k.mensaje||"")}}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[l&&!M&&o.jsxs("button",{type:"button",onClick:()=>y(k._id),className:"text-xs text-zinc-500 hover:text-blue-400 transition flex items-center gap-1","aria-label":"Responder al comentario",children:[o.jsx(LN,{className:"w-3 h-3"}),"Responder"]}),F&&!M&&o.jsxs("button",{type:"button",onClick:()=>O(k._id),className:"text-xs text-zinc-500 hover:text-red-400 transition flex items-center gap-1","aria-label":"Eliminar comentario",children:[o.jsx(vr,{className:"w-3 h-3"}),"Eliminar"]}),T&&o.jsx("button",{type:"button",onClick:()=>w(B=>({...B,[k._id]:!B[k._id]})),className:"text-xs text-zinc-500 hover:text-white transition flex items-center gap-1","aria-expanded":R,"aria-controls":`replies-${k._id}`,children:R?o.jsxs(o.Fragment,{children:[o.jsx($x,{className:"w-3 h-3"}),"Ocultar"]}):o.jsxs(o.Fragment,{children:[o.jsx(vo,{className:"w-3 h-3"}),k.respuestas.length," respuesta",k.respuestas.length>1?"s":""]})})]}),I&&o.jsxs("div",{className:"mt-3 flex gap-2",children:[o.jsx("input",{ref:K,type:"text",placeholder:`Responder a ${k.usuario||"An√≥nimo"}...`,value:L,onChange:B=>z(B.target.value),onKeyDown:B=>{B.key==="Enter"&&(B.ctrlKey||B.metaKey)?(B.preventDefault(),E(k._id,L,()=>z(""))):B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),L.trim()&&E(k._id,L,()=>z("")))},disabled:x[k._id],className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none disabled:opacity-50 transition-colors","aria-label":"Escribir respuesta"}),o.jsx("button",{type:"button",onClick:()=>E(k._id,L,()=>z("")),disabled:!L.trim()||x[k._id],className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white rounded-lg transition","aria-label":"Enviar respuesta",children:x[k._id]?o.jsx(Qn,{className:"w-4 h-4 animate-spin"}):o.jsx(mo,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>{z(""),y(null)},className:"p-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition","aria-label":"Cancelar respuesta",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),R&&T&&o.jsxs("div",{id:`replies-${k._id}`,className:"mt-2",children:[k.respuestas.map(B=>o.jsx(A,{comentario:B,nivel:$+1},B._id)),h(k._id)&&o.jsx("button",{type:"button",onClick:()=>loadMore(k._id),className:"ml-12 mt-2 text-xs text-blue-400 hover:text-blue-300 transition",children:"Ver m√°s respuestas..."})]})]})]})})})});return A.displayName="CommentItem",i&&n.length===0?o.jsx("div",{className:`flex justify-center items-center py-8 ${r}`,children:o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[o.jsx(Qn,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Cargando comentarios..."})]})}):a?o.jsx("div",{className:`bg-red-500/10 border border-red-500/20 rounded-lg p-4 ${r}`,children:o.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[o.jsx(or,{className:"w-5 h-5"}),o.jsxs("span",{children:["Error al cargar comentarios: ",a]})]})}):o.jsxs("div",{className:`${r}`,children:[l?o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:o.jsx(En,{className:"w-4 h-4 text-zinc-400"})}),o.jsx("input",{type:"text",placeholder:"Escribe un comentario...",value:m,onChange:k=>C(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.ctrlKey||k.metaKey)&&m.trim()?(k.preventDefault(),E()):k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),m.trim()&&E())},disabled:x.root,className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none disabled:opacity-50 transition-colors","aria-label":"Escribir comentario"}),o.jsx("button",{type:"button",onClick:()=>E(),disabled:!m.trim()||x.root,className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white rounded-lg transition","aria-label":"Publicar comentario",children:x.root?o.jsx(Qn,{className:"w-4 h-4 animate-spin"}):o.jsx(mo,{className:"w-4 h-4"})})]})}):o.jsxs("div",{className:"mb-6 bg-zinc-900/50 border border-zinc-800 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Inicia sesi√≥n para comentar"}),o.jsxs("a",{href:"/login",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition",children:[o.jsx(En,{className:"w-4 h-4"}),"Iniciar sesi√≥n"]})]}),n.length>0?o.jsx("div",{className:"space-y-3",children:n.map(k=>o.jsx(A,{comentario:k,nivel:0},k._id))}):o.jsx("p",{className:"text-center text-sm text-zinc-500 py-8 bg-zinc-900/30 rounded-lg",children:l?"S√© el primero en comentar":"No hay comentarios a√∫n"}),!1]})}function Ree(e,t=260){if(!e)return"";const r=document.createElement("div");r.innerHTML=e;const n=r.querySelector("p"),i=((n==null?void 0:n.textContent)||r.textContent||"").trim();if(!i)return"";if(i.length<=t)return i;const a=i.slice(0,t),s=a.lastIndexOf(" ");return`${a.slice(0,s>0?s:t)}‚Ä¶`}function Dee(){var h,d,f;const{id:e}=Fx();Pr();const[t,r]=P.useState(null),[n,i]=P.useState([]),[a,s]=P.useState(0);P.useEffect(()=>{window.scrollTo(0,0)},[e]),P.useEffect(()=>{const p=()=>{const g=document.querySelector("article");if(!g)return;const m=g.offsetTop,v=g.offsetHeight,b=window.innerHeight,y=window.scrollY,j=Math.min(Math.max((y-m+b*.3)/v,0),1);s(j*100)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[t]),P.useEffect(()=>{fetch(`/api/news/${e}`).then(p=>p.json()).then(p=>{const g=Kt.sanitize(p.contenido,{ALLOWED_TAGS:["b","i","em","strong","p","h1","h2","h3","ul","ol","li","a","blockquote","br"],ALLOWED_ATTR:["href","target","rel","class"]}),b=new DOMParser().parseFromString(`<div>${g}</div>`,"text/html").body.firstElementChild,y=Array.from(b.querySelectorAll("p")),j=$=>$.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim(),w=$=>$.trim().split(/\s+/).filter(I=>I.length>0).length>=8,x=[];let S=[],N=0,_=0;y.forEach(($,I)=>{const T=j($.innerHTML);S.push($.outerHTML),w(T)&&(_++,N+=T.length),(N>=1400&&_>=3||_>=5||I===y.length-1)&&(x.push({html:S.join(""),charSum:N,substCount:_}),S=[],N=0,_=0)});const C=x.reduce(($,I)=>$+I.charSum,0)||1;let E="",O=!1,A=0;x.forEach($=>{E+=$.html,A+=$.charSum;const I=A/C;!O&&I>=.45&&I<=.65&&p.imagenOpcional&&(E+=`
              <figure class="w-full my-10">
                <img src="${p.imagenOpcional}" alt="Imagen adicional" class="w-full h-auto rounded-lg shadow-none mx-auto border border-white/10" />
              </figure>`,O=!0)});const k=Jd({...p,titulo:Kt.sanitize(p.titulo),contenido:E,autor:Kt.sanitize(p.autor||"Autor verificado")});r(k),fetch(`/api/news/${p._id}/relacionadas`).then($=>$.json()).then($=>{const I=$.map(T=>Jd(T));i(I)}).catch(()=>i([]))})},[e]);const l=()=>{const p=encodeURIComponent(`${window.location.origin}/noticias/${e}`),g=encodeURIComponent((t==null?void 0:t.titulo)||"");return o.jsxs("div",{className:"mt-10 mb-14",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"w-1.5 h-4 bg-yellow-400 rounded-sm"}),o.jsx("span",{className:"text-white text-sm font-semibold tracking-wide uppercase",children:"Compartir"})]}),o.jsxs("div",{className:"flex gap-4 text-white text-xl",children:[o.jsx("a",{href:`https://wa.me/?text=${p}`,target:"_blank",rel:"noreferrer",className:"hover:text-green-400",children:o.jsx(Lc,{})}),o.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${p}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-500",children:o.jsx(as,{})}),o.jsx("a",{href:`https://twitter.com/intent/tweet?url=${p}&text=${g}`,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400",children:o.jsx(zc,{})}),o.jsx("a",{href:`https://t.me/share/url?url=${p}&text=${g}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-300",children:o.jsx(Yh,{})})]})]})},c=()=>{if(!n.length)return null;const p=n.slice(0,3);return o.jsxs("div",{className:"mt-20",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(fl,{className:"w-5 h-5 text-white/90"}),o.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"Te puede interesar"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.map(g=>{const m=nn(g._cover,g._coverHash);return o.jsx("article",{className:"w-full max-w-full sm:max-w-none rounded-2xl overflow-hidden bg-zinc-900/60 border border-zinc-800/60 hover:bg-zinc-900/80 transition group",children:o.jsxs(xe,{to:`/noticias/${g._id}`,className:"block",children:[o.jsxs("div",{className:"w-full overflow-hidden relative",children:[m?o.jsx("img",{src:m,alt:g.titulo,className:"block w-full aspect-[16/9] object-cover sm:h-36 sm:aspect-auto group-hover:scale-105 transition-transform duration-300",loading:"lazy",decoding:"async"}):o.jsx("div",{className:"w-full aspect-[16/9] sm:h-36 sm:aspect-auto bg-zinc-800/70 flex items-center justify-center",children:o.jsx(fl,{className:"w-8 h-8 text-zinc-600"})}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"})]},g._coverHash||g._id),o.jsxs("div",{className:"p-3 sm:p-4",children:[o.jsx("h4",{className:"font-semibold text-base mb-2 line-clamp-2 text-white",children:g.titulo}),o.jsx("div",{className:"text-xs text-gray-400",children:o.jsx("p",{className:"italic",children:new Date(g.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})})]})]})},g._id)})})]})};if(!t)return o.jsx("div",{className:"text-white text-center p-10",children:"Cargando noticia..."});const u=(h=t==null?void 0:t.bajada)!=null&&h.trim()?t.bajada.trim():Ree((t==null?void 0:t.contenido)||"",260);return o.jsxs(o.Fragment,{children:[o.jsxs(vO,{children:[o.jsx("title",{children:t!=null&&t.titulo?`${t.titulo} - Lev√°ntateCuba`:"Lev√°ntateCuba - Noticias"}),(t==null?void 0:t.autor)&&o.jsx("meta",{name:"author",content:t.autor}),o.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"NewsArticle",headline:(t==null?void 0:t.titulo)||"Lev√°ntateCuba",image:[t!=null&&t._cover?t._cover.startsWith("http")?t._cover:`https://levantatecuba.com${t._cover}`:"https://levantatecuba.com/img/og-default.jpg"],datePublished:t!=null&&t.createdAt?new Date(t.createdAt).toISOString():new Date().toISOString(),dateModified:t!=null&&t.updatedAt?new Date(t.updatedAt).toISOString():t!=null&&t.createdAt?new Date(t.createdAt).toISOString():new Date().toISOString(),author:{"@type":"Person",name:(t==null?void 0:t.autor)||"Autor verificado"},publisher:{"@type":"Organization",name:"Lev√°ntateCuba",logo:{"@type":"ImageObject",url:"https://levantatecuba.com/logo.png"}},description:t!=null&&t.contenido?t.contenido.replace(/<[^>]+>/g,"").slice(0,160):"",url:`https://levantatecuba.com/noticias/${t==null?void 0:t._id}`,mainEntityOfPage:{"@type":"WebPage","@id":`https://levantatecuba.com/noticias/${t==null?void 0:t._id}`},articleSection:(t==null?void 0:t.categoria)||"General",inLanguage:"es-ES"})})]}),o.jsx("div",{className:"fixed top-0 left-0 h-0.5 bg-gradient-to-r from-yellow-400 to-yellow-500 z-50 transition-all duration-150 ease-out",style:{width:`${a}%`}}),o.jsx("div",{className:"min-h-screen bg-transparent text-white",children:o.jsxs("main",{className:"pt-[calc(var(--nav-h)+12px)] max-w-3xl mx-auto px-4 md:px-6 space-y-6",children:[o.jsxs(xe,{to:"/noticias",className:"inline-flex items-center gap-2 rounded-xl border border-zinc-800 bg-zinc-900/60 hover:bg-zinc-900 px-4 py-2 mt-2 md:mt-3 text-white/80 hover:text-white transition-all duration-200 font-semibold text-sm",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Volver a Noticias"]}),t._cover&&o.jsx("div",{className:"w-full mb-6 sm:mb-8 aspect-video bg-zinc-900 rounded-lg sm:rounded-xl overflow-hidden",children:t._cover.match(/\.(avif|webp|jpg|jpeg|png)$/i)?o.jsx("img",{src:nn(t._cover,t._coverHash),alt:t.titulo,className:"w-full h-full rounded-lg sm:rounded-xl border border-zinc-800/60 shadow-lg object-cover",loading:"eager",decoding:"async"}):o.jsxs("picture",{children:[o.jsx("source",{type:"image/avif",srcSet:nn(t._cover+".avif",t._coverHash)}),o.jsx("source",{type:"image/webp",srcSet:nn(t._cover+".webp",t._coverHash)}),o.jsx("img",{src:nn(t._cover+".jpg",t._coverHash),alt:t.titulo,className:"w-full h-full rounded-lg sm:rounded-xl border border-zinc-800/60 shadow-lg object-cover",loading:"eager",decoding:"async"})]})},t._coverHash||t._id),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 w-1 rounded-full bg-gradient-to-b from-sky-500 via-sky-400 to-sky-600","aria-hidden":"true"}),o.jsxs("div",{className:"pl-5",children:[(t==null?void 0:t.categoria)&&o.jsx("div",{className:"mb-3",children:o.jsx("span",{className:`inline-flex items-center rounded-full text-white text-xs font-medium px-3 py-1 ${t.categoria==="Pol√≠tica"?"bg-red-600/90":t.categoria==="Econom√≠a"?"bg-green-600/90":t.categoria==="Internacional"?"bg-blue-600/90":t.categoria==="Socio pol√≠tico"?"bg-rose-700/90":t.categoria==="Tecnolog√≠a"?"bg-cyan-600/90":"bg-zinc-600/90"}`,children:t.categoria})}),o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-zinc-100 leading-tight mb-4",children:t.titulo}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-400 mb-4",children:[(t==null?void 0:t.publishedAt)&&o.jsx("time",{dateTime:t.publishedAt,children:new Date(t.publishedAt).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ir,{className:"w-4 h-4"}),o.jsxs("span",{children:[Math.max(Math.ceil((((d=t==null?void 0:t.contenido)==null?void 0:d.replace(/<[^>]+>/g,"").length)||0)/200),1)," min de lectura"]})]})]}),!!((f=t==null?void 0:t.etiquetas)!=null&&f.length)&&o.jsx("div",{className:"flex flex-wrap gap-2",children:t.etiquetas.map(p=>o.jsx("span",{className:"inline-flex items-center rounded-full bg-zinc-800 text-zinc-300 border border-zinc-700 px-2.5 py-0.5 text-xs",title:`Etiqueta: ${p}`,children:p},p))})]})]}),u&&o.jsx("div",{className:"border-l-4 border-zinc-700 pl-4 text-zinc-300 italic text-lg md:text-xl leading-relaxed mb-6",children:u}),o.jsx("article",{className:`prose prose-invert prose-lg max-w-none
              prose-p:text-zinc-200 prose-p:text-base md:prose-p:text-[17px] prose-p:leading-8 prose-p:tracking-[0.005em]
              prose-p:first-of-type:md:first-letter:text-6xl prose-p:first-of-type:md:first-letter:font-bold prose-p:first-of-type:md:first-letter:text-yellow-400 prose-p:first-of-type:md:first-letter:float-left prose-p:first-of-type:md:first-letter:leading-[0.8] prose-p:first-of-type:md:first-letter:mr-2 prose-p:first-of-type:md:first-letter:mt-1
              prose-headings:text-white prose-headings:font-bold prose-headings:tracking-tight
              prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-6 prose-h2:border-l-4 prose-h2:border-yellow-400 prose-h2:pl-4
              prose-h3:text-xl prose-h3:mt-10 prose-h3:mb-4 prose-h3:text-zinc-100
              prose-strong:text-white prose-strong:font-semibold
              prose-a:text-blue-400 prose-a:underline prose-a:decoration-blue-400/40 hover:prose-a:decoration-blue-400 prose-a:transition-all prose-a:break-words hover:prose-a:text-blue-300
              prose-blockquote:border-l-4 prose-blockquote:border-yellow-400 prose-blockquote:pl-8 prose-blockquote:pr-8 prose-blockquote:py-6 prose-blockquote:italic prose-blockquote:bg-zinc-900/40 prose-blockquote:rounded-r-lg prose-blockquote:my-8 prose-blockquote:text-zinc-300 prose-blockquote:text-lg prose-blockquote:font-light
              prose-ul:list-disc prose-ul:pl-6 prose-ul:space-y-2 prose-ol:list-decimal prose-ol:pl-6 prose-ol:space-y-2
              prose-li:text-zinc-200 prose-li:leading-relaxed
              prose-img:rounded-lg prose-img:shadow-lg prose-img:border prose-img:border-zinc-800/60 prose-img:my-8
              prose-figure:my-10
              break-words`,children:o.jsx("div",{className:"space-y-4 md:space-y-6 xl:space-y-7",dangerouslySetInnerHTML:{__html:t.contenido}})}),o.jsx(nN,{variant:"compact"}),l(),o.jsx("div",{className:"my-10 h-px bg-zinc-800/60"}),c(),o.jsxs("section",{id:"comentarios",className:"mt-10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(RN,{className:"w-5 h-5 text-white/90"}),o.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"Comentarios"})]}),o.jsx(Lee,{contextType:"news",targetId:e,className:"mt-4"})]})]})}),o.jsx(Iee,{})]})}function Bee({children:e,requireAdmin:t=!1}){const r=localStorage.getItem("token");if(!r)return o.jsx(js,{to:"/admin/login",replace:!0});try{const n=Xh(r),i=Date.now()/1e3;if(n.exp<i)return localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:changed")),o.jsx(js,{to:"/admin/login",replace:!0});if(t){const a=n.role;if(!a||a!=="admin"&&a!=="editor")return o.jsx(js,{to:"/",replace:!0})}return e}catch{return localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:changed")),o.jsx(js,{to:"/admin/login",replace:!0})}}const Fee={}.VITE_API_BASE_URL||"/api";function qee(){const[e,t]=P.useState(""),[r,n]=P.useState(""),[i,a]=P.useState(!1),s=async l=>{if(l.preventDefault(),!(!e||i)){n(""),a(!0);try{const c=await fetch(`${Fee}/password/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),u=await c.json();if(!c.ok){n((u==null?void 0:u.error)||"Error al enviar la solicitud."),a(!1);return}ue.success("Solicitud enviada correctamente."),t(""),n("Si el correo existe, recibir√°s instrucciones para restablecer tu contrase√±a.")}catch{n("No se pudo conectar con el servidor.")}finally{a(!1)}}};return o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(xe,{to:"/",className:"inline-flex items-center text-sm text-white/70 hover:text-white",children:[o.jsx("span",{className:"mr-2",children:"‚Üê"})," Volver al inicio"]})}),o.jsxs("header",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Restablecer contrase√±a"}),o.jsx("p",{className:"mx-auto mt-2 max-w-2xl text-sm text-white/70",children:"Ingresa tu correo y te enviaremos un enlace de recuperaci√≥n."})]}),o.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg md:bg-white/10 md:backdrop-blur-md md:p-8",children:[r&&o.jsx("div",{className:"mb-4 rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-sm text-white",children:r}),o.jsxs("form",{onSubmit:s,className:"space-y-6",noValidate:!0,children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:"Correo electr√≥nico"}),o.jsx("input",{id:"email",type:"email",inputMode:"email",autoComplete:"email",placeholder:"tu@empresa.com",value:e,onChange:l=>t(l.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0})]}),o.jsxs("div",{className:"pt-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("button",{type:"submit",disabled:i||!e,className:"flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold text-white transition-all duration-200 hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",style:{WebkitAppearance:"none",backgroundColor:"#dc2626"},children:i?"Enviando‚Ä¶":"Enviar solicitud"}),o.jsxs("div",{className:"text-center text-sm text-white/70 sm:text-right",children:["¬øYa la recordaste?"," ",o.jsx(xe,{to:"/login",className:"text-white hover:underline",children:"Inicia sesi√≥n"})]})]}),o.jsx("p",{className:"pt-4 text-center text-xs text-white/50",children:"Obligados al exilio‚Ä¶ no hay abrazo que cierre lo que la dictadura parte."})]})]})]})})}function Uee(){const{t:e}=is(),t=Pr(),[r,n]=P.useState(""),[i,a]=P.useState(""),[s,l]=P.useState(!1),[c,u]=P.useState(""),[h,d]=P.useState(!1),f=async p=>{if(p.preventDefault(),!(!r||!i||h)){u(""),d(!0);try{const g=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim(),password:i})}),m=await g.json();if(!g.ok){u((m==null?void 0:m.error)||"Error al iniciar sesi√≥n"),d(!1);return}const{token:v,user:b}=m;console.debug("[AUTH] login result",{status:g.status,hasToken:!!v,userId:b==null?void 0:b._id,role:b==null?void 0:b.role}),localStorage.setItem("token",v),localStorage.setItem("role",b.role),localStorage.setItem("user",JSON.stringify(b)),window.dispatchEvent(new Event("auth:changed")),b.role==="admin"||b.role==="editor"?t("/admin",{replace:!0}):t("/",{replace:!0})}catch(g){console.error(g),u("Error en el servidor. Intenta nuevamente.")}finally{d(!1)}}};return o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx(yo,{to:"/",label:"Volver al inicio"}),o.jsxs("header",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Inicia sesi√≥n"}),o.jsx("p",{className:"mx-auto mt-2 max-w-2xl text-sm text-white/70",children:"Accede con tu correo y contrase√±a."})]}),o.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg md:bg-white/10 md:backdrop-blur-md md:p-8",children:[c&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-900/40 bg-red-900/20 px-3 py-2 text-sm text-red-200",children:c}),o.jsxs("form",{onSubmit:f,className:"space-y-6",noValidate:!0,children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:e("email")||"Correo"}),o.jsx("input",{id:"email",type:"email",inputMode:"email",autoComplete:"email",placeholder:"tu@empresa.com",value:r,onChange:p=>n(p.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-white",children:e("password")||"Contrase√±a"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:s?"text":"password",autoComplete:"current-password",value:i,onChange:p=>a(p.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 pr-20 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0}),o.jsx("button",{type:"button",onClick:()=>l(p=>!p),className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md px-2 py-1 text-xs text-white/70 hover:text-white","aria-label":s?"Ocultar contrase√±a":"Mostrar contrase√±a",children:s?"Ocultar":"Mostrar"})]})]}),o.jsxs("div",{className:"pt-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("button",{type:"submit",disabled:h||!r||!i,className:"flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold text-white transition-all duration-200 hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",style:{WebkitAppearance:"none",backgroundColor:"#dc2626"},children:h?"Ingresando‚Ä¶":"Iniciar sesi√≥n"}),o.jsxs("div",{className:"text-center text-sm text-white/70 sm:text-right",children:["¬øNo tienes cuenta?"," ",o.jsx("a",{href:"/registro",className:"text-white hover:underline",children:"Crear cuenta"}),"  ‚Ä¢  ",o.jsx("a",{href:"/forgot-password",className:"text-white hover:underline",children:"¬øOlvidaste tu contrase√±a?"})]})]}),o.jsx("p",{className:"pt-4 text-center text-xs text-white/50",children:"Obligados al exilio‚Ä¶ no hay abrazo que cierre lo que la dictadura parte."})]})]})]})})}function Hee(e){return ut({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function Wee(){const e=Pr(),[t,r]=P.useState({name:"",email:"",password:""}),[n,i]=P.useState(""),[a,s]=P.useState(!1),l={}.VITE_API_BASE_URL??"",c=f=>`${l}${f}`,u=f=>r(p=>({...p,[f.target.name]:f.target.value})),h=async f=>{if(f.preventDefault(),!(!t.name||!t.email||!t.password||a)){i(""),s(!0);try{const p=await fetch(c("/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),g=await p.json();if(!p.ok){i((g==null?void 0:g.error)||"No se pudo crear la cuenta"),s(!1);return}localStorage.setItem("token",g.token),localStorage.setItem("role",g.user.role),localStorage.setItem("user",JSON.stringify(g.user)),e("/",{replace:!0})}catch(p){console.error(p),i("Error en el servidor.")}finally{s(!1)}}},d=()=>{window.location.href=`${c("/api/oauth/google")}`};return o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx(yo,{to:"/",label:"Volver al inicio"}),o.jsxs("header",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Crear cuenta"}),o.jsx("p",{className:"mx-auto mt-2 max-w-2xl text-sm text-white/70",children:"Reg√≠strate para interactuar con la plataforma."})]}),o.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg md:bg-white/10 md:backdrop-blur-md md:p-8",children:[n&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-900/40 bg-red-900/20 px-3 py-2 text-sm text-red-200",children:n}),o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"grid gap-3",children:o.jsxs("button",{type:"button",onClick:d,className:"inline-flex w-full items-center justify-center gap-2 rounded-lg border border-white/10 bg-white/10 px-4 py-2.5 text-sm font-semibold text-white transition hover:bg-white/[0.15]",children:[o.jsx(Hee,{size:18}),"Continuar con Google"]})}),o.jsxs("div",{className:"my-6 flex items-center gap-3",children:[o.jsx("div",{className:"h-px flex-1 bg-white/10"}),o.jsx("span",{className:"px-2 py-0.5 rounded-full text-[11px] text-white/70 bg-white/5 border border-white/10",children:"Usa tu correo"}),o.jsx("div",{className:"h-px flex-1 bg-white/10"})]})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",noValidate:!0,children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-white",children:"Nombre"}),o.jsx("input",{id:"name",name:"name",placeholder:"Tu nombre",value:t.name,onChange:u,className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:"Correo"}),o.jsx("input",{id:"email",name:"email",type:"email",inputMode:"email",autoComplete:"email",placeholder:"tu@email.com",value:t.email,onChange:u,className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-white",children:"Contrase√±a"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:t.password,onChange:u,className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",required:!0}),o.jsx("p",{className:"text-xs text-white/50",children:"M√≠nimo 6 caracteres."})]}),o.jsxs("div",{className:"pt-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("button",{type:"submit",disabled:a||!t.name||!t.email||!t.password,className:"flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold text-white transition-all duration-200 hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",style:{WebkitAppearance:"none",backgroundColor:"#dc2626"},children:a?"Creando‚Ä¶":"Crear cuenta"}),o.jsxs("div",{className:"text-center text-sm text-white/70 sm:text-right",children:["¬øYa tienes cuenta?"," ",o.jsx("a",{href:"/login",className:"text-white hover:underline",children:"Inicia sesi√≥n"})]})]}),o.jsx("p",{className:"pt-4 text-center text-xs text-white/50",children:"Obligados al exilio‚Ä¶ no hay abrazo que cierre lo que la dictadura parte."})]})]})]})})}const Vee={}.VITE_API_BASE_URL||"/api";function Gee(){const e=Pr(),[t,r]=P.useState(""),[n,i]=P.useState(""),[a,s]=P.useState(""),[l,c]=P.useState(!1),[u,h]=P.useState(!1),[d,f]=P.useState(""),[p,g]=P.useState(""),[m,v]=P.useState(!1);P.useEffect(()=>{const j=new URL(window.location.href).searchParams.get("token")||"";r(j)},[]);const b=async y=>{if(y.preventDefault(),f(""),g(""),!t){g("Token inv√°lido o ausente. Vuelve a solicitar el enlace.");return}if(!n||!a){g("Completa ambos campos de contrase√±a.");return}if(n.length<6){g("La contrase√±a debe tener al menos 6 caracteres.");return}if(n!==a){g("Las contrase√±as no coinciden.");return}try{v(!0);const j=await fetch(`${Vee}/password/reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,password:n})}),w=await j.json();if(!j.ok){g((w==null?void 0:w.error)||"No se pudo cambiar la contrase√±a."),v(!1);return}f("Contrase√±a actualizada. Ya puedes iniciar sesi√≥n."),setTimeout(()=>e("/login",{replace:!0}),1800)}catch{g("No se pudo conectar con el servidor.")}finally{v(!1)}};return o.jsx("main",{className:"min-h-screen bg-transparent px-4 py-10 md:px-8",children:o.jsxs("div",{className:"mx-auto max-w-3xl",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(xe,{to:"/",className:"inline-flex items-center text-sm text-white/70 hover:text-white",children:[o.jsx("span",{className:"mr-2",children:"‚Üê"})," Volver al inicio"]})}),o.jsxs("header",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"mt-3 bg-gradient-to-r from-red-500 via-red-400 to-rose-400 bg-clip-text text-3xl font-extrabold text-transparent md:text-4xl",children:"Definir nueva contrase√±a"}),o.jsx("p",{className:"mx-auto mt-2 max-w-2xl text-sm text-white/70",children:"Crea tu nueva contrase√±a para continuar."})]}),o.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg md:bg-white/10 md:backdrop-blur-md md:p-8",children:[d&&o.jsx("div",{className:"mb-4 rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-sm text-white",children:d}),p&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-900/40 bg-red-900/20 px-3 py-2 text-sm text-red-200",children:p}),o.jsxs("form",{onSubmit:b,className:"space-y-6",noValidate:!0,children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-white",children:"Nueva contrase√±a"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:l?"text":"password",autoComplete:"new-password",value:n,onChange:y=>i(y.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 pr-20 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",placeholder:"M√≠nimo 6 caracteres",required:!0}),o.jsx("button",{type:"button",onClick:()=>c(y=>!y),className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md px-2 py-1 text-xs text-white/70 hover:text-white","aria-label":l?"Ocultar contrase√±a":"Mostrar contrase√±a",children:l?"Ocultar":"Mostrar"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium text-white",children:"Confirmar contrase√±a"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"confirm",type:u?"text":"password",autoComplete:"new-password",value:a,onChange:y=>s(y.target.value),className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2.5 pr-20 text-white placeholder-white/40 outline-none transition focus:ring-2 focus:ring-red-500/60",placeholder:"Repite la contrase√±a",required:!0}),o.jsx("button",{type:"button",onClick:()=>h(y=>!y),className:"absolute right-2 top-1/2 -translate-y-1/2 rounded-md px-2 py-1 text-xs text-white/70 hover:text-white","aria-label":u?"Ocultar confirmaci√≥n":"Mostrar confirmaci√≥n",children:u?"Ocultar":"Mostrar"})]})]}),o.jsxs("div",{className:"pt-2 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("button",{type:"submit",disabled:m||!n||!a,className:"flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold text-white transition-all duration-200 hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60 sm:w-auto",style:{WebkitAppearance:"none",backgroundColor:"#dc2626"},children:m?"Guardando‚Ä¶":"Guardar nueva contrase√±a"}),o.jsxs("div",{className:"text-center text-sm text-white/70 sm:text-right",children:["¬øRecordaste tu clave?"," ",o.jsx(xe,{to:"/login",className:"text-white hover:underline",children:"Inicia sesi√≥n"})]})]}),o.jsx("p",{className:"pt-4 text-center text-xs text-white/50",children:"Obligados al exilio‚Ä¶ no hay abrazo que cierre lo que la dictadura parte."})]})]})]})})}const Kee=e=>String(e??"").trim().toLowerCase()==="true",Yee=e=>String(e??"").trim().toLowerCase()==="internal"?"internal":"external",Xee=e=>String(e||"").replace(/\/$/,""),Ys={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},ho=typeof window<"u"?window:void 0,Xs=ho&&ho.__APP_CONFIG__||{},lt={STORE_URL:Ys.VITE_STORE_URL??Xs.STORE_URL??"",USE_SHOPIFY:Kee(Ys.VITE_USE_SHOPIFY??Xs.USE_SHOPIFY??!1),SHOPIFY_API_BASE:Xee(Ys.VITE_SHOPIFY_API_BASE??Xs.SHOPIFY_API_BASE??""),STORE_MODE:Yee(Ys.VITE_STORE_MODE??Xs.STORE_MODE??"external")};function px(e){if(!e)return!1;try{const t=new URL(e).origin;return typeof window<"u"&&t!==window.location.origin}catch{return!1}}ho&&!ho.__LC_RUNTIME_LOGGED__&&(ho.__LC_RUNTIME_LOGGED__=!0,console.info("[runtimeConfig] USE_SHOPIFY =",lt.USE_SHOPIFY),console.info("[runtimeConfig] SHOPIFY_API_BASE =",lt.SHOPIFY_API_BASE),console.info("[runtimeConfig] STORE_MODE =",lt.STORE_MODE),console.info("[runtimeConfig] STORE_URL =",lt.STORE_URL||"(empty)"));function iN(){return lt.STORE_MODE}function Zee(){return lt.STORE_URL}function Jee(...e){for(const t of e){const r=(t??"").toString().trim();if(r)return r}return""}var Ax,kx,Px;const dl={fromEnv:((kx=(Ax=import.meta)==null?void 0:Ax.env)==null?void 0:kx.VITE_SHOPIFY_API_BASE)??"",fromRuntime:(lt==null?void 0:lt.SHOPIFY_API_BASE)??"",fromWindow:typeof window<"u"?((Px=window.__APP_CONFIG__)==null?void 0:Px.SHOPIFY_API_BASE)??"":""};let ci=Jee(dl.fromEnv,dl.fromRuntime,dl.fromWindow);ci||(ci="http://192.168.1.137:5000/api/shopify");ci=ci.replace(/\/$/,"");console.info("[Shopify FE] API_BASE sources:",dl);console.info("[Shopify FE] API_BASE resolved ‚Üí",ci);function aN(e){var d,f,p,g,m;const t=v=>String(v||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").replace("colour","color").replace("talla","size").replace("tamano","size").replace("tama√±o","size"),r=v=>v==null?null:typeof v=="number"?v:typeof v=="object"&&v.amount!=null?Number(v.amount):Number(v),n=(e==null?void 0:e.imageUrl)||(e==null?void 0:e.image)||((d=e==null?void 0:e.featuredImage)==null?void 0:d.url)||Array.isArray(e==null?void 0:e.images)&&((f=e.images[0])==null?void 0:f.url)||null;console.log("[DBG] raw.options:",e==null?void 0:e.options);const i=((e==null?void 0:e.options)||[]).map(v=>{console.log("[DBG] opt.name:",v==null?void 0:v.name,"opt.values:",v==null?void 0:v.values,"type:",typeof(v==null?void 0:v.values));let b=(v==null?void 0:v.values)||[];return typeof b=="string"&&(b=b.split(",").map(y=>y.trim()).filter(Boolean)),{name:(v==null?void 0:v.name)??"",key:t(v==null?void 0:v.name),values:Array.from(new Set(b.map(String)))}}),a=((e==null?void 0:e.variants)||[]).map(v=>{var x,S,N,_,C,E,O,A,k,$,I,T,R,U;const b=r(((x=v==null?void 0:v.price)==null?void 0:x.amount)??(v==null?void 0:v.price)),y=((S=v==null?void 0:v.price)==null?void 0:S.currencyCode)??((C=(_=(N=v==null?void 0:v.presentmentPrices)==null?void 0:N[0])==null?void 0:_.price)==null?void 0:C.currencyCode)??((O=(E=e==null?void 0:e.priceRangeV2)==null?void 0:E.minVariantPrice)==null?void 0:O.currencyCode)??"USD",j=((A=v==null?void 0:v.image)==null?void 0:A.src)||((k=v==null?void 0:v.image)==null?void 0:k.url)||((I=($=e==null?void 0:e.images)==null?void 0:$[0])==null?void 0:I.src)||((T=e==null?void 0:e.featuredImage)==null?void 0:T.url)||null;e!=null&&e.variants&&e.variants[0]&&e.variants[0].selectedOptions&&console.log("[DBG] v0.selectedOptions:",(U=(R=e==null?void 0:e.variants)==null?void 0:R[0])==null?void 0:U.selectedOptions);const w=((v==null?void 0:v.selectedOptions)||[]).map(D=>{const F=(D==null?void 0:D.name)??"",M=t(D==null?void 0:D.name);let L=(D==null?void 0:D.value)??"";return M==="size"&&typeof L=="string"&&L.includes(",")&&(L=""),{name:F,key:M,value:L}});return{id:v==null?void 0:v.id,price:b,currencyCode:y,available:(v==null?void 0:v.availableForSale)??(v==null?void 0:v.available)??!0,quantityAvailable:(v==null?void 0:v.quantityAvailable)??null,imageUrl:j,selectedOptions:w}}),s=Array.from(new Set(a.flatMap(v=>v.selectedOptions.map(b=>b.key)))),l=i.filter(v=>s.includes(v.key)),c=a.map(v=>v.price).filter(v=>typeof v=="number"&&!Number.isNaN(v)),u=c.length?Math.min(...c):null,h=c.length?Math.max(...c):null;return{id:e==null?void 0:e.id,title:e==null?void 0:e.title,handle:e==null?void 0:e.handle,description:(e==null?void 0:e.description)||(e==null?void 0:e.descriptionHtml)||"",imageUrl:n,options:l,variants:a,currencyCode:((g=(p=e==null?void 0:e.priceRangeV2)==null?void 0:p.minVariantPrice)==null?void 0:g.currencyCode)??((m=a==null?void 0:a[0])==null?void 0:m.currencyCode)??"USD",priceMin:u,priceMax:h}}function Qee(e){return(Array.isArray(e)?e:Array.isArray(e==null?void 0:e.products)?e.products:[]).map(aN)}async function ete(){var i,a;const e=`${ci}/products`;console.info("[Shopify FE Client] Fetching products from:",e);let t;try{t=await fetch(e,{method:"GET"}),console.log("[Shopify FE Client] Response status:",t.status,t.statusText)}catch(s){return console.error("[Shopify FE Client] ‚ùå Network error:",(s==null?void 0:s.message)||s),console.error("[Shopify FE Client] Could not connect to backend. Is the server running?"),[]}if(!t.ok){const s=await t.text().catch(()=>"");return console.error("[Shopify FE Client] ‚ùå HTTP",t.status,"‚Üí",s.slice(0,300)),[]}let r;try{r=await t.json(),console.log("[Shopify FE Client] Raw response type:",Array.isArray(r)?"array":typeof r),console.log("[Shopify FE Client] Raw response count:",Array.isArray(r)?r.length:"N/A")}catch{const s=await t.text().catch(()=>"");return console.error("[Shopify FE Client] ‚ùå Non-JSON response:",s.slice(0,300)),[]}const n=Qee(r);return console.info("[Shopify FE Client] ‚úÖ Normalized",n.length,"products"),n[0]?console.debug("[Shopify FE Client] First normalized product:",{title:n[0].title,priceMin:n[0].priceMin,priceMax:n[0].priceMax,currency:n[0].currencyCode,imageUrl:n[0].imageUrl?"‚úì presente":"‚úó ausente",options:n[0].options,variantCount:((i=n[0].variants)==null?void 0:i.length)||0,sampleVariant:(a=n[0].variants)!=null&&a[0]?{id:n[0].variants[0].id,price:n[0].variants[0].price,available:n[0].variants[0].available}:"sin variantes"}):console.warn("[Shopify FE Client] ‚ö†Ô∏è No products to display"),n}async function tte(e){var s;const t=(e||"").toString().trim().toLowerCase();if(!t)throw console.error("[Shopify FE] Handle vac√≠o"),new Error("Handle de producto requerido");const r=`${ci}/products/${encodeURIComponent(t)}`;console.info("[Shopify FE Client] Fetching product by handle:",t),console.info("[Shopify FE Client] URL:",r);let n;try{n=await fetch(r,{method:"GET",credentials:"include"}),console.log("[Shopify FE Client] Response status:",n.status,n.statusText)}catch(l){throw console.error("[Shopify FE Client] ‚ùå Network error:",(l==null?void 0:l.message)||l),new Error("Error de conexi√≥n al obtener producto")}if(n.status===404)throw console.warn("[Shopify FE Client] ‚ö†Ô∏è Producto no encontrado:",t),new Error("PRODUCT_NOT_FOUND");if(!n.ok){const l=await n.text().catch(()=>"");throw console.error("[Shopify FE Client] ‚ùå HTTP",n.status,"‚Üí",l.slice(0,300)),new Error(`Error HTTP ${n.status}`)}let i;try{i=await n.json(),console.log("[Shopify FE Client] Product data received:",i.title)}catch{const l=await n.text().catch(()=>"");throw console.error("[Shopify FE Client] ‚ùå Non-JSON response:",l.slice(0,300)),new Error("Respuesta inv√°lida del servidor")}const a=aN(i);return console.info("[Shopify FE Client] ‚úÖ Product normalized:",{title:a.title,priceMin:a.priceMin,variantCount:((s=a.variants)==null?void 0:s.length)||0,imageUrl:a.imageUrl?"‚úì":"‚úó"}),a}function oN({label:e="Volver",fallbackTo:t="/"}){const r=Pr(),n=i=>{i.preventDefault(),window.history.length>1?r(-1):r(t)};return o.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 rounded-lg border border-zinc-800 bg-zinc-900/50 hover:bg-zinc-800 px-4 py-2 text-sm text-zinc-300 hover:text-white transition-all duration-200",children:[o.jsx(no,{size:16}),e]})}oN.propTypes={label:Ce.string,fallbackTo:Ce.string};function rte(){const[e,t]=P.useState([]),[r,n]=P.useState([]),[i,a]=P.useState(["Todos"]),[s,l]=P.useState("Todos"),[c,u]=P.useState(!0);return P.useEffect(()=>{if(lt.STORE_URL&&px(lt.STORE_URL)){console.log("[Tienda] Redirigiendo a tienda externa:",lt.STORE_URL);const h=setTimeout(()=>{window.location.href=lt.STORE_URL},500);return()=>clearTimeout(h)}(async()=>{var h;try{console.log("[Tienda FE] Iniciando carga de productos desde Shopify..."),console.log("[Tienda FE] STORE_MODE:",lt.STORE_MODE),console.log("[Tienda FE] USE_SHOPIFY:",lt.USE_SHOPIFY),console.log("[Tienda FE] SHOPIFY_API_BASE:",lt.SHOPIFY_API_BASE),u(!0);const d=await ete(),f=Array.isArray(d)?d:[];console.log("[Tienda FE] Productos recibidos:",f.length),f.length>0?console.log("[Tienda FE] Primer producto:",{title:f[0].title,price:f[0].priceMin,currency:f[0].currencyCode,imageUrl:f[0].imageUrl,variants:((h=f[0].variants)==null?void 0:h.length)||0}):(console.warn("[Tienda FE] ‚ö†Ô∏è No se recibieron productos - verifica:"),console.warn("1. Que el backend est√© corriendo en",lt.SHOPIFY_API_BASE),console.warn("2. Que las credenciales de Shopify en .env sean correctas"),console.warn("3. Que haya productos activos en el canal Headless de Shopify")),t(f),n(f);const p=["Todos",...new Set(f.map(g=>g.category).filter(Boolean))];a(p),console.info("[Tienda FE] ‚úÖ Carga completada:",f.length,"productos")}catch(d){console.error("[Tienda FE] ‚ùå Error cargando productos:",(d==null?void 0:d.message)||d),console.error("[Tienda FE] Stack:",d==null?void 0:d.stack),t([]),n([]),a(["Todos"]),toast.error("Error al cargar productos. Verifica la consola para m√°s detalles.")}finally{u(!1)}})()},[]),P.useEffect(()=>{const h=e.filter(d=>s==="Todos"?!0:(d.category||"").toLowerCase()===s.toLowerCase());n(h)},[s,e]),lt.STORE_URL&&px(lt.STORE_URL)?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center max-w-md animate-fade-in",children:[o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full blur-2xl animate-pulse"}),o.jsx("div",{className:"relative bg-zinc-900 rounded-full p-6 inline-block border border-zinc-800",children:o.jsx(Rr,{size:48,className:"text-red-500"})})]}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Redirigiendo a la tienda..."}),o.jsxs("p",{className:"text-zinc-400 mb-8",children:["Est√°s siendo redirigido a nuestra tienda oficial. Si no eres redirigido autom√°ticamente,"," ",o.jsxs("a",{href:lt.STORE_URL,className:"text-red-500 hover:text-red-400 underline inline-flex items-center gap-1",children:["haz clic aqu√≠",o.jsx(sn,{size:14})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Qn,{className:"animate-spin text-red-500",size:32})}),o.jsxs("div",{className:"mt-8 px-4 py-2 bg-zinc-900/50 rounded-lg border border-zinc-800",children:[o.jsx("p",{className:"text-xs text-zinc-500",children:"Redirigiendo a:"}),o.jsx("p",{className:"text-sm text-zinc-300 font-mono break-all",children:lt.STORE_URL})]})]})}):o.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white",children:[o.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 py-12",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(oN,{label:"Volver",fallbackTo:"/"})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tienda Oficial"}),o.jsx("p",{className:"text-zinc-400",children:"Apoya la causa con nuestro merchandising exclusivo"})]})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Vh,{className:"text-zinc-400",size:20}),o.jsx("span",{className:"text-zinc-400 text-sm",children:"Filtrar por categor√≠a:"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(h=>o.jsxs("button",{onClick:()=>l(h),className:`px-4 py-2 rounded-lg transition-colors ${s===h?"bg-red-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:[h," (",h==="Todos"?e.length:e.filter(d=>(d.category||"").toLowerCase()===h.toLowerCase()).length,")"]},h))})]}),c?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Qn,{className:"animate-spin text-red-500",size:48})}):r.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full blur-3xl"}),o.jsx(Rr,{className:"relative mx-auto text-zinc-600 mb-4",size:64})]}),o.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"üõçÔ∏è No hay productos disponibles a√∫n"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-md mx-auto",children:"Estamos actualizando nuestro cat√°logo. Muy pronto tendremos productos exclusivos para ti."})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(h=>o.jsxs("div",{className:"group relative",children:[o.jsx(xe,{to:`/tienda/${h.handle}`,className:"absolute inset-0 z-10","aria-label":`Ver detalles de ${h.title}`}),o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden hover:border-red-500/50 transition-all duration-300",children:[o.jsxs("div",{className:"relative aspect-square bg-zinc-800 overflow-hidden",children:[h.imageUrl?o.jsx("img",{src:h.imageUrl,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Rr,{className:"text-zinc-700",size:48})}),o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/80 backdrop-blur-sm text-white px-3 py-1 rounded-full",children:[o.jsxs("span",{className:"text-lg font-bold",children:["$",h.priceMin||h.price||"0.00"]}),o.jsx("span",{className:"text-xs ml-1 opacity-75",children:h.currencyCode||"USD"})]})]}),o.jsxs("div",{className:"p-4 relative",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2 line-clamp-2",children:h.title}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2 mb-3",children:h.description?h.description.slice(0,100)+"...":"Sin descripci√≥n"}),o.jsx("div",{className:"relative z-20",children:o.jsxs(xe,{to:`/tienda/${h.handle}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",onClick:d=>d.stopPropagation(),children:["Ver detalles",o.jsx(Mc,{size:16})]})})]})]})]},h.id))})]})]})}const sN=P.createContext(),mx="lc_cart";function lN({children:e}){const[t,r]=P.useState([]),[n,i]=P.useState(!1);P.useEffect(()=>{try{const m=localStorage.getItem(mx);if(m){const v=JSON.parse(m);r(Array.isArray(v)?v:[])}}catch(m){console.error("[CartContext] Error cargando carrito:",m)}},[]),P.useEffect(()=>{try{localStorage.setItem(mx,JSON.stringify(t))}catch(m){console.error("[CartContext] Error guardando carrito:",m)}},[t]);const a=t.reduce((m,v)=>m+(v.quantity||1),0),s=t.reduce((m,v)=>{const b=parseFloat(v.price||0),y=parseInt(v.quantity||1);return m+b*y},0),g={items:t,count:a,total:s,isOpen:n,addItem:m=>{r(v=>{const b=v.findIndex(y=>y.productId===m.productId&&y.selectedColor===m.selectedColor&&y.selectedSize===m.selectedSize);if(b>=0){const y=[...v];return y[b].quantity+=m.quantity||1,y}else return[...v,{...m,quantity:m.quantity||1}]})},updateQuantity:(m,v)=>{v<1||v>10||r(b=>b.map(y=>y.productId===m.productId&&y.selectedColor===m.selectedColor&&y.selectedSize===m.selectedSize?{...y,quantity:v}:y))},removeItem:m=>{r(v=>v.filter(b=>!(b.productId===m.productId&&b.selectedColor===m.selectedColor&&b.selectedSize===m.selectedSize)))},clearCart:()=>{r([])},open:()=>i(!0),close:()=>i(!1),toggle:()=>i(m=>!m)};return o.jsx(sN.Provider,{value:g,children:e})}lN.propTypes={children:Ce.node.isRequired};function sm(){const e=P.useContext(sN);if(!e)throw new Error("useCart debe usarse dentro de CartProvider");return e}function nte(){var W,B;const{handle:e}=Fx(),t=Gh(),{addItem:r,open:n}=sm(),i=((W=t.state)==null?void 0:W.product)||null,[a,s]=P.useState(i),[l,c]=P.useState(!0),[u,h]=P.useState(null),[d,f]=P.useState(null),[p,g]=P.useState(null),[m,v]=P.useState(1),[b,y]=P.useState(!1),[j,w]=P.useState(0),[x,S]=P.useState(!1),N=H=>String(H||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").replace("colour","color").replace("talla","size").replace("tamano","size").replace("tama√±o","size"),_=H=>String(H??"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),C=H=>H?Array.isArray(H)?H.length===1&&typeof H[0]=="string"&&H[0].includes(",")?H[0].split(",").map(q=>q.trim()).filter(Boolean):H.map(q=>String(q).trim()).filter(Boolean):typeof H=="string"?H.split(",").map(q=>q.trim()).filter(Boolean):[]:[],E=(H,q)=>{if(!Array.isArray(H))return null;const V=N(q);for(const Y of H)if(N((Y==null?void 0:Y.key)||(Y==null?void 0:Y.name)||"")===V)return(Y==null?void 0:Y.value)||null;return null},O=(H,q)=>{const V=N(q);return((H==null?void 0:H.options)||[]).find(Y=>N((Y==null?void 0:Y.key)||(Y==null?void 0:Y.name)||"")===V)};P.useEffect(()=>{let H=!1;return(async()=>{try{console.log("[ProductoDetalle] Cargando producto con handle:",e),c(!0),h(null);const V=await tte(e);if(H)return;if(V){console.log("[ProductoDetalle] ‚úÖ Producto cargado:",V.title),s(V);const Y=O(V,"color"),J=O(V,"size");if(Y){const X=C(Y.values);f(X[0]||null)}if(J){const X=C(J.values);g(X[0]||null)}}else h("Producto no encontrado")}catch(V){if(H)return;console.error("[ProductoDetalle] ‚ùå Error:",V),V.message==="PRODUCT_NOT_FOUND"?h("Producto no encontrado"):h("Error al cargar el producto. Verifica tu conexi√≥n.")}finally{H||c(!1)}})(),()=>{H=!0}},[e]);const A=P.useMemo(()=>{var q,V;if(!a)return[null];const H=[];return(a.imageUrl||(q=a.featuredImage)!=null&&q.url)&&H.push(a.imageUrl||a.featuredImage.url),a.variants&&Array.isArray(a.variants)&&a.variants.forEach(Y=>{var X;const J=((X=Y.image)==null?void 0:X.url)||Y.imageUrl;J&&!H.includes(J)&&H.push(J)}),(V=a.images)!=null&&V.edges?a.images.edges.forEach(Y=>{var J;(J=Y.node)!=null&&J.url&&!H.includes(Y.node.url)&&H.push(Y.node.url)}):a.images&&Array.isArray(a.images)&&a.images.forEach(Y=>{const J=Y.url||Y.src||Y;J&&!H.includes(J)&&H.push(J)}),H.length>0?H:[null]},[a]),k=P.useMemo(()=>{var q;return(q=a==null?void 0:a.variants)!=null&&q.length&&(a.variants.find(V=>{const Y=E(V==null?void 0:V.selectedOptions,"color"),J=E(V==null?void 0:V.selectedOptions,"size"),X=!d||_(Y||"")===_(d),ne=!p||_(J)===_(p);return X&&ne})||a.variants[0])||null},[a,d,p]);P.useEffect(()=>{var q;if(!k)return;const H=((q=k.image)==null?void 0:q.url)||k.imageUrl;if(H&&A.length>0){const V=A.findIndex(Y=>Y===H);V>=0&&w(V)}},[k,A]);const $=P.useMemo(()=>{var q,V,Y;const H=((q=k==null?void 0:k.price)==null?void 0:q.amount)||(k==null?void 0:k.price);return typeof H=="number"&&!Number.isNaN(H)?H:a!=null&&a.price?parseFloat(a.price):(Y=(V=a==null?void 0:a.priceRange)==null?void 0:V.minVariantPrice)!=null&&Y.amount?parseFloat(a.priceRange.minVariantPrice.amount):null},[k,a]),I=$!=null?Number($).toFixed(2):null,T=(a==null?void 0:a.currencyCode)||((B=k==null?void 0:k.price)==null?void 0:B.currencyCode)||"USD",R=()=>{var q,V;y(!0);const H={productId:a.id,handle:a.handle,title:a.title,price:$,currency:T,image:((q=k==null?void 0:k.image)==null?void 0:q.url)||(k==null?void 0:k.imageUrl)||a.imageUrl||((V=a.featuredImage)==null?void 0:V.url)||"",quantity:m,selectedColor:d,selectedSize:p,variant:k};r(H),ue.success(o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:o.jsx(ym,{size:24,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:"¬°Producto agregado!"}),o.jsx("p",{className:"text-sm text-gray-200",children:a.title}),o.jsxs("p",{className:"text-xs text-gray-300",children:[d&&`Color: ${d}`,d&&p&&" ‚Ä¢ ",p&&`Talla: ${p}`]})]})]}),{duration:3e3,position:"bottom-right",style:{background:"#18181b",border:"1px solid #27272a",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},icon:null}),S(!0),setTimeout(()=>{n()},800),setTimeout(()=>{y(!1),S(!1),v(1)},1500)},U=()=>{m<10&&v(m+1)},D=()=>{m>1&&v(m-1)},F=P.useMemo(()=>{const H=(a==null?void 0:a.descriptionHtml)||(a==null?void 0:a.description)||"";return H?Kt.sanitize(H,{ALLOWED_TAGS:["p","ul","li","br","strong","em","b","i"],ALLOWED_ATTR:["class"]}):'<p class="text-zinc-400">Este producto no tiene descripci√≥n disponible.</p>'},[a]);if(l)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Qn,{className:"animate-spin text-red-500 mx-auto mb-4",size:48}),o.jsx("p",{className:"text-zinc-400",children:"Cargando producto..."})]})});if(u||!a)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(vm,{className:"text-zinc-600 mx-auto mb-4",size:64}),o.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"‚ùå Producto no encontrado"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"El producto que buscas no est√° disponible o no existe."}),o.jsxs(xe,{to:"/tienda",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[o.jsx(no,{size:20}),"Volver a la tienda"]})]})});const M=O(a,"color"),L=O(a,"size"),z=C(M==null?void 0:M.values),K=C(L==null?void 0:L.values);return o.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white",children:[o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("nav",{className:"flex items-center gap-2 text-sm",children:[o.jsx(xe,{to:"/",className:"text-zinc-400 hover:text-white transition-colors",children:"Inicio"}),o.jsx("span",{className:"text-zinc-600",children:"/"}),o.jsx(xe,{to:"/tienda",className:"text-zinc-400 hover:text-white transition-colors",children:"Tienda"}),o.jsx("span",{className:"text-zinc-600",children:"/"}),o.jsx("span",{className:"text-red-500",children:a.title})]})}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{children:[o.jsx("div",{className:"aspect-square bg-zinc-900 rounded-lg overflow-hidden border border-zinc-800 mb-4",children:A[j]?o.jsx("img",{src:A[j],alt:a.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Qs,{className:"text-zinc-700",size:64})})}),A.length>1&&o.jsx("div",{className:"grid grid-cols-4 gap-2",children:A.map((H,q)=>o.jsx("button",{onClick:()=>w(q),className:`aspect-square bg-zinc-900 rounded-lg overflow-hidden border-2 transition-all ${j===q?"border-red-500":"border-zinc-800 hover:border-zinc-600"}`,children:H?o.jsx("img",{src:H,alt:`${a.title} ${q+1}`,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Qs,{className:"text-zinc-700",size:24})})},q))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mb-6",children:o.jsxs(xe,{to:"/tienda",className:"inline-flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors font-medium text-sm group",children:[o.jsx(no,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),"Volver a la Tienda"]})}),o.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-4",children:a.title}),o.jsxs("div",{className:"flex items-baseline gap-3 mb-6",children:[o.jsxs("span",{className:"text-4xl font-bold text-red-500",children:["$",I||"0.00"]}),o.jsx("span",{className:"text-lg text-zinc-400",children:T})]}),o.jsx("div",{className:"prose prose-invert max-w-none mb-8 text-zinc-300 leading-relaxed",dangerouslySetInnerHTML:{__html:F}}),z.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-sm font-medium text-zinc-400 mb-3",children:["Color: ",o.jsx("span",{className:"text-white ml-2",children:d})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(H=>o.jsx("button",{onClick:()=>f(H),className:`px-4 py-2 rounded-lg border-2 transition-all ${d===H?"bg-red-600 border-red-600 text-white":"bg-zinc-900 border-zinc-700 text-zinc-300 hover:border-red-500/50"}`,children:H},H))})]}),K.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-sm font-medium text-zinc-400 mb-3",children:["Talla: ",o.jsx("span",{className:"text-white ml-2",children:p})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(H=>o.jsx("button",{onClick:()=>g(H),className:`w-12 h-12 rounded-lg border-2 transition-all font-medium ${p===H?"bg-white border-white text-black":"bg-zinc-900 border-zinc-700 text-zinc-300 hover:border-red-500/50"}`,children:H},H))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Cantidad"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center bg-zinc-900 rounded-lg border border-zinc-700",children:[o.jsx("button",{onClick:D,className:"p-3 text-zinc-400 hover:text-white transition-colors","aria-label":"Disminuir cantidad",children:o.jsx(zx,{size:20})}),o.jsx("span",{className:"px-6 py-2 text-white font-medium min-w-[80px] text-center",children:m}),o.jsx("button",{onClick:U,className:"p-3 text-zinc-400 hover:text-white transition-colors","aria-label":"Aumentar cantidad",children:o.jsx(Lx,{size:20})})]})})]}),o.jsx("button",{onClick:R,disabled:b,className:`w-full py-4 px-6 rounded-lg font-semibold text-lg transition-all duration-300 flex items-center justify-center gap-3 ${x?"bg-green-600 text-white":"bg-red-600 hover:bg-red-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:x?o.jsxs(o.Fragment,{children:[o.jsx(ym,{size:24}),o.jsx("span",{children:"¬°Agregado al carrito!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Qs,{size:24}),o.jsx("span",{children:"Agregar al carrito"})]})}),o.jsxs("div",{className:"mt-8 space-y-4 border-t border-zinc-800 pt-8",children:[o.jsxs("div",{className:"flex items-center gap-3 text-zinc-400",children:[o.jsx(DN,{size:20}),o.jsx("span",{children:"Env√≠o a todo el mundo"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-zinc-400",children:[o.jsx(Rd,{size:20}),o.jsx("span",{children:"Compra segura"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-zinc-400",children:[o.jsx(vm,{size:20}),o.jsx("span",{children:"Producto de calidad garantizada"})]})]})]})]}),o.jsxs("div",{className:"mt-16 pt-16 border-t border-zinc-800",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Tambi√©n te puede interesar"}),o.jsxs(xe,{to:"/tienda",className:"text-red-500 hover:text-red-400 transition-colors flex items-center gap-2",children:["Ver todos los productos",o.jsx(no,{className:"rotate-180",size:20})]})]}),o.jsx("div",{className:"bg-zinc-900/50 rounded-lg p-8 text-center",children:o.jsx("p",{className:"text-zinc-400",children:"Pr√≥ximamente agregaremos m√°s productos relacionados"})})]})]})]})}function ite(){var r,n,i,a,s,l,c,u,h,d,f,p,g;const[e,t]=P.useState({});return P.useEffect(()=>{const m={}.VITE_STORE_MODE,v={}.VITE_STORE_EXTERNAL_URL,b=lt,y=iN(),j=Zee(),w={environment:{mode:"production",dev:!1,prod:!0},store:{VITE_STORE_MODE:m,VITE_STORE_EXTERNAL_URL:v,computedStoreMode:y,computedExternalUrl:j,isInternalMode:y==="internal",willShowCatalog:y==="internal",willRedirect:y==="external"&&!!j,runtimeConfig:b},allEnvVars:Object.keys({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}).filter(x=>x.startsWith("VITE_")).reduce((x,S)=>(x[S]={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[S],x),{})};t(w),console.log("[EnvDebug] Full debug info:",w)},[]),o.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-2",children:"üîç Debug de Configuraci√≥n"}),o.jsxs("p",{className:"text-zinc-400",children:["Esta p√°gina es temporal. ",o.jsx("strong",{className:"text-yellow-500",children:"ELIMINAR EN PRODUCCI√ìN"})]})]}),o.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-6",children:o.jsx("pre",{className:"text-sm overflow-x-auto text-green-400 font-mono",children:JSON.stringify(e,null,2)})}),o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-500",children:"‚ö†Ô∏è Diagn√≥stico R√°pido"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:((r=e.store)==null?void 0:r.computedStoreMode)==="internal"?"text-green-500":"text-blue-500",children:((n=e.store)==null?void 0:n.computedStoreMode)==="internal"?"üõí":"üîó"}),o.jsxs("span",{className:"text-zinc-300",children:["Modo de tienda: ",o.jsx("strong",{className:"text-white",children:((i=e.store)==null?void 0:i.computedStoreMode)||"Cargando..."})]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:(a=e.store)!=null&&a.willShowCatalog?"text-green-500":"text-yellow-500",children:(s=e.store)!=null&&s.willShowCatalog?"‚úÖ":"‚ö†Ô∏è"}),o.jsxs("span",{className:"text-zinc-300",children:["Mostrar√° cat√°logo interno: ",(l=e.store)!=null&&l.willShowCatalog?"S√ç":"NO"]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:(c=e.store)!=null&&c.willRedirect?"text-blue-500":"text-gray-500",children:(u=e.store)!=null&&u.willRedirect?"üîó":"‚Äî"}),o.jsxs("span",{className:"text-zinc-300",children:["Redirigir√° a URL externa: ",(h=e.store)!=null&&h.willRedirect?`S√ç ‚Üí ${(d=e.store)==null?void 0:d.computedExternalUrl}`:"NO"]})]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{className:(f=e.store)!=null&&f.runtimeConfig?"text-green-500":"text-red-500",children:(p=e.store)!=null&&p.runtimeConfig?"‚úÖ":"‚ùå"}),o.jsxs("span",{className:"text-zinc-300",children:["Configuraci√≥n runtime cargada: ",(g=e.store)!=null&&g.runtimeConfig?"S√ç":"NO"]})]})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2 text-blue-500",children:"üìù Instrucciones"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-zinc-300",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Modo Interno (por defecto):"})," La tienda muestra cat√°logo de productos"]}),o.jsxs("li",{children:["Para activar ",o.jsx("strong",{children:"modo externo"}),", configura en ",o.jsx("code",{className:"bg-zinc-800 px-1 py-0.5 rounded",children:".env"}),":",o.jsx("pre",{className:"bg-zinc-800 rounded p-2 mt-1 text-xs",children:"VITE_STORE_MODE=external VITE_STORE_EXTERNAL_URL=https://tu-tienda.com"})]}),o.jsxs("li",{children:["El modo interno funciona ",o.jsx("strong",{children:"sin configuraci√≥n adicional"})]}),o.jsxs("li",{children:["Despu√©s de cambiar .env, reinicia con ",o.jsx("code",{className:"bg-zinc-800 px-1 py-0.5 rounded",children:"npm run dev"})]}),o.jsxs("li",{children:["Para producci√≥n, edita ",o.jsx("code",{className:"bg-zinc-800 px-1 py-0.5 rounded",children:"/public/app-config.json"})," sin recompilar"]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"/",className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition",children:"‚Üê Volver al inicio"}),o.jsx("a",{href:"/tienda",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",children:"Probar /tienda ‚Üí"})]})]})]})})}function gx({title:e="Contenido no disponible",message:t}){return o.jsx("div",{className:"min-h-screen bg-zinc-950 text-white flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx(BN,{size:64,className:"text-red-500"})}),o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"410 - Gone"}),o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-zinc-300",children:e}),t&&o.jsx("p",{className:"text-zinc-400 mb-6 leading-relaxed",children:t}),o.jsx("p",{className:"text-zinc-400 mb-8",children:"Esta secci√≥n ha sido retirada permanentemente de la plataforma."}),o.jsx(xe,{to:"/",className:"inline-block bg-red-600 hover:bg-red-700 text-white font-semibold px-8 py-3 rounded-lg transition-colors duration-200",children:"Volver al inicio"})]})})}const ate=iN();console.log("[routes] storeMode =",ate);function ote(){return o.jsxs(Bx,{children:[o.jsx(qe,{path:"/",element:o.jsx(h_,{})}),o.jsx(qe,{path:"/about",element:o.jsx(p_,{})}),o.jsx(qe,{path:"/suscribete",element:o.jsx(m_,{})}),o.jsx(qe,{path:"/denuncias",element:o.jsx(D_,{})}),o.jsx(qe,{path:"/noticias",element:o.jsx(H_,{})}),o.jsx(qe,{path:"/noticias/:id",element:o.jsx(Dee,{})}),o.jsx(qe,{path:"/romper",element:o.jsx(ME,{})}),o.jsx(qe,{path:"/videos",element:o.jsx(gx,{title:"Videos",message:"La secci√≥n de videos ha sido retirada de la plataforma."})}),o.jsx(qe,{path:"/podcast",element:o.jsx(gx,{title:"Podcast",message:"La secci√≥n de podcast ha sido retirada de la plataforma."})}),o.jsx(qe,{path:"/tienda",element:o.jsx(rte,{})}),o.jsx(qe,{path:"/tienda/:handle",element:o.jsx(nte,{})}),o.jsx(qe,{path:"/__env",element:o.jsx(ite,{})}),o.jsx(qe,{path:"/contacto",element:o.jsx(zE,{})}),o.jsx(qe,{path:"/donar",element:o.jsx(YE,{})}),o.jsx(qe,{path:"/donar/success",element:o.jsx(XE,{})}),o.jsx(qe,{path:"/donar/cancel",element:o.jsx(ZE,{})}),o.jsx(qe,{path:"/forgot-password",element:o.jsx(qee,{})}),o.jsx(qe,{path:"/login",element:o.jsx(Uee,{})}),o.jsx(qe,{path:"/registro",element:o.jsx(Wee,{})}),o.jsx(qe,{path:"/reset-password",element:o.jsx(Gee,{})}),o.jsx(qe,{path:"/admin/login",element:o.jsx($ee,{})}),o.jsx(qe,{path:"/admin/*",element:o.jsx(Bee,{requireAdmin:!0,children:o.jsx(Cee,{})})})]})}function cN(){const{pathname:e}=Gh();return P.useEffect(()=>{if("scrollRestoration"in window.history){const t=window.history.scrollRestoration;return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration=t}}},[]),P.useEffect(()=>{window.scrollTo(0,0),setTimeout(()=>window.scrollTo(0,0),0)},[e]),null}function ste(){const{count:e,open:t}=sm();return e===0?null:o.jsxs("button",{onClick:t,className:"fixed bottom-6 right-6 z-50 bg-red-600 hover:bg-red-700 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110 group","aria-label":"Ver carrito",children:[o.jsx(Qs,{size:24,className:"group-hover:scale-110 transition-transform"}),e>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center border-2 border-zinc-950 animate-pulse",children:e>9?"9+":e})]})}function lte(){const{items:e,count:t,total:r,isOpen:n,close:i,updateQuantity:a,removeItem:s,clearCart:l}=sm(),[c,u]=P.useState(!1),h=async()=>{var f,p,g,m,v,b,y;if(e.length===0){ue.error("El carrito est√° vac√≠o");return}u(!0);const d=/Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent);try{console.log("[CartDrawer] Starting checkout process...",{itemCount:e.length,isMobile:d});const j=await fetch(`${{}.VITE_API_BASE||"http://localhost:5000"}/api/shopify/cart`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!j.ok){const E=await j.json().catch(()=>({}));throw new Error(E.message||`HTTP ${j.status}`)}const{cartId:w,checkoutUrl:x}=await j.json(),S=e.map(E=>{var O;return{merchandiseId:((O=E.variant)==null?void 0:O.id)||E.productId,quantity:E.quantity}});console.log("[CartDrawer] Adding lines to cart...",{lineCount:S.length});const N=await fetch(`${{}.VITE_API_BASE||"http://localhost:5000"}/api/shopify/cart/lines`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({cartId:w,lines:S})});if(!N.ok){const E=await N.json().catch(()=>({}));throw new Error(E.message||"Error agregando productos")}const{checkoutUrl:_}=await N.json(),C=_||x;console.log("[CartDrawer] ‚úÖ Checkout URL obtained, redirecting...",{isMobile:d}),window.location.href=C}catch(j){console.error("[CartDrawer] ‚ùå Backend checkout failed:",j.message),console.log("[CartDrawer] Attempting fallback checkout...");try{const w={}.VITE_SHOPIFY_STORE_DOMAIN||((f=window.__APP_CONFIG__)==null?void 0:f.SHOPIFY_STORE_DOMAIN)||"i1jlfx-b5.myshopify.com",x={}.VITE_SHOPIFY_STOREFRONT_TOKEN||((p=window.__APP_CONFIG__)==null?void 0:p.SHOPIFY_STOREFRONT_TOKEN)||"289a67a37f66e598fb381fff10de1ade",N=`https://${w}/api/2024-01/graphql.json`,_=e.map($=>{var I;return{merchandiseId:((I=$.variant)==null?void 0:I.id)||$.productId,quantity:$.quantity||1}});console.log("[CartDrawer Fallback] Creating cart with Storefront API...",{endpoint:N,lineCount:_.length});const E=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":x},body:JSON.stringify({query:`
          mutation CartCreate($input: CartInput!) {
            cartCreate(input: $input) {
              cart {
                id
                checkoutUrl
              }
              userErrors {
                field
                message
              }
            }
          }
        `,variables:{input:{lines:_}}})});if(!E.ok)throw new Error(`Storefront API error: ${E.status}`);const O=await E.json();if(O.errors)throw console.error("[CartDrawer Fallback] GraphQL errors:",O.errors),new Error(O.errors.map($=>$.message).join("; "));const A=(m=(g=O.data)==null?void 0:g.cartCreate)==null?void 0:m.userErrors;if(A&&A.length>0)throw console.error("[CartDrawer Fallback] User errors:",A),new Error(A.map($=>$.message).join("; "));const k=(y=(b=(v=O.data)==null?void 0:v.cartCreate)==null?void 0:b.cart)==null?void 0:y.checkoutUrl;if(!k)throw new Error("No se obtuvo checkoutUrl del fallback");console.log("[CartDrawer Fallback] ‚úÖ Checkout URL obtained via fallback"),window.location.href=k}catch(w){console.error("[CartDrawer Fallback] ‚ùå Failed:",w),ue.error(`Error al procesar el checkout: ${w.message}. Verifica tu conexi√≥n e intenta de nuevo.`,{duration:5e3}),u(!1)}}};return n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:i}),o.jsxs("div",{className:"fixed inset-y-0 right-0 w-full sm:w-[400px] bg-zinc-900 shadow-2xl z-50 flex flex-col animate-slide-in-right",children:[o.jsxs("div",{className:"p-6 border-b border-zinc-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rr,{className:"text-red-500",size:24}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Tu Carrito"}),o.jsxs("p",{className:"text-sm text-zinc-400",children:[t," ",t===1?"producto":"productos"]})]})]}),o.jsx("button",{onClick:i,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors","aria-label":"Cerrar carrito",children:o.jsx(Ut,{className:"text-zinc-400",size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[o.jsx(Rr,{className:"text-zinc-600 mb-4",size:64}),o.jsx("p",{className:"text-zinc-400 text-lg mb-2",children:"Tu carrito est√° vac√≠o"}),o.jsx("p",{className:"text-zinc-500 text-sm",children:"Agrega productos desde la tienda"})]}):o.jsxs(o.Fragment,{children:[e.map((d,f)=>o.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 flex gap-4",children:[o.jsx("div",{className:"w-20 h-20 bg-zinc-700 rounded-lg overflow-hidden flex-shrink-0",children:d.image?o.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Rr,{className:"text-zinc-600",size:24})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-white font-medium text-sm mb-1 truncate",children:d.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400 mb-2",children:[d.selectedColor&&o.jsx("span",{className:"px-2 py-0.5 bg-zinc-700 rounded",children:d.selectedColor}),d.selectedSize&&o.jsx("span",{className:"px-2 py-0.5 bg-zinc-700 rounded",children:d.selectedSize})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 bg-zinc-700 rounded",children:[o.jsx("button",{onClick:()=>a(d,d.quantity-1),className:"p-1.5 hover:bg-zinc-600 rounded transition-colors",disabled:d.quantity<=1,children:o.jsx(zx,{size:14,className:"text-zinc-300"})}),o.jsx("span",{className:"px-3 text-white text-sm font-medium",children:d.quantity}),o.jsx("button",{onClick:()=>a(d,d.quantity+1),className:"p-1.5 hover:bg-zinc-600 rounded transition-colors",disabled:d.quantity>=10,children:o.jsx(Lx,{size:14,className:"text-zinc-300"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-red-500 font-bold",children:["$",(parseFloat(d.price||0)*d.quantity).toFixed(2)]}),o.jsx("button",{onClick:()=>{s(d),ue.success("Producto eliminado")},className:"p-1.5 hover:bg-red-500/20 rounded transition-colors",children:o.jsx(vr,{size:14,className:"text-red-500"})})]})]})]})]},`${d.productId}-${d.selectedColor}-${d.selectedSize}-${f}`)),e.length>0&&o.jsx("button",{onClick:()=>{window.confirm("¬øEst√°s seguro de vaciar el carrito?")&&(l(),ue.success("Carrito vaciado"))},className:"w-full text-center text-sm text-zinc-500 hover:text-red-500 transition-colors py-2",children:"Vaciar carrito"})]})}),e.length>0&&o.jsxs("div",{className:"p-6 border-t border-zinc-800 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-lg",children:[o.jsx("span",{className:"text-zinc-400",children:"Total:"}),o.jsxs("span",{className:"text-white font-bold text-2xl",children:["$",r.toFixed(2)," USD"]})]}),o.jsx("button",{onClick:h,disabled:c,className:"w-full bg-red-600 hover:bg-red-700 text-white py-4 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Procesando..."]}):o.jsxs(o.Fragment,{children:["Proceder al pago",o.jsx(sn,{size:18})]})}),o.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Ser√°s redirigido a Shopify para completar tu compra de forma segura"})]})]})]}):null}function cte(){return P.useEffect(()=>{const e=()=>{const t=document.querySelector("#app-header"),r=(t==null?void 0:t.offsetHeight)||64;document.documentElement.style.setProperty("--nav-h",`${r}px`)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),o.jsxs("div",{className:"flex flex-col min-h-screen bg-zinc-950",children:[o.jsx(yO,{}),o.jsx(cN,{}),o.jsxs("main",{className:"flex-grow",children:[o.jsx(ote,{})," "]}),o.jsx(bO,{}),o.jsx(ste,{}),o.jsx(lte,{})]})}const Ae=e=>typeof e=="string",Qa=()=>{let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r},vx=e=>e==null?"":""+e,ute=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},dte=/###/g,yx=e=>e&&e.indexOf("###")>-1?e.replace(dte,"."):e,bx=e=>!e||Ae(e),po=(e,t,r)=>{const n=Ae(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(bx(e))return{};const a=yx(n[i]);!e[a]&&r&&(e[a]=new r),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return bx(e)?{}:{obj:e,k:yx(n[i])}},xx=(e,t,r)=>{const{obj:n,k:i}=po(e,t,Object);if(n!==void 0||t.length===1){n[i]=r;return}let a=t[t.length-1],s=t.slice(0,t.length-1),l=po(e,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=po(e,s,Object),l&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},fte=(e,t,r,n)=>{const{obj:i,k:a}=po(e,t,Object);i[a]=i[a]||[],i[a].push(r)},Tc=(e,t)=>{const{obj:r,k:n}=po(e,t);if(r)return r[n]},hte=(e,t,r)=>{const n=Tc(e,r);return n!==void 0?n:Tc(t,r)},uN=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Ae(e[n])||e[n]instanceof String||Ae(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):uN(e[n],t[n],r):e[n]=t[n]);return e},wi=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const mte=e=>Ae(e)?e.replace(/[&<>"'\/]/g,t=>pte[t]):e;class gte{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const vte=[" ",",","?","!",";"],yte=new gte(20),bte=(e,t,r)=>{t=t||"",r=r||"";const n=vte.filter(s=>t.indexOf(s)<0&&r.indexOf(s)<0);if(n.length===0)return!0;const i=yte.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(e);if(!a){const s=e.indexOf(r);s>0&&!i.test(e.substring(0,s))&&(a=!0)}return a},Hh=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let i=e;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=s}return i},Cc=e=>e&&e.replace("_","-"),xte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class $c{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||xte,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,i){return i&&!this.debug?null:(Ae(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new $c(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new $c(this.logger,t)}}var Lr=new $c;class Fu{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(s=>{let[l,c]=s;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[l,c]=s;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class wx extends Fu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Ae(n)&&a?l.push(...n.split(a)):l.push(n)));const c=Tc(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!s||!Ae(n)?c:Hh(this.data&&this.data[t]&&this.data[t][r],n,a)}addResource(t,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(s?n.split(s):n)),t.indexOf(".")>-1&&(l=t.split("."),i=r,r=l[1]),this.addNamespaces(r),xx(this.data,l,i),a.silent||this.emit("added",t,r,n,i)}addResources(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(Ae(n[a])||Array.isArray(n[a]))&&this.addResource(t,r,a,n[a],{silent:!0});i.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=Tc(this.data,l)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?uN(c,n,a):c={...c,...n},xx(this.data,l,c),s.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var dN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(a=>{this.processors[a]&&(t=this.processors[a].process(t,r,n,i))}),t}};const jx={};class Ic extends Fu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ute(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Lr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const s=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!bte(t,n,i);if(s&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Ae(a)?[a]:a};const u=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),t=u.join(i)}return{key:t,namespaces:Ae(a)?[a]:a}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(h){const w=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${w}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${w}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:s}const d=this.resolve(t,r);let f=d&&d.res;const p=d&&d.usedKey||s,g=d&&d.exactUsedKey||s,m=Object.prototype.toString.apply(f),v=["[object Number]","[object Function]","[object RegExp]"],b=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,j=!Ae(f)&&typeof f!="boolean"&&typeof f!="number";if(y&&f&&j&&v.indexOf(m)<0&&!(Ae(b)&&Array.isArray(f))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...r,ns:l}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(d.res=w,d.usedParams=this.getUsedParamsDetails(r),d):w}if(a){const w=Array.isArray(f),x=w?[]:{},S=w?g:p;for(const N in f)if(Object.prototype.hasOwnProperty.call(f,N)){const _=`${S}${a}${N}`;x[N]=this.translate(_,{...r,joinArrays:!1,ns:l}),x[N]===_&&(x[N]=f[N])}f=x}}else if(y&&Ae(b)&&Array.isArray(f))f=f.join(b),f&&(f=this.extendTranslation(f,t,r,n));else{let w=!1,x=!1;const S=r.count!==void 0&&!Ae(r.count),N=Ic.hasDefaultValue(r),_=S?this.pluralResolver.getSuffix(u,r.count,r):"",C=r.ordinal&&S?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",E=S&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),O=E&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${_}`]||r[`defaultValue${C}`]||r.defaultValue;!this.isValidLookup(f)&&N&&(w=!0,f=O),this.isValidLookup(f)||(x=!0,f=s);const k=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:f,$=N&&O!==f&&this.options.updateMissing;if(x||w||$){if(this.logger.log($?"updateKey":"missingKey",u,c,s,$?O:f),a){const U=this.resolve(s,{...r,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const T=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&T&&T[0])for(let U=0;U<T.length;U++)I.push(T[U]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(r.lng||this.language):I.push(r.lng||this.language);const R=(U,D,F)=>{const M=N&&F!==f?F:k;this.options.missingKeyHandler?this.options.missingKeyHandler(U,c,D,M,$,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,c,D,M,$,r),this.emit("missingKey",U,c,D,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?I.forEach(U=>{const D=this.pluralResolver.getSuffixes(U,r);E&&r[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(F=>{R([U],s+F,r[`defaultValue${F}`]||O)})}):R(I,s,O))}f=this.extendTranslation(f,t,r,d,n),x&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${c}:${s}`),(x||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,w?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(d.res=f,d.usedParams=this.getUsedParamsDetails(r),d):f}extendTranslation(t,r,n,i,a){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Ae(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const f=t.match(this.interpolator.nestingRegexp);h=f&&f.length}let d=n.replace&&!Ae(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,n.lng||this.language||i.usedLng,n),u){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;h<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return a&&a[0]===p[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):s.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=Ae(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=dN.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,s,l;return Ae(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),h=u.key;i=h;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=r.count!==void 0&&!Ae(r.count),p=f&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),g=r.context!==void 0&&(Ae(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(v=>{this.isValidLookup(n)||(l=v,!jx[`${m[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(jx[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(b=>{if(this.isValidLookup(n))return;s=b;const y=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,h,b,v,r);else{let w;f&&(w=this.pluralResolver.getSuffix(b,r.count,r));const x=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(y.push(h+w),r.ordinal&&w.indexOf(S)===0&&y.push(h+w.replace(S,this.options.pluralSeparator)),p&&y.push(h+x)),g){const N=`${h}${this.options.contextSeparator}${r.context}`;y.push(N),f&&(y.push(N+w),r.ordinal&&w.indexOf(S)===0&&y.push(N+w.replace(S,this.options.pluralSeparator)),p&&y.push(N+x))}}let j;for(;j=y.pop();)this.isValidLookup(n)||(a=j,n=this.getResource(b,v,j,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,i):this.resourceStore.getResource(t,r,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Ae(t.replace);let i=n?t.replace:t;if(n&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Md=e=>e.charAt(0).toUpperCase()+e.slice(1);class Sx{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}getScriptPartFromCode(t){if(t=Cc(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Cc(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Ae(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Md(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Md(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Md(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Ae(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Ae(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):Ae(t)&&a(this.formatLanguageCode(t)),n.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}let wte=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jte={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Ste=["v1","v2","v3"],Nte=["v4"],Nx={zero:0,one:1,two:2,few:3,many:4,other:5},Ote=()=>{const e={};return wte.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:jte[t.fc]}})}),e};class _te{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Lr.create("pluralResolver"),(!this.options.compatibilityJSON||Nte.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Ote(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Cc(t==="dev"?"en":t),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(n,{type:i})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(c,r)}return this.pluralRulesCache[a]=s,s}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(i=>`${r}${i}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>Nx[i]-Nx[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(t,i,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let i=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Ste.includes(this.options.compatibilityJSON)}}const Ox=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=hte(e,t,r);return!a&&i&&Ae(r)&&(a=Hh(e,r,n),a===void 0&&(a=Hh(t,r,n))),a},zd=e=>e.replace(/\$/g,"$$$$");class Ete{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:b,alwaysFormat:y}=t.interpolation;this.escape=r!==void 0?r:mte,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?wi(a):s||"{{",this.suffix=l?wi(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=f?wi(f):p||wi("$t("),this.nestingSuffix=g?wi(g):m||wi(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=b||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const b=Ox(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...i,...r,interpolationkey:p}):b}const g=p.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(Ox(r,c,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...i,...r,interpolationkey:m})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>zd(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?zd(this.escape(p)):zd(p)}].forEach(p=>{for(l=0;a=p.regex.exec(t);){const g=a[1].trim();if(s=u(g),s===void 0)if(typeof h=="function"){const v=h(t,a,i);s=Ae(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))s="";else if(d){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),s="";else!Ae(s)&&!this.useRawValueToEscape&&(s=vx(s));const m=p.safeValue(s);if(t=t.replace(a[0],m),d?(p.regex.lastIndex+=s.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,s;const l=(c,u)=>{const h=this.nestingOptionsSeparator;if(c.indexOf(h)<0)return c;const d=c.split(new RegExp(`${h}[ ]*{`));let f=`{${d[1]}`;c=d[0],f=this.interpolate(f,s);const p=f.match(/'/g),g=f.match(/"/g);(p&&p.length%2===0&&!g||g.length%2!==0)&&(f=f.replace(/'/g,'"'));try{s=JSON.parse(f),u&&(s={...u,...s})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${h}${f}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];s={...n},s=s.replace&&!Ae(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const h=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=h.shift(),c=h,u=!0}if(a=r(l.call(this,i[1].trim(),s),s),a&&i[0]===t&&!Ae(a))return a;Ae(a)||(a=vx(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),u&&(a=c.reduce((h,d)=>this.format(h,d,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const Ate=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);t==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();r[h]||(r[h]=u),u==="false"&&(r[h]=!1),u==="true"&&(r[h]=!0),isNaN(u)||(r[h]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},ji=e=>{const t={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=n+JSON.stringify(a);let l=t[s];return l||(l=e(Cc(n),i),t[s]=l),l(r)}};class kte{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Lr.create("formatter"),this.options=t,this.formats={number:ji((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return a=>i.format(a)}),currency:ji((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return a=>i.format(a)}),datetime:ji((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return a=>i.format(a)}),relativetime:ji((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return a=>i.format(a,n.range||"day")}),list:ji((r,n)=>{const i=new Intl.ListFormat(r,{...n});return a=>i.format(a)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=ji(r)}format(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:u,formatOptions:h}=Ate(c);if(this.formats[u]){let d=l;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=f.locale||f.lng||i.locale||i.lng||n;d=this.formats[u](l,p,{...h,...i,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Pte=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Tte extends Fu{constructor(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Lr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,r,n,i){const a={},s={},l={},c={};return t.forEach(u=>{let h=!0;r.forEach(d=>{const f=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?s[f]===void 0&&(s[f]=!0):(this.state[f]=1,h=!1,s[f]===void 0&&(s[f]=!0),a[f]===void 0&&(a[f]=!0),c[d]===void 0&&(c[d]=!0)))}),h||(l[u]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const i=t.split("|"),a=i[0],s=i[1];r&&this.emit("failedLoading",a,s,r),!r&&n&&this.store.addResourceBundle(a,s,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{fte(c.loaded,[a],s),Pte(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const h=c.loaded[u];h.length&&h.forEach(d=>{l[u][d]===void 0&&(l[u][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,i+1,a*2,s)},a);return}s(u,h)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ae(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Ae(r)&&(r=[r]);const a=this.queueLoad(t,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(t,s,l)})}saveMissing(t,r,n,i,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let h;u.length===5?h=u(t,r,n,i,c):h=u(t,r,n,i),h&&typeof h.then=="function"?h.then(d=>l(null,d)).catch(l):l(null,h)}catch(h){l(h)}else u(t,r,n,i,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,i)}}}const _x=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Ae(e[1])&&(t.defaultValue=e[1]),Ae(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Ex=e=>(Ae(e.ns)&&(e.ns=[e.ns]),Ae(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Ae(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Zs=()=>{},Cte=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class ns extends Fu{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Ex(t),this.services={},this.logger=Lr,this.modules={external:[]},Cte(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(Ae(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=_x();this.options={...i,...this.options,...Ex(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Lr.init(a(this.modules.logger),this.options):Lr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl<"u"&&(h=kte);const d=new Sx(this.options);this.store=new wx(this.options.resources,this.options);const f=this.services;f.logger=Lr,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new _te(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=a(h),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ete(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Tte(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];t.emit(p,...m)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ic(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];t.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Zs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return t.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return t.store[h](...arguments),t}});const c=Qa(),u=()=>{const h=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),n(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zs;const i=Ae(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const i=Qa();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Zs),this.services.backendConnector.reload(t,r,a=>{i.resolve(),n(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&dN.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const i=Qa();this.emit("languageChanging",t);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=Ae(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,r,n){var i=this;const a=function(s,l){let c;if(typeof l!="object"){for(var u=arguments.length,h=new Array(u>2?u-2:0),d=2;d<u;d++)h[d-2]=arguments[d];c=i.options.overloadTranslationOptionHandler([s,l].concat(h))}else c={...l};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const f=i.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(s)?p=s.map(g=>`${c.keyPrefix}${f}${g}`):p=c.keyPrefix?`${c.keyPrefix}${f}${s}`:s,i.t(p,c)};return Ae(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,t)&&(!i||s(a,t)))}loadNamespaces(t,r){const n=Qa();return this.options.ns?(Ae(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Qa();Ae(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Sx(_x());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new ns(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zs;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new ns(i);return(t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new wx(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Ic(a.services,i),a.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];a.emit(l,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const zt=ns.createInstance();zt.createInstance=ns.createInstance;zt.createInstance;zt.dir;zt.init;zt.loadResources;zt.reloadResources;zt.use;zt.changeLanguage;zt.getFixedT;zt.t;zt.exists;zt.setDefaultNamespace;zt.hasLoadedNamespace;zt.loadNamespaces;zt.loadLanguages;const $te="The truth shall be free!",Ite="Where there is tyranny, freedom has the right to rise.",Mte="Welcome to LevantateCuba, a platform to report, inform, and raise your voice against the abuses of the Cuban regime.",zte={question:"Do you have a story to tell?",button:"Break the silence",alt:"Or",subscribe:"Subscribe to receive updates"},Lte={news:{title:"News",text:"Updated reports on Cuban reality without censorship."},reports:{title:"Reports",text:"Testimonies and direct evidence from the oppressed people."},videos:{title:"Videos",text:"Documentaries, protests, and visual material not shown on TV."},podcast:{title:"Podcast",text:"Audio stories, analysis, and voices from exile."}},Rte={title:"Here the truth begins",quote:"Forced into exile... there is no hug that can mend what the dictatorship breaks."},Dte="Contact us",Bte="¬© 2025 LevantateCuba. All rights reserved.",Fte="About me",qte="I am the creator of this platform...",Ute="Report the abuses of the regime",Hte="Your name (optional)",Wte="Ex: Juan P√©rez or Anonymous",Vte="Your testimony",Gte="Describe what you experienced or witnessed here...",Kte="Upload image or evidence (optional)",Yte="Send report",Xte="Thank you for your bravery! Your report has been received.",Zte={title:$te,quote:Ite,welcome:Mte,cta:zte,sections:Lte,gallery:Rte,contact:Dte,footerCredits:Bte,aboutTitle:Fte,aboutContent:qte,report_title:Ute,name:Hte,optional_name:Wte,testimony:Vte,testimony_placeholder:Gte,upload:Kte,send:Yte,thanks:Xte},Jte="¬°La verdad ser√° libre!",Qte="Donde hay tiran√≠a, la libertad tiene derecho a alzarse.",ere="Bienvenido a LevantateCuba, una plataforma para denunciar, informar y levantar la voz contra los abusos del r√©gimen cubano.",tre={question:"¬øTienes una historia que contar?",button:"Romper el silencio",alt:"O",subscribe:"Suscr√≠bete para recibir actualizaciones"},rre={news:{title:"Noticias",text:"Reportes actualizados sobre la realidad cubana sin censura."},reports:{title:"Denuncias",text:"Testimonios y evidencias directas del pueblo oprimido."},videos:{title:"Videos",text:"Documentales, protestas y material gr√°fico que no se ve en la TV."},podcast:{title:"Podcast",text:"Historias en audio, an√°lisis y voces del exilio."}},nre={title:"Aqu√≠ comienza la verdad",quote:"Obligados al exilio... no hay abrazo que cierre lo que la dictadura parte."},ire="Cont√°ctanos",are="¬© 2025 LevantateCuba. Todos los derechos reservados.",ore="Sobre m√≠",sre="Soy el creador de esta plataforma...",lre="Denuncia los abusos del r√©gimen",cre="Tu nombre (opcional)",ure="Ej: Juan P√©rez o An√≥nimo",dre="Tu denuncia",fre="Describe aqu√≠ lo que viviste o presenciaste...",hre="Subir imagen o evidencia (opcional)",pre="Enviar denuncia",mre="¬°Gracias por tu valent√≠a! Tu denuncia ha sido recibida.",gre={title:Jte,quote:Qte,welcome:ere,cta:tre,sections:rre,gallery:nre,contact:ire,footerCredits:are,aboutTitle:ore,aboutContent:sre,report_title:lre,name:cre,optional_name:ure,testimony:dre,testimony_placeholder:fre,upload:hre,send:pre,thanks:mre};zt.use(TO).init({resources:{en:{translation:Zte},es:{translation:gre}},lng:"es",fallbackLng:"es",interpolation:{escapeValue:!1}});const vre=qd.createRoot(document.getElementById("root"));vre.render(o.jsx(G.StrictMode,{children:o.jsx(Kx,{children:o.jsx(qN,{children:o.jsxs(lN,{children:[o.jsx(cN,{}),o.jsx(cte,{}),o.jsx(IE,{position:"top-right",reverseOrder:!1,toastOptions:{style:{background:"#18181b",color:"#f4f4f5",border:"1px solid #27272a",borderRadius:"0.75rem",padding:"12px 16px"},success:{iconTheme:{primary:"#22c55e",secondary:"#18181b"},duration:3e3},error:{iconTheme:{primary:"#ef4444",secondary:"#18181b"},duration:4e3},loading:{iconTheme:{primary:"#3b82f6",secondary:"#18181b"}}}})]})})})}));

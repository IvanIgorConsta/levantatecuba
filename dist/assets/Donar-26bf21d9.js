import{o as I,l as V,r as d,j as e}from"./index-1606e3a6.js";var N="basil",H=function(r){return r===3?"v3":r},E="https://js.stripe.com",U="".concat(E,"/").concat(N,"/stripe.js"),M=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,G=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,S="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",q=function(r){return M.test(r)||G.test(r)},_=function(){for(var r=document.querySelectorAll('script[src^="'.concat(E,'"]')),t=0;t<r.length;t++){var s=r[t];if(q(s.src))return s}return null},y=function(r){var t=r&&!r.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(U).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},O=function(r,t){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},p=null,v=null,g=null,B=function(r){return function(t){r(new Error("Failed to load Stripe.js",{cause:t}))}},F=function(r,t){return function(){window.Stripe?r(window.Stripe):t(new Error("Stripe.js not available"))}},D=function(r){return p!==null?p:(p=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&r&&console.warn(S),window.Stripe){t(window.Stripe);return}try{var a=_();if(a&&r)console.warn(S);else if(!a)a=y(r);else if(a&&g!==null&&v!==null){var l;a.removeEventListener("load",g),a.removeEventListener("error",v),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=y(r)}g=F(t,s),v=B(s),a.addEventListener("load",g),a.addEventListener("error",v)}catch(c){s(c);return}}),p.catch(function(t){return p=null,Promise.reject(t)}))},J=function(r,t,s){if(r===null)return null;var a=t[0],l=a.match(/^pk_test/),c=H(r.version),x=N;l&&c!==x&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(x,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=r.apply(void 0,t);return O(m,s),m},h,z=!1,C=function(){return h||(h=D(null).catch(function(r){return h=null,Promise.reject(r)}),h)};Promise.resolve().then(function(){return C()}).catch(function(o){z||console.warn(o)});var W=function(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];z=!0;var a=Date.now();return C().then(function(l){return J(l,t,a)})};W("pk_test_51QqeowEHDG8US3JEvxSPduyR9Sq6fOGahimyfgGjVyQOztcmAkuoGeA4eao2khqnpIh06cLdw0KngohBADPMEU0U00kMZHRutm");function K(){const[o]=I(),r=V(),[t,s]=d.useState(10),[a,l]=d.useState(""),[c,x]=d.useState(!1),[m,f]=d.useState(!1),[w,u]=d.useState(""),[P,k]=d.useState(!1),[R,j]=d.useState(!1),L=[5,10,25,50,100];d.useEffect(()=>{const n=o.get("success");o.get("amount");const i=o.get("canceled");n==="true"&&(k(!0),j(!0),setTimeout(()=>{r("/donar",{replace:!0})},5e3)),i==="true"&&u("Has cancelado el proceso de donaci√≥n. ¬°Puedes intentarlo cuando quieras!")},[o,r]),d.useEffect(()=>{j(!0);const n=setTimeout(()=>j(!1),1e3);return()=>clearTimeout(n)},[]);const A=n=>{s(n),x(!1),l(""),u("")},T=n=>{const i=n.target.value;(/^\d*\.?\d*$/.test(i)||i==="")&&(l(i),x(!0),i&&parseFloat(i)>0&&(s(parseFloat(i)),u("")))},$=async()=>{f(!0),u("");try{const n=c?parseFloat(a):t;if(!n||n<1){u("El monto m√≠nimo de donaci√≥n es $1"),f(!1);return}if(n>1e4){u("El monto m√°ximo de donaci√≥n es $10,000"),f(!1);return}const i=await fetch("/api/donate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:n,currency:"usd",donorName:"An√≥nimo"})}),b=await i.json();if(!i.ok)throw new Error(b.error||"Error procesando donaci√≥n");if(b.checkoutUrl)window.location.href=b.checkoutUrl;else throw new Error("No se pudo crear la sesi√≥n de pago")}catch(n){console.error("Error:",n),u(n.message||"Ocurri√≥ un error al procesar tu donaci√≥n. Por favor, intenta nuevamente."),f(!1)}};return e.jsxs("main",{className:"min-h-screen bg-gradient-to-b from-black via-zinc-900 to-black text-white",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-900/20 via-transparent to-red-900/20 animate-pulse"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 py-20 md:py-32",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-block mb-6",children:e.jsx("span",{className:`text-6xl md:text-7xl transition-all duration-1000 ${R?"scale-125 animate-pulse":"scale-100"}`,children:"‚ù§Ô∏è"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent",children:"Apoya nuestra misi√≥n"}),e.jsx("p",{className:"text-lg md:text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Este proyecto es independiente y necesita tu apoyo. Cualquier aporte, grande o peque√±o, hace la diferencia."})]}),P&&e.jsx("div",{className:"mb-8 p-6 bg-green-900/30 border border-green-500/50 rounded-2xl backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx("span",{className:"text-3xl",children:"üéâ"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-400 font-semibold text-lg",children:"¬°Gracias por tu donaci√≥n!"}),e.jsx("p",{className:"text-green-300 text-sm mt-1",children:"Tu apoyo hace posible nuestra misi√≥n de libertad para Cuba."})]})]})}),e.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-900/50 to-red-800/50 p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Selecciona el monto de tu donaci√≥n"}),e.jsx("p",{className:"text-gray-400",children:"Todos los pagos son procesados de forma segura con Stripe"})]}),e.jsxs("div",{className:"p-8 md:p-10",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:L.map(n=>e.jsxs("button",{onClick:()=>A(n),className:`
                      relative p-4 rounded-xl font-semibold text-lg transition-all duration-300
                      ${t===n&&!c?"bg-red-600 text-white shadow-lg shadow-red-600/30 scale-105":"bg-zinc-800 text-gray-300 hover:bg-zinc-700 hover:scale-102"}
                    `,children:["$",n]},n))}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-3",children:"O ingresa un monto personalizado"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-gray-500",children:"$"}),e.jsx("input",{type:"text",value:a,onChange:T,placeholder:"0.00",className:`
                      w-full pl-12 pr-4 py-4 bg-zinc-800 border-2 rounded-xl
                      text-xl font-semibold placeholder-gray-600
                      transition-all duration-300 focus:outline-none
                      ${c?"border-red-500 text-white":"border-zinc-700 hover:border-zinc-600 focus:border-red-500 text-gray-300"}
                    `})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Monto m√≠nimo: $1 ‚Ä¢ Monto m√°ximo: $10,000"})]}),w&&e.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-xl",children:e.jsxs("p",{className:"text-red-400 text-sm flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚ö†Ô∏è"}),w]})}),e.jsx("button",{onClick:$,disabled:m||!t&&!a,className:`
                  w-full py-5 px-8 rounded-2xl font-bold text-lg
                  transition-all duration-300 transform
                  ${m||!t&&!a?"bg-zinc-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 hover:scale-102 shadow-xl shadow-red-900/30"}
                  ${m?"animate-pulse":""}
                `,children:m?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):e.jsxs("span",{className:"flex items-center justify-center",children:["üí≥ Donar ",t||a?`$${c?a:t}`:"ahora"]})}),e.jsx("div",{className:"mt-8 pt-8 border-t border-zinc-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Pago seguro con SSL"})]}),e.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Procesado por Stripe"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2 1 1 0 100-2 2 2 0 012 2v8a2 2 0 002 2H6a2 2 0 00-2-2V5z",clipRule:"evenodd"})]}),e.jsx("span",{children:"100% para la causa"})]})]})})]})]}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"* Tu aporte ser√° utilizado exclusivamente para mantener y expandir este proyecto de libertad."}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[e.jsxs("a",{href:"/",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver al inicio"]}),e.jsx("span",{className:"text-gray-600",children:"‚Ä¢"}),e.jsx("a",{href:"/contacto",className:"text-gray-400 hover:text-white transition-colors",children:"¬øPreguntas? Cont√°ctanos"})]})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }
        
        .hover\\:scale-102:hover {
          transform: scale(1.02);
        }
        
        .scale-102 {
          transform: scale(1.02);
        }
      `})]})}export{K as default};

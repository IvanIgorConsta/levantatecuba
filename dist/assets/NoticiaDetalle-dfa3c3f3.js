import{c as te,r as m,j as e,i as Y,L as H,A as re,P as ae,a as ne,T as oe,S as X,X as ie,k as le,l as ce,H as de,F as me,d as ue,b as pe,h as he,N as Z}from"./index-1606e3a6.js";import{p as U}from"./purify.es-ee0e7e34.js";import{U as B,C as xe}from"./user-320d65d9.js";import{C as ge}from"./chevron-up-b57410b9.js";import{C as fe}from"./chevron-down-2615923f.js";import{L as Q}from"./loader-circle-de7850c1.js";import{a as ee,b as W}from"./imageUtils-97dea50b.js";import{C as be}from"./clock-9cbbb956.js";/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]],je=te("message-square-text",we);/**
 * @license lucide-react v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],ye=te("reply",ve);function se({variant:n="default"}){var a,p,N,L;const[t,b]=m.useState(null),[c,h]=m.useState(!0);m.useEffect(()=>{let x=!0;const C=window.innerWidth<768;return console.debug("[ShopCTA] Component mounted",{variant:n,isMobile:C,windowWidth:window.innerWidth}),(async()=>{var o,l;try{const w=`${{}.VITE_API_BASE||((l=(o=window.__APP_CONFIG__)==null?void 0:o.SHOPIFY_API_BASE)==null?void 0:l.replace("/api/shopify",""))||"http://localhost:5000"}/api/shopify/products`;console.debug("[ShopCTA] Fetching products from:",w);const i=await fetch(w,{credentials:"include"});if(console.debug("[ShopCTA] Fetch response:",i.status,i.statusText),!i.ok){console.warn("[ShopCTA] Fetch failed:",i.status);return}const j=await i.json(),u=Array.isArray(j)?j:[];if(console.debug("[ShopCTA] Products received:",u.length),!u.length){console.warn("[ShopCTA] No products available");return}const s=u.find(d=>d.handle==="camiseta-de-manga-corta-unisex")||u[0];x&&(b(s),console.debug("[ShopCTA] ‚úÖ Product set:",s==null?void 0:s.title))}catch(f){console.error("[ShopCTA] ‚ùå Error loading product:",f)}finally{x&&(h(!1),console.debug("[ShopCTA] Loading finished"))}})(),()=>{x=!1}},[n]),m.useEffect(()=>{console.debug("[ShopCTA] State changed:",{loading:c,hasProduct:!!t,productTitle:t==null?void 0:t.title})},[c,t]);function S(x){if(!x)return"";const C=String(x).trim();return C?C.startsWith("//")?"https:"+C:C.startsWith("http://")?C.replace(/^http:\/\//i,"https://"):C:""}function k(x){var o,l,f,w,i,j,u,s;const C=[(o=x==null?void 0:x.featuredImage)==null?void 0:o.url,x==null?void 0:x.imageUrl,x==null?void 0:x.image,(f=(l=x==null?void 0:x.images)==null?void 0:l[0])==null?void 0:f.url,(j=(i=(w=x==null?void 0:x.variants)==null?void 0:w[0])==null?void 0:i.image)==null?void 0:j.url,(s=(u=((x==null?void 0:x.variants)||[]).find(d=>{var g;return(g=d==null?void 0:d.image)==null?void 0:g.url}))==null?void 0:u.image)==null?void 0:s.url].filter(Boolean);for(const d of C){const g=S(d);if(g)return g}return""}const v=m.useMemo(()=>k(t),[t]),[M,E]=m.useState(v);m.useEffect(()=>{E(v)},[v]);const A=()=>{E("/img/og-default.jpg")};if(c&&n==="compact")return e.jsxs("section",{className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 p-4 md:p-5 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-32 mb-2"}),e.jsx("div",{className:"h-3 bg-white/5 rounded w-48 mb-4"}),e.jsxs("div",{className:"grid grid-cols-[100px,1fr] gap-3",children:[e.jsx("div",{className:"aspect-[4/3] bg-white/10 rounded-lg"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),e.jsx("div",{className:"h-3 bg-white/5 rounded w-20"})]})]})]});if(!t)return console.warn("[ShopCTA] ‚ö†Ô∏è No product available after loading"),n==="compact"?e.jsxs("section",{"aria-label":"Apoya la causa",className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 md:p-5 w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),e.jsx("p",{className:"text-xs md:text-sm text-white/60 mt-1",children:"Tu compra nos ayuda a sostener la plataforma."})]}),e.jsxs("div",{className:"grid grid-cols-[100px,1fr] sm:grid-cols-[120px,1fr] md:grid-cols-[140px,1fr] gap-3 md:gap-4",children:[e.jsx("div",{className:"aspect-[4/3] w-full rounded-lg bg-white/10 border border-white/10 grid place-content-center",children:e.jsx(Y,{size:20,className:"text-white/50"})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("p",{className:"text-sm md:text-base font-semibold text-white mb-1 line-clamp-2",children:"Descubre nuestros productos solidarios"}),e.jsx("p",{className:"text-xs md:text-sm text-white/60 mb-3",children:"Visita la tienda para ver todos los art√≠culos."}),e.jsx("div",{className:"mt-auto flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:e.jsx(H,{to:"/tienda",className:"inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-500 px-4 py-2.5 text-sm text-white font-semibold transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver todos"})})]})]})]}):null;const z=((p=(a=t==null?void 0:t.priceRange)==null?void 0:a.minVariantPrice)==null?void 0:p.amount)||(t==null?void 0:t.price)||(t==null?void 0:t.priceMin),P=((L=(N=t==null?void 0:t.priceRange)==null?void 0:N.minVariantPrice)==null?void 0:L.currencyCode)||(t==null?void 0:t.currencyCode)||"USD",O=(t==null?void 0:t.handle)||"";if(n==="compact")return e.jsxs("section",{"aria-label":"Apoya la causa",className:"mt-10 mb-8 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm p-4 md:p-5 w-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-base md:text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),e.jsx("p",{className:"text-xs md:text-sm text-white/60 mt-1",children:"Tu compra nos ayuda a sostener la plataforma."})]}),e.jsxs("div",{className:"grid grid-cols-[100px,1fr] sm:grid-cols-[120px,1fr] md:grid-cols-[140px,1fr] gap-3 md:gap-4",children:[e.jsx(H,{to:`/tienda/${O}`,className:"block group flex-shrink-0",children:e.jsx("div",{className:"aspect-[4/3] w-full rounded-lg bg-white/10 border border-white/10 group-hover:border-red-500/50 transition-all duration-300 overflow-hidden",children:e.jsx("img",{src:M||"/img/og-default.jpg",alt:t.title||"Producto solidario",className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"eager",fetchpriority:"high",decoding:"async",referrerPolicy:"no-referrer",onError:A})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx(H,{to:`/tienda/${O}`,className:"text-sm md:text-base font-semibold text-white hover:text-red-500 hover:underline line-clamp-2 transition-colors mb-1",children:t.title}),e.jsx("div",{className:"text-sm md:text-base text-white/90 font-medium mb-3",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-red-500 font-bold",children:["$",Number(z).toFixed(2)]}),e.jsx("span",{className:"text-white/50 text-xs ml-1",children:P})]}):e.jsx("span",{className:"text-white/50 text-xs",children:"Precio no disponible"})}),e.jsxs("div",{className:"mt-auto flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[e.jsx(H,{to:`/tienda/${O}`,className:"inline-flex items-center justify-center rounded-lg bg-red-600 hover:bg-red-500 px-4 py-2.5 text-sm text-white font-semibold transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver producto"}),e.jsx(H,{to:"/tienda",className:"inline-flex items-center justify-center rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 px-4 py-2.5 text-sm text-white/90 hover:text-white font-medium transition-all duration-200",children:"Ver todos"})]})]})]})]});const D=()=>{try{const x=new CustomEvent("cart:add",{detail:{productHandle:O,quantity:1,product:t},bubbles:!0,cancelable:!0});window.dispatchEvent(x)}catch{}},T=typeof window<"u"&&!1;return e.jsxs("section",{"aria-label":"Apoya la causa comprando merchandising",className:"mt-12 mb-10 rounded-2xl border border-zinc-800 bg-gradient-to-br from-zinc-900/50 to-zinc-900/30 backdrop-blur-sm p-6 md:p-8",children:[e.jsx("div",{className:"flex items-start justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"‚ù§Ô∏è"}),"Apoya la causa"]}),e.jsx("p",{className:"text-zinc-400 text-sm md:text-base",children:"Tu compra nos ayuda a sostener la plataforma y continuar luchando por la libertad."})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[180px,1fr] gap-6",children:[e.jsx(H,{to:`/tienda/${O}`,className:"block group",children:e.jsx("div",{className:"aspect-[4/5] w-full overflow-hidden rounded-xl bg-zinc-800 border border-zinc-700 group-hover:border-red-500/50 transition-all duration-300",children:e.jsx("img",{src:M||"/img/og-default.jpg",alt:t.title||"Producto solidario",className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"eager",fetchpriority:"high",decoding:"async",referrerPolicy:"no-referrer",onError:A})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(H,{to:`/tienda/${O}`,className:"text-xl font-bold text-white hover:text-red-500 transition-colors mb-2",children:t.title}),e.jsx("div",{className:"text-white mb-4",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-3xl font-bold text-red-500",children:["$",Number(z).toFixed(2)]}),e.jsx("span",{className:"text-zinc-400 text-sm ml-2",children:P})]}):e.jsx("span",{className:"text-zinc-400",children:"Precio no disponible"})}),t.description&&e.jsx("p",{className:"text-zinc-400 text-sm mb-6 line-clamp-2",children:t.description}),e.jsxs("div",{className:"mt-auto flex flex-wrap gap-3",children:[e.jsxs(H,{to:`/tienda/${O}`,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-red-600 hover:bg-red-700 px-6 py-3 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-red-600/20",children:["Ver producto",e.jsx(re,{size:18})]}),e.jsxs(H,{to:"/tienda",className:"inline-flex items-center justify-center gap-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 hover:border-zinc-600 px-6 py-3 text-zinc-200 font-medium transition-all duration-200",children:[e.jsx(Y,{size:18}),"Ver todos los productos"]}),T&&e.jsx("button",{type:"button",onClick:D,className:"inline-flex items-center justify-center rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 border border-zinc-700/50 px-6 py-3 text-zinc-300 font-medium transition-all duration-200",children:"Agregar r√°pido"})]})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-800",children:e.jsx("p",{className:"text-zinc-500 text-xs text-center",children:"üõ°Ô∏è Compra segura ‚Ä¢ Env√≠o a todo el mundo ‚Ä¢ Productos de calidad garantizada"})})]})}se.propTypes={variant:ae.oneOf(["default","compact"])};function Ne(){m.useState(null);const t=!!0;return m.useEffect(()=>{},[t]),null}function Ce(n){if(!Array.isArray(n))return 0;let t=0;const b=c=>{c.forEach(h=>{t++,h.respuestas&&Array.isArray(h.respuestas)&&h.respuestas.length>0&&b(h.respuestas)})};return b(n),t}function _e({contextType:n,targetId:t}){const[b,c]=m.useState([]),[h,S]=m.useState(!1),[k,v]=m.useState(null),[M,E]=m.useState(new Map),[A,z]=m.useState(new Map),[P,O]=m.useState(new Map),D=m.useRef(0),T=localStorage.getItem("token"),a=T?(()=>{try{const o=ne(T);return{id:o.sub||o.id,name:o.name||o.username||o.nickname||"An√≥nimo",email:o.email,role:o.role}}catch{return null}})():null,p=m.useCallback(()=>{switch(n){case"news":return`/api/comments/${t}`;case"report":return`/api/reports/${t}/comentarios`;default:throw new Error(`Contexto desconocido: ${n}`)}},[n,t]),N=m.useCallback(async()=>{S(!0),v(null);try{const o=await fetch(p());if(!o.ok)throw new Error("Error al cargar comentarios");const l=await o.json();let f=l;n==="news"?f=Array.isArray(l)?l:[]:n==="report"&&(f=Array.isArray(l)?l:l.comentarios||[]),c(f),f.forEach(w=>{var i;((i=w.respuestas)==null?void 0:i.length)>0&&O(j=>new Map(j).set(w._id,w.respuestas.length>10))})}catch(o){console.error("Error al cargar comentarios:",o),v(o.message),c([])}finally{S(!1)}},[p,n]),L=m.useCallback(async o=>{const l=A.get(o),f=`${p()}?parentId=${o}${l?`&cursor=${l}`:""}&limit=10`;try{const w=await fetch(f);if(!w.ok)throw new Error("Error al cargar m√°s respuestas");const i=await w.json(),j=i.comments||[],u=i.nextCursor,s=d=>d.map(g=>g._id===o?{...g,respuestas:[...g.respuestas||[],...j]}:g.respuestas?{...g,respuestas:s(g.respuestas)}:g);c(d=>s(d)),u?(z(d=>new Map(d).set(o,u)),O(d=>new Map(d).set(o,!0))):O(d=>new Map(d).set(o,!1))}catch(w){console.error("Error al cargar m√°s respuestas:",w)}},[A,p]),x=m.useCallback(async({contenido:o,parentId:l=null})=>{if(!(o!=null&&o.trim()))return{success:!1,error:"Contenido vac√≠o"};if(!a)return{success:!1,error:"No autenticado"};const f=`temp_${Date.now()}_${D.current++}`,w={_id:f,contenido:o.trim(),texto:o.trim(),usuario:a.name,userId:a.id,createdAt:new Date().toISOString(),padre:l,parentId:l,respuestas:[],isOptimistic:!0};if(l){const i=j=>j.map(u=>u._id===l?{...u,respuestas:[...u.respuestas||[],w]}:u.respuestas?{...u,respuestas:i(u.respuestas)}:u);c(j=>i(j))}else c(i=>[w,...i]);E(i=>new Map(i).set(f,w));try{let i,j;n==="news"?(i=`/api/comments/${t}`,j=JSON.stringify({contenido:o.trim(),parentId:l})):n==="report"&&(i=l?`/api/reports/${t}/comentarios/${l}/responder`:`/api/reports/${t}/comentarios`,j=JSON.stringify({mensaje:o.trim()}));const u=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:j});if(!u.ok)throw new Error("Error al enviar comentario");const s=await u.json(),d=g=>g.map(r=>r._id===f?{...s,isOptimistic:!1}:r.respuestas?{...r,respuestas:d(r.respuestas)}:r);return c(g=>l?d(g):g.map(r=>r._id===f?{...s,isOptimistic:!1}:r)),E(g=>{const r=new Map(g);return r.delete(f),r}),{success:!0,comment:s}}catch(i){console.error("Error al enviar comentario:",i);const j=u=>u.filter(s=>s._id!==f).map(s=>({...s,respuestas:s.respuestas?j(s.respuestas):[]}));return c(u=>j(u)),E(u=>{const s=new Map(u);return s.delete(f),s}),{success:!1,error:i.message}}},[n,t,a,T]),C=m.useCallback(async o=>{if(!a)return{success:!1,error:"No autenticado"};if(!window.confirm("¬øEst√°s seguro de que quieres eliminar este comentario?"))return{success:!1,error:"Cancelado por usuario"};try{let l;if(n==="news"?l=`/api/comments/${o}`:n==="report"&&(l=`/api/reports/comentarios/${o}`),!(await fetch(l,{method:"DELETE",headers:{Authorization:`Bearer ${T}`}})).ok)throw new Error("Error al eliminar comentario");const w=i=>i.filter(j=>j._id!==o).map(j=>({...j,respuestas:j.respuestas?w(j.respuestas):[]}));return c(i=>w(i)),{success:!0}}catch(l){return console.error("Error al eliminar comentario:",l),{success:!1,error:l.message}}},[n,a,T]);return m.useEffect(()=>{t&&N()},[t,N]),{rootComments:b,isLoading:h,error:k,currentUser:a,isAuthenticated:!!a,loadMore:L,addComment:x,deleteComment:C,refresh:N,hasMoreReplies:o=>P.get(o)||!1,isOptimistic:o=>M.has(o),totalCommentCount:Ce(b)}}function ke({contextType:n,targetId:t,className:b=""}){const{rootComments:c,isLoading:h,error:S,currentUser:k,isAuthenticated:v,addComment:M,deleteComment:E,hasMoreReplies:A,isOptimistic:z,totalCommentCount:P}=_e({contextType:n,targetId:t}),[O,D]=m.useState({}),[T,a]=m.useState(""),[p,N]=m.useState(null),[L,x]=m.useState({}),[C,o]=m.useState({}),l=m.useRef({});m.useEffect(()=>{if(p&&l.current[p]){const s=setTimeout(()=>{var d;(d=l.current[p])==null||d.focus()},50);return()=>clearTimeout(s)}},[p]);const f=s=>{const d=Math.floor((new Date-new Date(s))/1e3),g={a√±o:31536e3,mes:2592e3,d√≠a:86400,hora:3600,minuto:60};for(const[r,y]of Object.entries(g)){const _=Math.floor(d/y);if(_>=1)return`${_} ${r}${_>1?r==="mes"?"es":"s":""}`}return"ahora"};m.useCallback((s,d)=>{D(g=>({...g,[s]:d}))},[]);const w=m.useCallback(s=>{a(s)},[]),i=async(s=null,d,g)=>{const r=s?d:T;if(!(r!=null&&r.trim()))return;if(!v){alert("‚ö† Debes iniciar sesi√≥n para comentar.");return}o(_=>({..._,[s||"root"]:!0}));const y=await M({contenido:r,parentId:s});y.success?s?(g==null||g(),N(null)):a(""):alert(`‚ùå Error: ${y.error||"No se pudo enviar el comentario"}`),o(_=>({..._,[s||"root"]:!1}))};m.useCallback(s=>{D(d=>{const g={...d};return delete g[s],g}),N(null)},[]);const j=async s=>{const d=await E(s);!d.success&&d.error!=="Cancelado por usuario"&&alert(`‚ùå Error: ${d.error||"No se pudo eliminar el comentario"}`)},u=m.memo(({comentario:s,nivel:d=0})=>{var G;const g=p===s._id,r=s.respuestas&&s.respuestas.length>0,y=L[s._id],_=(k==null?void 0:k.id)===s.userId,I=(k==null?void 0:k.role)==="admin"||(k==null?void 0:k.role)==="editor",V=_||I,R=z(s._id),[q,F]=m.useState(""),K=m.useRef(null);return m.useEffect(()=>{if(p===s._id){const $=setTimeout(()=>{var J;return(J=K.current)==null?void 0:J.focus()},40);return()=>clearTimeout($)}},[p,s._id]),e.jsx("div",{className:`${d>0?"ml-12 mt-2":"mt-3"}`,children:e.jsx("div",{className:`group ${d===0?"border-l-2 border-zinc-800 pl-4":""} ${R?"opacity-70":""}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${d===0?"bg-zinc-800":"bg-zinc-900"}`,children:(G=s.usuario)!=null&&G.profileImage?e.jsx("img",{src:s.usuario.profileImage,alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}):e.jsx(B,{className:"w-4 h-4 text-zinc-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-white text-sm",children:s.usuario||"An√≥nimo"}),R&&e.jsx("span",{className:"text-xs text-blue-400 animate-pulse",children:"Enviando..."}),e.jsxs("span",{className:"text-xs text-zinc-500",children:["¬∑ ",f(s.createdAt)]})]}),e.jsx("p",{className:"text-sm text-zinc-300 break-words",dangerouslySetInnerHTML:{__html:U.sanitize(s.contenido||s.texto||s.mensaje||"")}}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[v&&!R&&e.jsxs("button",{type:"button",onClick:()=>N(s._id),className:"text-xs text-zinc-500 hover:text-blue-400 transition flex items-center gap-1","aria-label":"Responder al comentario",children:[e.jsx(ye,{className:"w-3 h-3"}),"Responder"]}),V&&!R&&e.jsxs("button",{type:"button",onClick:()=>j(s._id),className:"text-xs text-zinc-500 hover:text-red-400 transition flex items-center gap-1","aria-label":"Eliminar comentario",children:[e.jsx(oe,{className:"w-3 h-3"}),"Eliminar"]}),r&&e.jsx("button",{type:"button",onClick:()=>x($=>({...$,[s._id]:!$[s._id]})),className:"text-xs text-zinc-500 hover:text-white transition flex items-center gap-1","aria-expanded":y,"aria-controls":`replies-${s._id}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-3 h-3"}),"Ocultar"]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-3 h-3"}),s.respuestas.length," respuesta",s.respuestas.length>1?"s":""]})})]}),g&&e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("input",{ref:K,type:"text",placeholder:`Responder a ${s.usuario||"An√≥nimo"}...`,value:q,onChange:$=>F($.target.value),onKeyDown:$=>{$.key==="Enter"&&($.ctrlKey||$.metaKey)?($.preventDefault(),i(s._id,q,()=>F(""))):$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),q.trim()&&i(s._id,q,()=>F("")))},disabled:C[s._id],className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none disabled:opacity-50 transition-colors","aria-label":"Escribir respuesta"}),e.jsx("button",{type:"button",onClick:()=>i(s._id,q,()=>F("")),disabled:!q.trim()||C[s._id],className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white rounded-lg transition","aria-label":"Enviar respuesta",children:C[s._id]?e.jsx(Q,{className:"w-4 h-4 animate-spin"}):e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>{F(""),N(null)},className:"p-2 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg transition","aria-label":"Cancelar respuesta",children:e.jsx(ie,{className:"w-4 h-4"})})]}),y&&r&&e.jsxs("div",{id:`replies-${s._id}`,className:"mt-2",children:[s.respuestas.map($=>e.jsx(u,{comentario:$,nivel:d+1},$._id)),A(s._id)&&e.jsx("button",{type:"button",onClick:()=>loadMore(s._id),className:"ml-12 mt-2 text-xs text-blue-400 hover:text-blue-300 transition",children:"Ver m√°s respuestas..."})]})]})]})})})});return u.displayName="CommentItem",h&&c.length===0?e.jsx("div",{className:`flex justify-center items-center py-8 ${b}`,children:e.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[e.jsx(Q,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Cargando comentarios..."})]})}):S?e.jsx("div",{className:`bg-red-500/10 border border-red-500/20 rounded-lg p-4 ${b}`,children:e.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsxs("span",{children:["Error al cargar comentarios: ",S]})]})}):e.jsxs("div",{className:`${b}`,children:[v?e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:e.jsx(B,{className:"w-4 h-4 text-zinc-400"})}),e.jsx("input",{type:"text",placeholder:"Escribe un comentario...",value:T,onChange:s=>w(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.ctrlKey||s.metaKey)&&T.trim()?(s.preventDefault(),i()):s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),T.trim()&&i())},disabled:C.root,className:"flex-1 px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-sm text-white placeholder-zinc-500 focus:border-red-500 focus:outline-none disabled:opacity-50 transition-colors","aria-label":"Escribir comentario"}),e.jsx("button",{type:"button",onClick:()=>i(),disabled:!T.trim()||C.root,className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-zinc-800 disabled:cursor-not-allowed text-white rounded-lg transition","aria-label":"Publicar comentario",children:C.root?e.jsx(Q,{className:"w-4 h-4 animate-spin"}):e.jsx(X,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"mb-6 bg-zinc-900/50 border border-zinc-800 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Inicia sesi√≥n para comentar"}),e.jsxs("a",{href:"/login",className:"inline-flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition",children:[e.jsx(B,{className:"w-4 h-4"}),"Iniciar sesi√≥n"]})]}),c.length>0?e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsx(u,{comentario:s,nivel:0},s._id))}):e.jsx("p",{className:"text-center text-sm text-zinc-500 py-8 bg-zinc-900/30 rounded-lg",children:v?"S√© el primero en comentar":"No hay comentarios a√∫n"}),!1]})}function ze(n,t=260){if(!n)return"";const b=document.createElement("div");b.innerHTML=n;const c=b.querySelector("p"),h=((c==null?void 0:c.textContent)||b.textContent||"").trim();if(!h)return"";if(h.length<=t)return h;const S=h.slice(0,t),k=S.lastIndexOf(" ");return`${S.slice(0,k>0?k:t)}‚Ä¶`}function Se(n,t,b,c=180){let h="";if(n&&n.trim())h=n.trim();else if(t&&t.trim()){const v=document.createElement("div");v.innerHTML=t;const E=(v.textContent||v.innerText||"").replace(/\s+/g," ").trim(),A=E.split(/[.!?]+/).filter(z=>z.trim().length>50);A.length>0?h=A[0].trim():h=E.substring(0,c)}if(!h||h.length<20)return"Lee los detalles completos en el enlace.";if(h.length>c){const v=h.substring(0,c),M=v.lastIndexOf(" ");M>c*.8?h=v.substring(0,M).trim()+"‚Ä¶":h=v.trim()+"‚Ä¶"}const S=(b||"").toLowerCase().trim(),k=h.toLowerCase().trim();if(S&&k.startsWith(S.substring(0,30))){const v=document.createElement("div");v.innerHTML=t||"";const E=(v.textContent||v.innerText||"").replace(/\s+/g," ").trim().split(/[.!?]+/).filter(A=>A.trim().length>50);E.length>1?(h=E[1].trim(),h.length>c&&(h=h.substring(0,c-3).trim()+"‚Ä¶")):h="Lee los detalles completos en el enlace."}return h}function Ee(n,t=3){return!Array.isArray(n)||n.length===0?[]:n.slice(0,t).map(b=>{let c=b.trim().replace(/\s+/g,"").replace(/[^a-zA-Z√°√©√≠√≥√∫√Å√â√ç√ì√ö√±√ë√º√ú0-9_]/g,"").replace(/^[0-9]+/,"");return c?(c=c.charAt(0).toUpperCase()+c.slice(1),`#${c}`):null}).filter(Boolean)}function Ae(n,t){if(!n)return"";const{titulo:b,bajada:c,contenido:h,categoria:S,etiquetas:k}=n,v=b||"Sin t√≠tulo",M=Se(c,h,b,180),E=Ee(k,3),A=S?`#${S.replace(/\s+/g,"")}`:null,z=["#Cuba"];A&&!z.includes(A)&&z.push(A),E.forEach(D=>{!z.includes(D)&&z.length<5&&z.push(D)});const P=z.join(" ");return`${v}

${M}

${t}

${P}`}function Te(n,t){const b={Pol√≠tica:["¬øQu√© opinas de esta situaci√≥n pol√≠tica?","¬øCrees que esto traer√° cambios significativos?","¬øC√≥mo afecta esto a la poblaci√≥n cubana?"],Econom√≠a:["¬øC√≥mo impacta esto en la econom√≠a familiar?","¬øCrees que mejorar√° la situaci√≥n econ√≥mica?","¬øQu√© medidas deber√≠an tomarse?"],Internacional:["¬øC√≥mo ves la posici√≥n de la comunidad internacional?","¬øQu√© implicaciones tiene esto para Cuba?","¬øDeber√≠a haber m√°s presi√≥n internacional?"],"Socio pol√≠tico":["¬øConoces casos similares?","¬øCrees que se investigan estos casos con suficiente transparencia?","¬øQu√© medidas deber√≠an tomarse para evitar esto?"],Tecnolog√≠a:["¬øQu√© opinas de este avance tecnol√≥gico?","¬øC√≥mo podr√≠a esto ayudar a los cubanos?","¬øHas tenido experiencias similares?"],Tendencia:["¬øQu√© te parece esta tendencia?","¬øHab√≠as escuchado sobre esto antes?","¬øC√≥mo afecta esto a la comunidad?"],General:["¬øQu√© opinas sobre este tema?","¬øHas experimentado algo similar?","¬øCrees que es importante discutir esto?"]},c=b[n]||b.General,h=c[Math.floor(Math.random()*c.length)];return`Para m√°s detalles, lee la noticia completa en el enlace del post:

${t}

üí¨ ${h}`}async function $e(n){try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(n),!0;{const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="1px",t.style.height="1px",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();const b=document.execCommand("copy");return document.body.removeChild(t),b}}catch{return!1}}function Me(n,t){const b=encodeURIComponent(n),c=encodeURIComponent(t);return`https://www.facebook.com/sharer/sharer.php?u=${b}&quote=${c}`}function Fe(){var O,D,T;const{id:n}=le();ce();const[t,b]=m.useState(null),[c,h]=m.useState([]),[S,k]=m.useState(0),[v,M]=m.useState(!1);m.useEffect(()=>{window.scrollTo(0,0)},[n]),m.useEffect(()=>{let a=!1;const p=()=>{a||(requestAnimationFrame(()=>{const N=document.querySelector("article");if(!N){a=!1;return}const L=N.offsetTop,x=N.offsetHeight,C=window.innerHeight,l=(window.scrollY-L+C*.3)/x,f=Math.max(0,Math.min(1,l));k(f*100),a=!1}),a=!0)};return window.addEventListener("scroll",p,{passive:!0}),()=>window.removeEventListener("scroll",p)},[t]),m.useEffect(()=>{fetch(`/api/news/${n}`).then(a=>a.json()).then(a=>{const p=U.sanitize(a.contenido,{ALLOWED_TAGS:["p","strong","em","u","a","br","ul","ol","li","blockquote","h1","h2","h3","figure","figcaption","img","span"],ALLOWED_ATTR:["href","target","rel","src","alt","title","class","style","loading"],RETURN_DOM:!0,WHOLE_DOCUMENT:!1}),N=p.nodeType===1?p:(()=>new DOMParser().parseFromString(`<div>${p}</div>`,"text/html").body.firstElementChild)();Array.from(N.querySelectorAll("p")).forEach(r=>{const y=(r.textContent||"").trim();if(y.endsWith(":")&&r.nextElementSibling&&r.nextElementSibling.matches("ul,ol")){const _=document.createElement("h3");_.innerHTML=r.innerHTML,r.replaceWith(_)}else if(y.endsWith("?")&&y.length<=120){const _=document.createElement("h3");_.innerHTML=r.innerHTML,r.replaceWith(_)}}),Array.from(N.querySelectorAll('a[target="_blank"]')).forEach(r=>{const y=r.getAttribute("rel")||"";y.includes("noopener")||r.setAttribute("rel",(y+" noopener noreferrer").trim())});const x=Array.from(N.querySelectorAll("h2,h3,p,ul,ol,blockquote")),C=r=>r.matches("ul,ol")?Array.from(r.querySelectorAll("li")).map(y=>y.textContent||"").join(" "):(r.textContent||"").replace(/\s+/g," ").trim(),o=r=>r.split(/\s+/).filter(Boolean).length>=8,l=[];let f=[],w=0,i=0;x.forEach((r,y)=>{const _=C(r);r.matches("h2,h3")&&f.length>0&&(l.push({html:f.join(""),charSum:w,substCount:i}),f=[],w=0,i=0),f.push(r.outerHTML),o(_)&&(i++,w+=_.length),(w>=1400&&i>=3||i>=5||y===x.length-1)&&(l.push({html:f.join(""),charSum:w,substCount:i}),f=[],w=0,i=0)});const j=l.reduce((r,y)=>r+y.charSum,0)||1;let u="",s=!1,d=0;if(l.forEach((r,y)=>{const _=document.createElement("div");_.innerHTML=r.html;const I=_.lastElementChild,V=I&&I.matches("ul,ol");d+=r.charSum;const R=d/j;!s&&R>=.45&&R<=.65&&a.imagenOpcional&&V&&(u+=`
              <figure class="w-full my-10">
                <img src="${a.imagenOpcional}" alt="Imagen adicional" class="w-full h-auto rounded-lg shadow-none mx-auto border border-white/10" loading="lazy" decoding="async" fetchpriority="low"/>
              </figure>`,s=!0),u+=r.html,!s&&R>=.45&&R<=.65&&a.imagenOpcional&&!V&&(u+=`
              <figure class="w-full my-10">
                <img src="${a.imagenOpcional}" alt="Imagen adicional" class="w-full h-auto rounded-lg shadow-none mx-auto border border-white/10" loading="lazy" decoding="async" fetchpriority="low"/>
              </figure>`,s=!0)}),!s&&a.imagenOpcional){if(l.length>=2){const r=l[0].html,y=l.slice(1).map(_=>_.html).join("");u=r+`
              <figure class="w-full my-10">
                <img src="${a.imagenOpcional}" alt="Imagen adicional" class="w-full h-auto rounded-lg shadow-none mx-auto border border-white/10" loading="lazy" decoding="async" fetchpriority="low"/>
              </figure>`+y}else u+=`
              <figure class="w-full my-10">
                <img src="${a.imagenOpcional}" alt="Imagen adicional" class="w-full h-auto rounded-lg shadow-none mx-auto border border-white/10" loading="lazy" decoding="async" fetchpriority="low"/>
              </figure>`;s=!0}u=u.replace(/<h2([^>]*)>/gi,'<h2$1 class="text-xl md:text-2xl font-semibold tracking-tight mt-10 mb-4 pl-3 border-l-4 border-blue-500/60">').replace(/<h3([^>]*)>/gi,'<h3$1 class="text-lg md:text-xl font-semibold mt-8 mb-3 pl-3 border-l-2 border-blue-500/50">'),u=u.replace(/<p>([^<]*(?:¬ø[^?]+\?|Pregunta:[^<]+))<\/p>/gi,'<div class="my-6 rounded-xl border border-zinc-800/60 bg-zinc-900/40 p-4 md:p-5 shadow-sm"><p class="font-medium"><span class="inline-flex items-center text-xs px-2 py-0.5 rounded-md border border-blue-500/40 bg-blue-500/10 mr-2">Pregunta</span>$1</p></div>');const g=ee({...a,titulo:U.sanitize(a.titulo),contenido:u,autor:U.sanitize(a.autor||"Autor verificado")});b(g),fetch(`/api/news/${a._id}/relacionadas`).then(r=>r.json()).then(r=>{const y=r.map(_=>ee(_));h(y)}).catch(()=>h([]))})},[n]);const E=()=>{const a=`${window.location.origin}/noticias/${n}`,p=encodeURIComponent(a),N=encodeURIComponent((t==null?void 0:t.titulo)||""),L=Ae(t,a),x=Me(a,L),C=async()=>{if(navigator.share)try{await navigator.share({title:(t==null?void 0:t.titulo)||"Lev√°ntate Cuba",text:(t==null?void 0:t.titulo)||"Lev√°ntate Cuba",url:a})}catch{}},o=async l=>{const f=Te(t==null?void 0:t.categoria,a);await $e(f)&&(M(!0),setTimeout(()=>M(!1),4e3))};return e.jsxs("div",{className:"mt-10 mb-14",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-1.5 h-4 bg-yellow-400 rounded-sm"}),e.jsx("span",{className:"text-white text-sm font-semibold tracking-wide uppercase",children:"Compartir"})]}),v&&e.jsxs("div",{className:"mb-3 px-3 py-2 rounded-lg bg-blue-500/20 border border-blue-500/40 text-blue-300 text-xs sm:text-sm animate-fade-in",children:["‚úÖ ",e.jsx("strong",{children:"Comentario sugerido copiado"})," - P√©galo como tu primer comentario en Facebook para mayor engagement"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[navigator.share&&e.jsxs("button",{onClick:C,className:"hidden sm:inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white text-sm font-medium transition-colors duration-200","aria-label":"Compartir noticia",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"Compartir"]}),e.jsxs("div",{className:"flex gap-4 text-white text-xl",children:[e.jsx("a",{href:`https://wa.me/?text=${p}`,target:"_blank",rel:"noreferrer",className:"hover:text-green-400","aria-label":"Compartir en WhatsApp",children:e.jsx(me,{})}),e.jsx("a",{href:x,target:"_blank",rel:"noreferrer",className:"hover:text-blue-500",onClick:o,"aria-label":"Compartir en Facebook",title:"Compartir en Facebook (se copiar√° un comentario sugerido)",children:e.jsx(ue,{})}),e.jsx("a",{href:`https://twitter.com/intent/tweet?url=${p}&text=${N}`,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400","aria-label":"Compartir en Twitter",children:e.jsx(pe,{})}),e.jsx("a",{href:`https://t.me/share/url?url=${p}&text=${N}`,target:"_blank",rel:"noreferrer",className:"hover:text-blue-300","aria-label":"Compartir en Telegram",children:e.jsx(he,{})})]})]})]})},A=()=>{if(!c.length)return null;const a=c.slice(0,3);return e.jsxs("div",{className:"mt-20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Z,{className:"w-5 h-5 text-white/90"}),e.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"Te puede interesar"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map(p=>{const N=W(p._cover,p._coverHash);return e.jsx("article",{className:"w-full max-w-full sm:max-w-none rounded-2xl overflow-hidden bg-zinc-900/60 border border-zinc-800/60 hover:bg-zinc-900/80 transition group",children:e.jsxs(H,{to:`/noticias/${p._id}`,className:"block",children:[e.jsxs("div",{className:"w-full overflow-hidden relative",children:[N?e.jsx("img",{src:N,alt:p.titulo,className:"block w-full aspect-[16/9] object-cover sm:h-36 sm:aspect-auto group-hover:scale-[1.03] transition-transform duration-300",loading:"lazy",decoding:"async"}):e.jsx("div",{className:"w-full aspect-[16/9] sm:h-36 sm:aspect-auto bg-zinc-800/70 flex items-center justify-center",children:e.jsx(Z,{className:"w-8 h-8 text-zinc-600"})}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-t from-black/40 to-transparent pointer-events-none"})]},p._coverHash||p._id),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsx("h4",{className:"font-semibold text-base mb-2 line-clamp-2 text-white",children:p.titulo}),e.jsx("div",{className:"text-xs text-gray-400",children:e.jsx("p",{className:"italic",children:new Date(p.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})})]})]})},p._id)})})]})};if(!t)return e.jsx("div",{className:"text-white text-center p-10",children:"Cargando noticia..."});const z=(O=t==null?void 0:t.bajada)!=null&&O.trim()?t.bajada.trim():ze((t==null?void 0:t.contenido)||"",260),P=a=>{if(!a)return"";const p=document.createElement("div");return p.innerHTML=a,(p.textContent||p.innerText||"").slice(0,150).replace(/\s+/g," ").trim()};return e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx("title",{children:t!=null&&t.titulo?`${t.titulo} - Lev√°ntate Cuba`:"Lev√°ntate Cuba - Noticias"}),e.jsx("meta",{name:"description",content:P(t==null?void 0:t.contenido)}),(t==null?void 0:t.autor)&&e.jsx("meta",{name:"author",content:t.autor}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"NewsArticle",headline:(t==null?void 0:t.titulo)||"Lev√°ntateCuba",image:[t!=null&&t._cover?t._cover.startsWith("http")?t._cover:`https://levantatecuba.com${t._cover}`:"https://levantatecuba.com/img/og-default.jpg"],datePublished:t!=null&&t.createdAt?new Date(t.createdAt).toISOString():new Date().toISOString(),dateModified:t!=null&&t.updatedAt?new Date(t.updatedAt).toISOString():t!=null&&t.createdAt?new Date(t.createdAt).toISOString():new Date().toISOString(),author:{"@type":"Person",name:(t==null?void 0:t.autor)||"Autor verificado"},publisher:{"@type":"Organization",name:"Lev√°ntateCuba",logo:{"@type":"ImageObject",url:"https://levantatecuba.com/logo.png"}},description:t!=null&&t.contenido?t.contenido.replace(/<[^>]+>/g,"").slice(0,160):"",url:`https://levantatecuba.com/noticias/${t==null?void 0:t._id}`,mainEntityOfPage:{"@type":"WebPage","@id":`https://levantatecuba.com/noticias/${t==null?void 0:t._id}`},articleSection:(t==null?void 0:t.categoria)||"General",inLanguage:"es-ES"})})]}),e.jsx("div",{className:"fixed top-0 left-0 h-0.5 bg-gradient-to-r from-yellow-400 to-yellow-500 z-50 transition-all duration-150 ease-out",style:{width:`${S}%`}}),e.jsx("div",{className:"min-h-screen bg-transparent text-white",children:e.jsxs("main",{className:"pt-[calc(var(--nav-h)+12px)] max-w-3xl mx-auto px-4 md:px-6 space-y-6",children:[e.jsxs(H,{to:"/noticias",className:"inline-flex items-center gap-2 rounded-xl border border-zinc-800 bg-zinc-900/60 hover:bg-zinc-900 px-4 py-2 mt-2 md:mt-3 text-white/80 hover:text-white transition-all duration-200 font-semibold text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Volver a Noticias"]}),t._cover&&e.jsx("div",{className:"w-full mb-6 sm:mb-8 aspect-video bg-zinc-900 rounded-lg sm:rounded-xl overflow-hidden",children:t._cover.match(/\.(avif|webp|jpg|jpeg|png)$/i)?e.jsx("img",{src:W(t._cover,t._coverHash),alt:t.titulo,className:"w-full h-full rounded-lg sm:rounded-xl border border-zinc-800/60 shadow-lg object-cover",loading:"eager",decoding:"async",fetchpriority:"high"}):e.jsxs("picture",{children:[e.jsx("source",{type:"image/avif",srcSet:W(t._cover+".avif",t._coverHash)}),e.jsx("source",{type:"image/webp",srcSet:W(t._cover+".webp",t._coverHash)}),e.jsx("img",{src:W(t._cover+".jpg",t._coverHash),alt:t.titulo,className:"w-full h-full rounded-lg sm:rounded-xl border border-zinc-800/60 shadow-lg object-cover",loading:"eager",decoding:"async",fetchpriority:"high"})]})},t._coverHash||t._id),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 w-1 rounded-full bg-gradient-to-b from-sky-500 via-sky-400 to-sky-600","aria-hidden":"true"}),e.jsxs("div",{className:"pl-5",children:[(t==null?void 0:t.categoria)&&e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:`inline-flex items-center rounded-full text-white text-xs font-medium px-3 py-1 ${t.categoria==="Pol√≠tica"?"bg-red-600/90":t.categoria==="Econom√≠a"?"bg-green-600/90":t.categoria==="Internacional"?"bg-blue-600/90":t.categoria==="Socio pol√≠tico"?"bg-rose-700/90":t.categoria==="Tecnolog√≠a"?"bg-cyan-600/90":t.categoria==="Tendencia"?"bg-orange-600/90":"bg-zinc-600/90"}`,children:t.categoria})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight text-zinc-100 leading-tight mb-4",children:t.titulo}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-400 mb-4",children:[(()=>{const a=(t==null?void 0:t.publishedAt)||(t==null?void 0:t.createdAt);return a?e.jsx("time",{dateTime:a,children:new Date(a).toLocaleString("es-ES",{dateStyle:"long",timeStyle:"short"})}):null})(),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsxs("span",{children:[Math.max(Math.ceil((((D=t==null?void 0:t.contenido)==null?void 0:D.replace(/<[^>]+>/g,"").length)||0)/200),1)," min de lectura"]})]})]}),!!((T=t==null?void 0:t.etiquetas)!=null&&T.length)&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.etiquetas.map(a=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-zinc-800 text-zinc-300 border border-zinc-700 px-2.5 py-0.5 text-xs",title:`Etiqueta: ${a}`,children:a},a))})]})]}),z&&e.jsx("div",{className:"border-l-4 border-zinc-700 pl-4 text-zinc-300 italic text-lg md:text-xl leading-relaxed mb-6",children:z}),e.jsx("article",{className:`prose prose-invert prose-lg max-w-none
              prose-p:text-zinc-200 prose-p:text-base md:prose-p:text-[17px] prose-p:leading-8 prose-p:tracking-[0.005em]
              prose-p:first-of-type:md:first-letter:text-6xl prose-p:first-of-type:md:first-letter:font-bold prose-p:first-of-type:md:first-letter:text-yellow-400 prose-p:first-of-type:md:first-letter:float-left prose-p:first-of-type:md:first-letter:leading-[0.8] prose-p:first-of-type:md:first-letter:mr-2 prose-p:first-of-type:md:first-letter:mt-1
              prose-headings:text-white prose-headings:font-bold prose-headings:tracking-tight
              prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-6 prose-h2:border-l-4 prose-h2:border-yellow-400 prose-h2:pl-4
              prose-h3:text-xl prose-h3:mt-10 prose-h3:mb-4 prose-h3:text-zinc-100
              prose-strong:text-white prose-strong:font-semibold
              prose-a:text-blue-400 prose-a:underline prose-a:decoration-blue-400/40 hover:prose-a:decoration-blue-400 prose-a:transition-all prose-a:break-words hover:prose-a:text-blue-300
              prose-blockquote:border-l-4 prose-blockquote:border-yellow-400 prose-blockquote:pl-8 prose-blockquote:pr-8 prose-blockquote:py-6 prose-blockquote:italic prose-blockquote:bg-zinc-900/40 prose-blockquote:rounded-r-lg prose-blockquote:my-8 prose-blockquote:text-zinc-300 prose-blockquote:text-lg prose-blockquote:font-light
              prose-ul:list-disc prose-ul:pl-6 prose-ul:space-y-2 prose-ol:list-decimal prose-ol:pl-6 prose-ol:space-y-2
              prose-li:text-zinc-200 prose-li:leading-relaxed
              prose-img:rounded-lg prose-img:shadow-lg prose-img:border prose-img:border-zinc-800/60 prose-img:my-8
              prose-figure:my-10
              break-words`,children:e.jsx("div",{className:`space-y-4 leading-relaxed
                [&_ul]:list-disc [&_ul]:pl-6 [&_ol]:list-decimal [&_ol]:pl-6
                [&_li]:my-1
                [&_h2]:mt-8 [&_h2]:mb-3 [&_h2]:text-2xl [&_h2]:font-semibold [&_h2]:text-zinc-100
                [&_h3]:mt-8 [&_h3]:mb-3 [&_h3]:text-xl [&_h3]:font-semibold [&_h3]:text-zinc-100
                [&_h3]:border-l-4 [&_h3]:border-blue-500 [&_h3]:pl-3
                [&_blockquote]:border-l-4 [&_blockquote]:border-zinc-700 [&_blockquote]:pl-4 [&_blockquote]:italic
                [&_a]:text-blue-400 [&_a]:no-underline hover:[&_a]:underline
                [&_a[target='_blank']]:after:content-['_‚Üó'] [&_a[target='_blank']]:after:text-xs`,dangerouslySetInnerHTML:{__html:t.contenido}})}),e.jsx(se,{variant:"compact"}),E(),e.jsx("div",{className:"my-10 h-px bg-zinc-800/60"}),A(),e.jsxs("section",{id:"comentarios",className:"mt-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(je,{className:"w-5 h-5 text-white/90"}),e.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"Comentarios"})]}),e.jsx(ke,{contextType:"news",targetId:n,className:"mt-4"})]})]})}),e.jsx(Ne,{})]})}export{Fe as default};
